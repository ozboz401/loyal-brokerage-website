var m4=Object.defineProperty;var p4=(e,t,r)=>t in e?m4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Am=(e,t,r)=>p4(e,typeof t!="symbol"?t+"":t,r);function ck(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var uk={exports:{}},Kf={},dk={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),g4=Symbol.for("react.portal"),y4=Symbol.for("react.fragment"),v4=Symbol.for("react.strict_mode"),x4=Symbol.for("react.profiler"),b4=Symbol.for("react.provider"),w4=Symbol.for("react.context"),_4=Symbol.for("react.forward_ref"),j4=Symbol.for("react.suspense"),S4=Symbol.for("react.memo"),N4=Symbol.for("react.lazy"),qw=Symbol.iterator;function E4(e){return e===null||typeof e!="object"?null:(e=qw&&e[qw]||e["@@iterator"],typeof e=="function"?e:null)}var fk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hk=Object.assign,mk={};function eo(e,t,r){this.props=e,this.context=t,this.refs=mk,this.updater=r||fk}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pk(){}pk.prototype=eo.prototype;function zy(e,t,r){this.props=e,this.context=t,this.refs=mk,this.updater=r||fk}var Uy=zy.prototype=new pk;Uy.constructor=zy;hk(Uy,eo.prototype);Uy.isPureReactComponent=!0;var Kw=Array.isArray,gk=Object.prototype.hasOwnProperty,Vy={current:null},yk={key:!0,ref:!0,__self:!0,__source:!0};function vk(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)gk.call(t,n)&&!yk.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nc,type:e,key:a,ref:s,props:i,_owner:Vy.current}}function k4(e,t){return{$$typeof:nc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wy(e){return typeof e=="object"&&e!==null&&e.$$typeof===nc}function P4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hw=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?P4(""+e.key):t.toString(36)}function Lu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nc:case g4:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Cm(s,0):n,Kw(i)?(r="",e!=null&&(r=e.replace(Hw,"$&/")+"/"),Lu(i,t,r,"",function(u){return u})):i!=null&&(Wy(i)&&(i=k4(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Kw(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+Cm(a,o);s+=Lu(a,t,r,l,i)}else if(l=E4(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+Cm(a,o++),s+=Lu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Bc(e,t,r){if(e==null)return e;var n=[],i=0;return Lu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function A4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},$u={transition:null},C4={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Vy};function xk(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Bc,forEach:function(e,t,r){Bc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bc(e,function(){t++}),t},toArray:function(e){return Bc(e,function(t){return t})||[]},only:function(e){if(!Wy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=eo;ee.Fragment=y4;ee.Profiler=x4;ee.PureComponent=zy;ee.StrictMode=v4;ee.Suspense=j4;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C4;ee.act=xk;ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hk({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Vy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)gk.call(t,l)&&!yk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:nc,type:e.type,key:i,ref:a,props:n,_owner:s}};ee.createContext=function(e){return e={$$typeof:w4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b4,_context:e},e.Consumer=e};ee.createElement=vk;ee.createFactory=function(e){var t=vk.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:_4,render:e}};ee.isValidElement=Wy;ee.lazy=function(e){return{$$typeof:N4,_payload:{_status:-1,_result:e},_init:A4}};ee.memo=function(e,t){return{$$typeof:S4,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=$u.transition;$u.transition={};try{e()}finally{$u.transition=t}};ee.unstable_act=xk;ee.useCallback=function(e,t){return Ft.current.useCallback(e,t)};ee.useContext=function(e){return Ft.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ft.current.useEffect(e,t)};ee.useId=function(){return Ft.current.useId()};ee.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};ee.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ft.current.useMemo(e,t)};ee.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};ee.useRef=function(e){return Ft.current.useRef(e)};ee.useState=function(e){return Ft.current.useState(e)};ee.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};ee.useTransition=function(){return Ft.current.useTransition()};ee.version="18.3.1";dk.exports=ee;var y=dk.exports;const bk=yn(y),wk=ck({__proto__:null,default:bk},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4=y,T4=Symbol.for("react.element"),I4=Symbol.for("react.fragment"),R4=Object.prototype.hasOwnProperty,M4=O4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D4={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)R4.call(t,n)&&!D4.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:T4,type:e,key:a,ref:s,props:i,_owner:M4.current}}Kf.Fragment=I4;Kf.jsx=_k;Kf.jsxs=_k;uk.exports=Kf;var c=uk.exports,Zp={},jk={exports:{}},pr={},Sk={exports:{}},Nk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var L=P.length;P.push(I);e:for(;0<L;){var Q=L-1>>>1,se=P[Q];if(0<i(se,I))P[Q]=I,P[L]=se,L=Q;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var I=P[0],L=P.pop();if(L!==I){P[0]=L;e:for(var Q=0,se=P.length,zt=se>>>1;Q<zt;){var ze=2*(Q+1)-1,Mr=P[ze],tr=ze+1,Ye=P[tr];if(0>i(Mr,L))tr<se&&0>i(Ye,Mr)?(P[Q]=Ye,P[tr]=L,Q=tr):(P[Q]=Mr,P[ze]=L,Q=ze);else if(tr<se&&0>i(Ye,L))P[Q]=Ye,P[tr]=L,Q=tr;else break e}}return I}function i(P,I){var L=P.sortIndex-I.sortIndex;return L!==0?L:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=P)n(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(u)}}function j(P){if(x=!1,w(P),!p)if(r(l)!==null)p=!0,D(_);else{var I=r(u);I!==null&&R(j,I.startTime-P)}}function _(P,I){p=!1,x&&(x=!1,g(E),E=-1),m=!0;var L=h;try{for(w(I),f=r(l);f!==null&&(!(f.expirationTime>I)||P&&!C());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var se=Q(f.expirationTime<=I);I=e.unstable_now(),typeof se=="function"?f.callback=se:f===r(l)&&n(l),w(I)}else n(l);f=r(l)}if(f!==null)var zt=!0;else{var ze=r(u);ze!==null&&R(j,ze.startTime-I),zt=!1}return zt}finally{f=null,h=L,m=!1}}var S=!1,N=null,E=-1,A=5,O=-1;function C(){return!(e.unstable_now()-O<A)}function M(){if(N!==null){var P=e.unstable_now();O=P;var I=!0;try{I=N(!0,P)}finally{I?K():(S=!1,N=null)}}else S=!1}var K;if(typeof b=="function")K=function(){b(M)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=M,K=function(){z.postMessage(null)}}else K=function(){v(M,0)};function D(P){N=P,S||(S=!0,K())}function R(P,I){E=v(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,D(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var L=h;h=I;try{return P()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=h;h=P;try{return I()}finally{h=L}},e.unstable_scheduleCallback=function(P,I,L){var Q=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,P={id:d++,callback:I,priorityLevel:P,startTime:L,expirationTime:se,sortIndex:-1},L>Q?(P.sortIndex=L,t(u,P),r(l)===null&&P===r(u)&&(x?(g(E),E=-1):x=!0,R(j,L-Q))):(P.sortIndex=se,t(l,P),p||m||(p=!0,D(_))),P},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(P){var I=h;return function(){var L=h;h=I;try{return P.apply(this,arguments)}finally{h=L}}}})(Nk);Sk.exports=Nk;var L4=Sk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $4=y,hr=L4;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ek=new Set,fl={};function Ra(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(fl[e]=t,e=0;e<t.length;e++)Ek.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=Object.prototype.hasOwnProperty,F4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gw={},Yw={};function B4(e){return eg.call(Yw,e)?!0:eg.call(Gw,e)?!1:F4.test(e)?Yw[e]=!0:(Gw[e]=!0,!1)}function z4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U4(e,t,r,n){if(t===null||typeof t>"u"||z4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Ky(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qy,Ky);wt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qy,Ky);wt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qy,Ky);wt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hy(e,t,r,n){var i=wt.hasOwnProperty(t)?wt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U4(t,r,i,n)&&(r=null),n||i===null?B4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Ak=Symbol.for("react.offscreen"),Xw=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=Xw&&e[Xw]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Om;function zo(e){if(Om===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Om=t&&t[1]||""}return`
`+Om+e}var Tm=!1;function Im(e,t){if(!e||Tm)return"";Tm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Tm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zo(e):""}function V4(e){switch(e.tag){case 5:return zo(e.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return e=Im(e.type,!1),e;case 11:return e=Im(e.type.render,!1),e;case 1:return e=Im(e.type,!0),e;default:return""}}function ig(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rs:return"Fragment";case ts:return"Portal";case tg:return"Profiler";case Gy:return"StrictMode";case rg:return"Suspense";case ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pk:return(e.displayName||"Context")+".Consumer";case kk:return(e._context.displayName||"Context")+".Provider";case Yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xy:return t=e.displayName||null,t!==null?t:ig(e.type)||"Memo";case ai:t=e._payload,e=e._init;try{return ig(e(t))}catch{}}return null}function W4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ig(t);case 8:return t===Gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ck(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q4(e){var t=Ck(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uc(e){e._valueTracker||(e._valueTracker=q4(e))}function Ok(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ck(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ag(e,t){var r=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tk(e,t){t=t.checked,t!=null&&Hy(e,"checked",t,!1)}function sg(e,t){Tk(e,t);var r=Pi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,r):t.hasOwnProperty("defaultValue")&&og(e,t.type,Pi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function og(e,t,r){(t!=="number"||ld(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Uo=Array.isArray;function bs(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Uo(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pi(r)}}function Ik(e,t){var r=Pi(t.value),n=Pi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function e1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vc,Mk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K4=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){K4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function Dk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function Lk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Dk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var H4=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(e,t){if(t){if(H4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function dg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function Jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hg=null,ws=null,_s=null;function t1(e){if(e=sc(e)){if(typeof hg!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Jf(t),hg(e.stateNode,e.type,t))}}function $k(e){ws?_s?_s.push(e):_s=[e]:ws=e}function Fk(){if(ws){var e=ws,t=_s;if(_s=ws=null,t1(e),t)for(e=0;e<t.length;e++)t1(t[e])}}function Bk(e,t){return e(t)}function zk(){}var Rm=!1;function Uk(e,t,r){if(Rm)return e(t,r);Rm=!0;try{return Bk(e,t,r)}finally{Rm=!1,(ws!==null||_s!==null)&&(zk(),Fk())}}function ml(e,t){var r=e.stateNode;if(r===null)return null;var n=Jf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var mg=!1;if(In)try{var So={};Object.defineProperty(So,"passive",{get:function(){mg=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{mg=!1}function G4(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Jo=!1,cd=null,ud=!1,pg=null,Y4={onError:function(e){Jo=!0,cd=e}};function X4(e,t,r,n,i,a,s,o,l){Jo=!1,cd=null,G4.apply(Y4,arguments)}function J4(e,t,r,n,i,a,s,o,l){if(X4.apply(this,arguments),Jo){if(Jo){var u=cd;Jo=!1,cd=null}else throw Error(F(198));ud||(ud=!0,pg=u)}}function Ma(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function r1(e){if(Ma(e)!==e)throw Error(F(188))}function Q4(e){var t=e.alternate;if(!t){if(t=Ma(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return r1(i),e;if(a===n)return r1(i),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Wk(e){return e=Q4(e),e!==null?qk(e):null}function qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qk(e);if(t!==null)return t;e=e.sibling}return null}var Kk=hr.unstable_scheduleCallback,n1=hr.unstable_cancelCallback,Z4=hr.unstable_shouldYield,eL=hr.unstable_requestPaint,$e=hr.unstable_now,tL=hr.unstable_getCurrentPriorityLevel,Qy=hr.unstable_ImmediatePriority,Hk=hr.unstable_UserBlockingPriority,dd=hr.unstable_NormalPriority,rL=hr.unstable_LowPriority,Gk=hr.unstable_IdlePriority,Hf=null,cn=null;function nL(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:sL,iL=Math.log,aL=Math.LN2;function sL(e){return e>>>=0,e===0?32:31-(iL(e)/aL|0)|0}var Wc=64,qc=4194304;function Vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Vo(o):(a&=s,a!==0&&(n=Vo(a)))}else s=r&~i,s!==0?n=Vo(s):a!==0&&(n=Vo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gr(t),i=1<<r,n|=e[r],t&=~i;return n}function oL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Gr(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=oL(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function gg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yk(){var e=Wc;return Wc<<=1,!(Wc&4194240)&&(Wc=64),e}function Mm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ic(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=r}function cL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Gr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Zy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ce=0;function Xk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jk,ev,Qk,Zk,eP,yg=!1,Kc=[],yi=null,vi=null,xi=null,pl=new Map,gl=new Map,ci=[],uL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(e,t){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function No(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sc(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dL(e,t,r,n,i){switch(t){case"focusin":return yi=No(yi,e,t,r,n,i),!0;case"dragenter":return vi=No(vi,e,t,r,n,i),!0;case"mouseover":return xi=No(xi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return pl.set(a,No(pl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,gl.set(a,No(gl.get(a)||null,e,t,r,n,i)),!0}return!1}function tP(e){var t=sa(e.target);if(t!==null){var r=Ma(t);if(r!==null){if(t=r.tag,t===13){if(t=Vk(r),t!==null){e.blockedOn=t,eP(e.priority,function(){Qk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fg=n,r.target.dispatchEvent(n),fg=null}else return t=sc(r),t!==null&&ev(t),e.blockedOn=r,!1;t.shift()}return!0}function a1(e,t,r){Fu(e)&&r.delete(t)}function fL(){yg=!1,yi!==null&&Fu(yi)&&(yi=null),vi!==null&&Fu(vi)&&(vi=null),xi!==null&&Fu(xi)&&(xi=null),pl.forEach(a1),gl.forEach(a1)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,yg||(yg=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,fL)))}function yl(e){function t(i){return Eo(i,e)}if(0<Kc.length){Eo(Kc[0],e);for(var r=1;r<Kc.length;r++){var n=Kc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(yi!==null&&Eo(yi,e),vi!==null&&Eo(vi,e),xi!==null&&Eo(xi,e),pl.forEach(t),gl.forEach(t),r=0;r<ci.length;r++)n=ci[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ci.length&&(r=ci[0],r.blockedOn===null);)tP(r),r.blockedOn===null&&ci.shift()}var js=Kn.ReactCurrentBatchConfig,hd=!0;function hL(e,t,r,n){var i=ce,a=js.transition;js.transition=null;try{ce=1,tv(e,t,r,n)}finally{ce=i,js.transition=a}}function mL(e,t,r,n){var i=ce,a=js.transition;js.transition=null;try{ce=4,tv(e,t,r,n)}finally{ce=i,js.transition=a}}function tv(e,t,r,n){if(hd){var i=vg(e,t,r,n);if(i===null)qm(e,t,n,md,r),i1(e,n);else if(dL(i,e,t,r,n))n.stopPropagation();else if(i1(e,n),t&4&&-1<uL.indexOf(e)){for(;i!==null;){var a=sc(i);if(a!==null&&Jk(a),a=vg(e,t,r,n),a===null&&qm(e,t,n,md,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else qm(e,t,n,null,r)}}var md=null;function vg(e,t,r,n){if(md=null,e=Jy(n),e=sa(e),e!==null)if(t=Ma(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return md=e,null}function rP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tL()){case Qy:return 1;case Hk:return 4;case dd:case rL:return 16;case Gk:return 536870912;default:return 16}default:return 16}}var mi=null,rv=null,Bu=null;function nP(){if(Bu)return Bu;var e,t=rv,r=t.length,n,i="value"in mi?mi.value:mi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Bu=i.slice(e,1<n?1-n:void 0)}function zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hc(){return!0}function s1(){return!1}function gr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hc:s1,this.isPropagationStopped=s1,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=gr(to),ac=Te({},to,{view:0,detail:0}),pL=gr(ac),Dm,Lm,ko,Gf=Te({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Dm=e.screenX-ko.screenX,Lm=e.screenY-ko.screenY):Lm=Dm=0,ko=e),Dm)},movementY:function(e){return"movementY"in e?e.movementY:Lm}}),o1=gr(Gf),gL=Te({},Gf,{dataTransfer:0}),yL=gr(gL),vL=Te({},ac,{relatedTarget:0}),$m=gr(vL),xL=Te({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),bL=gr(xL),wL=Te({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_L=gr(wL),jL=Te({},to,{data:0}),l1=gr(jL),SL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EL[e])?!!t[e]:!1}function iv(){return kL}var PL=Te({},ac,{key:function(e){if(e.key){var t=SL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iv,charCode:function(e){return e.type==="keypress"?zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AL=gr(PL),CL=Te({},Gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c1=gr(CL),OL=Te({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iv}),TL=gr(OL),IL=Te({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),RL=gr(IL),ML=Te({},Gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DL=gr(ML),LL=[9,13,27,32],av=In&&"CompositionEvent"in window,Qo=null;In&&"documentMode"in document&&(Qo=document.documentMode);var $L=In&&"TextEvent"in window&&!Qo,iP=In&&(!av||Qo&&8<Qo&&11>=Qo),u1=" ",d1=!1;function aP(e,t){switch(e){case"keyup":return LL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function FL(e,t){switch(e){case"compositionend":return sP(t);case"keypress":return t.which!==32?null:(d1=!0,u1);case"textInput":return e=t.data,e===u1&&d1?null:e;default:return null}}function BL(e,t){if(ns)return e==="compositionend"||!av&&aP(e,t)?(e=nP(),Bu=rv=mi=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iP&&t.locale!=="ko"?null:t.data;default:return null}}var zL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zL[e.type]:t==="textarea"}function oP(e,t,r,n){$k(n),t=pd(t,"onChange"),0<t.length&&(r=new nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zo=null,vl=null;function UL(e){vP(e,0)}function Yf(e){var t=ss(e);if(Ok(t))return e}function VL(e,t){if(e==="change")return t}var lP=!1;if(In){var Fm;if(In){var Bm="oninput"in document;if(!Bm){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Bm=typeof h1.oninput=="function"}Fm=Bm}else Fm=!1;lP=Fm&&(!document.documentMode||9<document.documentMode)}function m1(){Zo&&(Zo.detachEvent("onpropertychange",cP),vl=Zo=null)}function cP(e){if(e.propertyName==="value"&&Yf(vl)){var t=[];oP(t,vl,e,Jy(e)),Uk(UL,t)}}function WL(e,t,r){e==="focusin"?(m1(),Zo=t,vl=r,Zo.attachEvent("onpropertychange",cP)):e==="focusout"&&m1()}function qL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yf(vl)}function KL(e,t){if(e==="click")return Yf(t)}function HL(e,t){if(e==="input"||e==="change")return Yf(t)}function GL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:GL;function xl(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!eg.call(t,i)||!Jr(e[i],t[i]))return!1}return!0}function p1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g1(e,t){var r=p1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p1(r)}}function uP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dP(){for(var e=window,t=ld();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ld(e.document)}return t}function sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YL(e){var t=dP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uP(r.ownerDocument.documentElement,r)){if(n!==null&&sv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=g1(r,a);var s=g1(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XL=In&&"documentMode"in document&&11>=document.documentMode,is=null,xg=null,el=null,bg=!1;function y1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bg||is==null||is!==ld(n)||(n=is,"selectionStart"in n&&sv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),el&&xl(el,n)||(el=n,n=pd(xg,"onSelect"),0<n.length&&(t=new nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=is)))}function Gc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var as={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},zm={},fP={};In&&(fP=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Xf(e){if(zm[e])return zm[e];if(!as[e])return e;var t=as[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fP)return zm[e]=t[r];return e}var hP=Xf("animationend"),mP=Xf("animationiteration"),pP=Xf("animationstart"),gP=Xf("transitionend"),yP=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){yP.set(e,t),Ra(t,[e])}for(var Um=0;Um<v1.length;Um++){var Vm=v1[Um],JL=Vm.toLowerCase(),QL=Vm[0].toUpperCase()+Vm.slice(1);Mi(JL,"on"+QL)}Mi(hP,"onAnimationEnd");Mi(mP,"onAnimationIteration");Mi(pP,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(gP,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function x1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,J4(n,t,void 0,e),e.currentTarget=null}function vP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;x1(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;x1(i,o,u),a=l}}}if(ud)throw e=pg,ud=!1,pg=null,e}function ve(e,t){var r=t[Ng];r===void 0&&(r=t[Ng]=new Set);var n=e+"__bubble";r.has(n)||(xP(t,e,2,!1),r.add(n))}function Wm(e,t,r){var n=0;t&&(n|=4),xP(r,e,n,t)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[Yc]){e[Yc]=!0,Ek.forEach(function(r){r!=="selectionchange"&&(ZL.has(r)||Wm(r,!1,e),Wm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yc]||(t[Yc]=!0,Wm("selectionchange",!1,t))}}function xP(e,t,r,n){switch(rP(t)){case 1:var i=hL;break;case 4:i=mL;break;default:i=tv}r=i.bind(null,t,r,e),i=void 0,!mg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function qm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=sa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}Uk(function(){var u=a,d=Jy(r),f=[];e:{var h=yP.get(e);if(h!==void 0){var m=nv,p=e;switch(e){case"keypress":if(zu(r)===0)break e;case"keydown":case"keyup":m=AL;break;case"focusin":p="focus",m=$m;break;case"focusout":p="blur",m=$m;break;case"beforeblur":case"afterblur":m=$m;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=o1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TL;break;case hP:case mP:case pP:m=bL;break;case gP:m=RL;break;case"scroll":m=pL;break;case"wheel":m=DL;break;case"copy":case"cut":case"paste":m=_L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=c1}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=ml(b,g),j!=null&&x.push(wl(b,j,w)))),v)break;b=b.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==fg&&(p=r.relatedTarget||r.fromElement)&&(sa(p)||p[Rn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?sa(p):null,p!==null&&(v=Ma(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=o1,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=c1,j="onPointerLeave",g="onPointerEnter",b="pointer"),v=m==null?h:ss(m),w=p==null?h:ss(p),h=new x(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,sa(d)===u&&(x=new x(g,b+"enter",p,r,d),x.target=w,x.relatedTarget=v,j=x),v=j,m&&p)t:{for(x=m,g=p,b=0,w=x;w;w=za(w))b++;for(w=0,j=g;j;j=za(j))w++;for(;0<b-w;)x=za(x),b--;for(;0<w-b;)g=za(g),w--;for(;b--;){if(x===g||g!==null&&x===g.alternate)break t;x=za(x),g=za(g)}x=null}else x=null;m!==null&&b1(f,h,m,x,!1),p!==null&&v!==null&&b1(f,v,p,x,!0)}}e:{if(h=u?ss(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=VL;else if(f1(h))if(lP)_=HL;else{_=qL;var S=WL}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=KL);if(_&&(_=_(e,u))){oP(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&og(h,"number",h.value)}switch(S=u?ss(u):window,e){case"focusin":(f1(S)||S.contentEditable==="true")&&(is=S,xg=u,el=null);break;case"focusout":el=xg=is=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,y1(f,r,d);break;case"selectionchange":if(XL)break;case"keydown":case"keyup":y1(f,r,d)}var N;if(av)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ns?aP(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(iP&&r.locale!=="ko"&&(ns||E!=="onCompositionStart"?E==="onCompositionEnd"&&ns&&(N=nP()):(mi=d,rv="value"in mi?mi.value:mi.textContent,ns=!0)),S=pd(u,E),0<S.length&&(E=new l1(E,e,null,r,d),f.push({event:E,listeners:S}),N?E.data=N:(N=sP(r),N!==null&&(E.data=N)))),(N=$L?FL(e,r):BL(e,r))&&(u=pd(u,"onBeforeInput"),0<u.length&&(d=new l1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}vP(f,t)})}function wl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ml(e,r),a!=null&&n.unshift(wl(e,a,i)),a=ml(e,t),a!=null&&n.push(wl(e,a,i))),e=e.return}return n}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function b1(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ml(r,a),l!=null&&s.unshift(wl(r,l,o))):i||(l=ml(r,a),l!=null&&s.push(wl(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var e$=/\r\n?/g,t$=/\u0000|\uFFFD/g;function w1(e){return(typeof e=="string"?e:""+e).replace(e$,`
`).replace(t$,"")}function Xc(e,t,r){if(t=w1(t),w1(e)!==t&&r)throw Error(F(425))}function gd(){}var wg=null,_g=null;function jg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,r$=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,n$=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(e){return _1.resolve(null).then(e).catch(i$)}:Sg;function i$(e){setTimeout(function(){throw e})}function Km(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),yl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);yl(t)}function bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),on="__reactFiber$"+ro,_l="__reactProps$"+ro,Rn="__reactContainer$"+ro,Ng="__reactEvents$"+ro,a$="__reactListeners$"+ro,s$="__reactHandles$"+ro;function sa(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rn]||r[on]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=j1(e);e!==null;){if(r=e[on])return r;e=j1(e)}return t}e=r,r=e.parentNode}return null}function sc(e){return e=e[on]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Jf(e){return e[_l]||null}var Eg=[],os=-1;function Di(e){return{current:e}}function be(e){0>os||(e.current=Eg[os],Eg[os]=null,os--)}function ye(e,t){os++,Eg[os]=e.current,e.current=t}var Ai={},Ct=Di(Ai),Xt=Di(!1),_a=Ai;function Ts(e,t){var r=e.type.contextTypes;if(!r)return Ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function yd(){be(Xt),be(Ct)}function S1(e,t,r){if(Ct.current!==Ai)throw Error(F(168));ye(Ct,t),ye(Xt,r)}function bP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(F(108,W4(e)||"Unknown",i));return Te({},r,n)}function vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,_a=Ct.current,ye(Ct,e),ye(Xt,Xt.current),!0}function N1(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=bP(e,t,_a),n.__reactInternalMemoizedMergedChildContext=e,be(Xt),be(Ct),ye(Ct,e)):be(Xt),ye(Xt,r)}var bn=null,Qf=!1,Hm=!1;function wP(e){bn===null?bn=[e]:bn.push(e)}function o$(e){Qf=!0,wP(e)}function Li(){if(!Hm&&bn!==null){Hm=!0;var e=0,t=ce;try{var r=bn;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bn=null,Qf=!1}catch(i){throw bn!==null&&(bn=bn.slice(e+1)),Kk(Qy,Li),i}finally{ce=t,Hm=!1}}return null}var ls=[],cs=0,xd=null,bd=0,wr=[],_r=0,ja=null,Sn=1,Nn="";function Yi(e,t){ls[cs++]=bd,ls[cs++]=xd,xd=e,bd=t}function _P(e,t,r){wr[_r++]=Sn,wr[_r++]=Nn,wr[_r++]=ja,ja=e;var n=Sn;e=Nn;var i=32-Gr(n)-1;n&=~(1<<i),r+=1;var a=32-Gr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Sn=1<<32-Gr(t)+i|r<<i|n,Nn=a+e}else Sn=1<<a|r<<i|n,Nn=e}function ov(e){e.return!==null&&(Yi(e,1),_P(e,1,0))}function lv(e){for(;e===xd;)xd=ls[--cs],ls[cs]=null,bd=ls[--cs],ls[cs]=null;for(;e===ja;)ja=wr[--_r],wr[_r]=null,Nn=wr[--_r],wr[_r]=null,Sn=wr[--_r],wr[_r]=null}var dr=null,cr=null,je=!1,Wr=null;function jP(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function E1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dr=e,cr=bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dr=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ja!==null?{id:Sn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dr=e,cr=null,!0):!1;default:return!1}}function kg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pg(e){if(je){var t=cr;if(t){var r=t;if(!E1(e,t)){if(kg(e))throw Error(F(418));t=bi(r.nextSibling);var n=dr;t&&E1(e,t)?jP(n,r):(e.flags=e.flags&-4097|2,je=!1,dr=e)}}else{if(kg(e))throw Error(F(418));e.flags=e.flags&-4097|2,je=!1,dr=e}}}function k1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function Jc(e){if(e!==dr)return!1;if(!je)return k1(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jg(e.type,e.memoizedProps)),t&&(t=cr)){if(kg(e))throw SP(),Error(F(418));for(;t;)jP(e,t),t=bi(t.nextSibling)}if(k1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cr=bi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=dr?bi(e.stateNode.nextSibling):null;return!0}function SP(){for(var e=cr;e;)e=bi(e.nextSibling)}function Is(){cr=dr=null,je=!1}function cv(e){Wr===null?Wr=[e]:Wr.push(e)}var l$=Kn.ReactCurrentBatchConfig;function Po(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Qc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function P1(e){var t=e._init;return t(e._payload)}function NP(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=Si(g,b),g.index=0,g.sibling=null,g}function a(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,b,w,j){return b===null||b.tag!==6?(b=ep(w,g.mode,j),b.return=g,b):(b=i(b,w),b.return=g,b)}function l(g,b,w,j){var _=w.type;return _===rs?d(g,b,w.props.children,j,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ai&&P1(_)===b.type)?(j=i(b,w.props),j.ref=Po(g,b,w),j.return=g,j):(j=Gu(w.type,w.key,w.props,null,g.mode,j),j.ref=Po(g,b,w),j.return=g,j)}function u(g,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=tp(w,g.mode,j),b.return=g,b):(b=i(b,w.children||[]),b.return=g,b)}function d(g,b,w,j,_){return b===null||b.tag!==7?(b=ga(w,g.mode,j,_),b.return=g,b):(b=i(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ep(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:return w=Gu(b.type,b.key,b.props,null,g.mode,w),w.ref=Po(g,null,b),w.return=g,w;case ts:return b=tp(b,g.mode,w),b.return=g,b;case ai:var j=b._init;return f(g,j(b._payload),w)}if(Uo(b)||jo(b))return b=ga(b,g.mode,w,null),b.return=g,b;Qc(g,b)}return null}function h(g,b,w,j){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zc:return w.key===_?l(g,b,w,j):null;case ts:return w.key===_?u(g,b,w,j):null;case ai:return _=w._init,h(g,b,_(w._payload),j)}if(Uo(w)||jo(w))return _!==null?null:d(g,b,w,j,null);Qc(g,w)}return null}function m(g,b,w,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,o(b,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zc:return g=g.get(j.key===null?w:j.key)||null,l(b,g,j,_);case ts:return g=g.get(j.key===null?w:j.key)||null,u(b,g,j,_);case ai:var S=j._init;return m(g,b,w,S(j._payload),_)}if(Uo(j)||jo(j))return g=g.get(w)||null,d(b,g,j,_,null);Qc(b,j)}return null}function p(g,b,w,j){for(var _=null,S=null,N=b,E=b=0,A=null;N!==null&&E<w.length;E++){N.index>E?(A=N,N=null):A=N.sibling;var O=h(g,N,w[E],j);if(O===null){N===null&&(N=A);break}e&&N&&O.alternate===null&&t(g,N),b=a(O,b,E),S===null?_=O:S.sibling=O,S=O,N=A}if(E===w.length)return r(g,N),je&&Yi(g,E),_;if(N===null){for(;E<w.length;E++)N=f(g,w[E],j),N!==null&&(b=a(N,b,E),S===null?_=N:S.sibling=N,S=N);return je&&Yi(g,E),_}for(N=n(g,N);E<w.length;E++)A=m(N,g,E,w[E],j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),b=a(A,b,E),S===null?_=A:S.sibling=A,S=A);return e&&N.forEach(function(C){return t(g,C)}),je&&Yi(g,E),_}function x(g,b,w,j){var _=jo(w);if(typeof _!="function")throw Error(F(150));if(w=_.call(w),w==null)throw Error(F(151));for(var S=_=null,N=b,E=b=0,A=null,O=w.next();N!==null&&!O.done;E++,O=w.next()){N.index>E?(A=N,N=null):A=N.sibling;var C=h(g,N,O.value,j);if(C===null){N===null&&(N=A);break}e&&N&&C.alternate===null&&t(g,N),b=a(C,b,E),S===null?_=C:S.sibling=C,S=C,N=A}if(O.done)return r(g,N),je&&Yi(g,E),_;if(N===null){for(;!O.done;E++,O=w.next())O=f(g,O.value,j),O!==null&&(b=a(O,b,E),S===null?_=O:S.sibling=O,S=O);return je&&Yi(g,E),_}for(N=n(g,N);!O.done;E++,O=w.next())O=m(N,g,E,O.value,j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?E:O.key),b=a(O,b,E),S===null?_=O:S.sibling=O,S=O);return e&&N.forEach(function(M){return t(g,M)}),je&&Yi(g,E),_}function v(g,b,w,j){if(typeof w=="object"&&w!==null&&w.type===rs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zc:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===rs){if(S.tag===7){r(g,S.sibling),b=i(S,w.props.children),b.return=g,g=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ai&&P1(_)===S.type){r(g,S.sibling),b=i(S,w.props),b.ref=Po(g,S,w),b.return=g,g=b;break e}r(g,S);break}else t(g,S);S=S.sibling}w.type===rs?(b=ga(w.props.children,g.mode,j,w.key),b.return=g,g=b):(j=Gu(w.type,w.key,w.props,null,g.mode,j),j.ref=Po(g,b,w),j.return=g,g=j)}return s(g);case ts:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(g,b.sibling),b=i(b,w.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=tp(w,g.mode,j),b.return=g,g=b}return s(g);case ai:return S=w._init,v(g,b,S(w._payload),j)}if(Uo(w))return p(g,b,w,j);if(jo(w))return x(g,b,w,j);Qc(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(g,b.sibling),b=i(b,w),b.return=g,g=b):(r(g,b),b=ep(w,g.mode,j),b.return=g,g=b),s(g)):r(g,b)}return v}var Rs=NP(!0),EP=NP(!1),wd=Di(null),_d=null,us=null,uv=null;function dv(){uv=us=_d=null}function fv(e){var t=wd.current;be(wd),e._currentValue=t}function Ag(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ss(e,t){_d=e,uv=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(uv!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(_d===null)throw Error(F(308));us=e,_d.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var oa=null;function hv(e){oa===null?oa=[e]:oa.push(e)}function kP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,hv(t)):(r.next=i.next,i.next=r),t.interleaved=r,Mn(e,n)}function Mn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var si=!1;function mv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Mn(e,r)}return i=n.interleaved,i===null?(t.next=t,hv(n)):(t.next=i.next,i.next=t),n.interleaved=t,Mn(e,r)}function Uu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zy(e,r)}}function A1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jd(e,t,r,n){var i=e.updateQueue;si=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Te({},f,h);break e;case 2:si=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Na|=s,e.lanes=s,e.memoizedState=f}}function C1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var oc={},un=Di(oc),jl=Di(oc),Sl=Di(oc);function la(e){if(e===oc)throw Error(F(174));return e}function pv(e,t){switch(ye(Sl,t),ye(jl,e),ye(un,oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cg(t,e)}be(un),ye(un,t)}function Ms(){be(un),be(jl),be(Sl)}function AP(e){la(Sl.current);var t=la(un.current),r=cg(t,e.type);t!==r&&(ye(jl,e),ye(un,r))}function gv(e){jl.current===e&&(be(un),be(jl))}var Ae=Di(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gm=[];function yv(){for(var e=0;e<Gm.length;e++)Gm[e]._workInProgressVersionPrimary=null;Gm.length=0}var Vu=Kn.ReactCurrentDispatcher,Ym=Kn.ReactCurrentBatchConfig,Sa=0,Oe=null,Je=null,ct=null,Nd=!1,tl=!1,Nl=0,c$=0;function _t(){throw Error(F(321))}function vv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function xv(e,t,r,n,i,a){if(Sa=a,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?h$:m$,e=r(n,i),tl){a=0;do{if(tl=!1,Nl=0,25<=a)throw Error(F(301));a+=1,ct=Je=null,t.updateQueue=null,Vu.current=p$,e=r(n,i)}while(tl)}if(Vu.current=Ed,t=Je!==null&&Je.next!==null,Sa=0,ct=Je=Oe=null,Nd=!1,t)throw Error(F(300));return e}function bv(){var e=Nl!==0;return Nl=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Oe.memoizedState=ct=e:ct=ct.next=e,ct}function Ar(){if(Je===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=ct===null?Oe.memoizedState:ct.next;if(t!==null)ct=t,Je=e;else{if(e===null)throw Error(F(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ct===null?Oe.memoizedState=ct=e:ct=ct.next=e}return ct}function El(e,t){return typeof t=="function"?t(e):t}function Xm(e){var t=Ar(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Je,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Sa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Oe.lanes|=d,Na|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Jr(n,t.memoizedState)||(Ht=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Oe.lanes|=a,Na|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jm(e){var t=Ar(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Jr(a,t.memoizedState)||(Ht=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function CP(){}function OP(e,t){var r=Oe,n=Ar(),i=t(),a=!Jr(n.memoizedState,i);if(a&&(n.memoizedState=i,Ht=!0),n=n.queue,wv(RP.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,kl(9,IP.bind(null,r,n,i,t),void 0,null),dt===null)throw Error(F(349));Sa&30||TP(r,t,i)}return i}function TP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function IP(e,t,r,n){t.value=r,t.getSnapshot=n,MP(t)&&DP(e)}function RP(e,t,r){return r(function(){MP(t)&&DP(e)})}function MP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch{return!0}}function DP(e){var t=Mn(e,1);t!==null&&Yr(t,e,1,-1)}function O1(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=f$.bind(null,Oe,e),[t.memoizedState,e]}function kl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function LP(){return Ar().memoizedState}function Wu(e,t,r,n){var i=an();Oe.flags|=e,i.memoizedState=kl(1|t,r,void 0,n===void 0?null:n)}function Zf(e,t,r,n){var i=Ar();n=n===void 0?null:n;var a=void 0;if(Je!==null){var s=Je.memoizedState;if(a=s.destroy,n!==null&&vv(n,s.deps)){i.memoizedState=kl(t,r,a,n);return}}Oe.flags|=e,i.memoizedState=kl(1|t,r,a,n)}function T1(e,t){return Wu(8390656,8,e,t)}function wv(e,t){return Zf(2048,8,e,t)}function $P(e,t){return Zf(4,2,e,t)}function FP(e,t){return Zf(4,4,e,t)}function BP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zP(e,t,r){return r=r!=null?r.concat([e]):null,Zf(4,4,BP.bind(null,t,e),r)}function _v(){}function UP(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function VP(e,t){var r=Ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function WP(e,t,r){return Sa&21?(Jr(r,t)||(r=Yk(),Oe.lanes|=r,Na|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=r)}function u$(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Ym.transition;Ym.transition={};try{e(!1),t()}finally{ce=r,Ym.transition=n}}function qP(){return Ar().memoizedState}function d$(e,t,r){var n=ji(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KP(e))HP(t,r);else if(r=kP(e,t,r,n),r!==null){var i=Dt();Yr(r,e,n,i),GP(r,t,n)}}function f$(e,t,r){var n=ji(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KP(e))HP(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Jr(o,s)){var l=t.interleaved;l===null?(i.next=i,hv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=kP(e,t,i,n),r!==null&&(i=Dt(),Yr(r,e,n,i),GP(r,t,n))}}function KP(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function HP(e,t){tl=Nd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zy(e,r)}}var Ed={readContext:Pr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},h$={readContext:Pr,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:T1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4194308,4,BP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wu(4,2,e,t)},useMemo:function(e,t){var r=an();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=an();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=d$.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:O1,useDebugValue:_v,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=O1(!1),t=e[0];return e=u$.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,i=an();if(je){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),dt===null)throw Error(F(349));Sa&30||TP(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,T1(RP.bind(null,n,a,e),[e]),n.flags|=2048,kl(9,IP.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=an(),t=dt.identifierPrefix;if(je){var r=Nn,n=Sn;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=c$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m$={readContext:Pr,useCallback:UP,useContext:Pr,useEffect:wv,useImperativeHandle:zP,useInsertionEffect:$P,useLayoutEffect:FP,useMemo:VP,useReducer:Xm,useRef:LP,useState:function(){return Xm(El)},useDebugValue:_v,useDeferredValue:function(e){var t=Ar();return WP(t,Je.memoizedState,e)},useTransition:function(){var e=Xm(El)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:OP,useId:qP,unstable_isNewReconciler:!1},p$={readContext:Pr,useCallback:UP,useContext:Pr,useEffect:wv,useImperativeHandle:zP,useInsertionEffect:$P,useLayoutEffect:FP,useMemo:VP,useReducer:Jm,useRef:LP,useState:function(){return Jm(El)},useDebugValue:_v,useDeferredValue:function(e){var t=Ar();return Je===null?t.memoizedState=e:WP(t,Je.memoizedState,e)},useTransition:function(){var e=Jm(El)[0],t=Ar().memoizedState;return[e,t]},useMutableSource:CP,useSyncExternalStore:OP,useId:qP,unstable_isNewReconciler:!1};function Br(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Cg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eh={isMounted:function(e){return(e=e._reactInternals)?Ma(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=ji(e),a=Pn(n,i);a.payload=t,r!=null&&(a.callback=r),t=wi(e,a,i),t!==null&&(Yr(t,e,i,n),Uu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=ji(e),a=Pn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=wi(e,a,i),t!==null&&(Yr(t,e,i,n),Uu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=ji(e),i=Pn(r,n);i.tag=2,t!=null&&(i.callback=t),t=wi(e,i,n),t!==null&&(Yr(t,e,n,r),Uu(t,e,n))}};function I1(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!xl(r,n)||!xl(i,a):!0}function YP(e,t,r){var n=!1,i=Ai,a=t.contextType;return typeof a=="object"&&a!==null?a=Pr(a):(i=Jt(t)?_a:Ct.current,n=t.contextTypes,a=(n=n!=null)?Ts(e,i):Ai),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function R1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eh.enqueueReplaceState(t,t.state,null)}function Og(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Pr(a):(a=Jt(t)?_a:Ct.current,i.context=Ts(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Cg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eh.enqueueReplaceState(i,i.state,null),jd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,t){try{var r="",n=t;do r+=V4(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var g$=typeof WeakMap=="function"?WeakMap:Map;function XP(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pd||(Pd=!0,Ug=n),Tg(e,t)},r}function JP(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Tg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Tg(e,t),typeof n!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function M1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new g$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=C$.bind(null,e,t,r),t.then(e,e))}function D1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,wi(r,t,1))),r.lanes|=1),e)}var y$=Kn.ReactCurrentOwner,Ht=!1;function Tt(e,t,r,n){t.child=e===null?EP(t,null,r,n):Rs(t,e.child,r,n)}function $1(e,t,r,n,i){r=r.render;var a=t.ref;return Ss(t,i),n=xv(e,t,r,n,a,i),r=bv(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(je&&r&&ov(t),t.flags|=1,Tt(e,t,n,i),t.child)}function F1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Cv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,QP(e,t,a,n,i)):(e=Gu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:xl,r(s,n)&&e.ref===t.ref)return Dn(e,t,i)}return t.flags|=1,e=Si(a,n),e.ref=t.ref,e.return=t,t.child=e}function QP(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(xl(a,n)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Dn(e,t,i)}return Ig(e,t,r,n,i)}function ZP(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(fs,ar),ar|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(fs,ar),ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ye(fs,ar),ar|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ye(fs,ar),ar|=n;return Tt(e,t,i,r),t.child}function eA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ig(e,t,r,n,i){var a=Jt(r)?_a:Ct.current;return a=Ts(t,a),Ss(t,i),r=xv(e,t,r,n,a,i),n=bv(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(je&&n&&ov(t),t.flags|=1,Tt(e,t,r,i),t.child)}function B1(e,t,r,n,i){if(Jt(r)){var a=!0;vd(t)}else a=!1;if(Ss(t,i),t.stateNode===null)qu(e,t),YP(t,r,n),Og(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=Jt(r)?_a:Ct.current,u=Ts(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&R1(t,s,n,u),si=!1;var h=t.memoizedState;s.state=h,jd(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Xt.current||si?(typeof d=="function"&&(Cg(t,r,d,n),l=t.memoizedState),(o=si||I1(t,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,PP(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Br(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=Jt(r)?_a:Ct.current,l=Ts(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&R1(t,s,n,l),si=!1,h=t.memoizedState,s.state=h,jd(t,n,s,i);var p=t.memoizedState;o!==f||h!==p||Xt.current||si?(typeof m=="function"&&(Cg(t,r,m,n),p=t.memoizedState),(u=si||I1(t,r,u,n,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Rg(e,t,r,n,a,i)}function Rg(e,t,r,n,i,a){eA(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&N1(t,r,!1),Dn(e,t,a);n=t.stateNode,y$.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Rs(t,e.child,null,a),t.child=Rs(t,null,o,a)):Tt(e,t,o,a),t.memoizedState=n.state,i&&N1(t,r,!0),t.child}function tA(e){var t=e.stateNode;t.pendingContext?S1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&S1(e,t.context,!1),pv(e,t.containerInfo)}function z1(e,t,r,n,i){return Is(),cv(i),t.flags|=256,Tt(e,t,r,n),t.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function rA(e,t,r){var n=t.pendingProps,i=Ae.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(Ae,i&1),e===null)return Pg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=nh(s,n,0,null),e=ga(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Dg(r),t.memoizedState=Mg,e):jv(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return v$(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Si(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Si(o,a):(a=ga(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Dg(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Mg,n}return a=e.child,e=a.sibling,n=Si(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jv(e,t){return t=nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zc(e,t,r,n){return n!==null&&cv(n),Rs(t,e.child,null,r),e=jv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v$(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Qm(Error(F(422))),Zc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=nh({mode:"visible",children:n.children},i,0,null),a=ga(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Rs(t,e.child,null,s),t.child.memoizedState=Dg(s),t.memoizedState=Mg,a);if(!(t.mode&1))return Zc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(F(419)),n=Qm(a,n,void 0),Zc(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ht||o){if(n=dt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Mn(e,i),Yr(n,e,i,-1))}return Av(),n=Qm(Error(F(421))),Zc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=O$.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,cr=bi(i.nextSibling),dr=t,je=!0,Wr=null,e!==null&&(wr[_r++]=Sn,wr[_r++]=Nn,wr[_r++]=ja,Sn=e.id,Nn=e.overflow,ja=t),t=jv(t,n.children),t.flags|=4096,t)}function U1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ag(e.return,t,r)}function Zm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function nA(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Tt(e,t,n.children,r),n=Ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U1(e,r,t);else if(e.tag===19)U1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Ae,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Zm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Zm(t,!0,r,null,a);break;case"together":Zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=Si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function x$(e,t,r){switch(t.tag){case 3:tA(t),Is();break;case 5:AP(t);break;case 1:Jt(t.type)&&vd(t);break;case 4:pv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ye(wd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Ae,Ae.current&1),t.flags|=128,null):r&t.child.childLanes?rA(e,t,r):(ye(Ae,Ae.current&1),e=Dn(e,t,r),e!==null?e.sibling:null);ye(Ae,Ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nA(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ae,Ae.current),n)break;return null;case 22:case 23:return t.lanes=0,ZP(e,t,r)}return Dn(e,t,r)}var iA,Lg,aA,sA;iA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lg=function(){};aA=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,la(un.current);var a=null;switch(r){case"input":i=ag(e,i),n=ag(e,n),a=[];break;case"select":i=Te({},i,{value:void 0}),n=Te({},n,{value:void 0}),a=[];break;case"textarea":i=lg(e,i),n=lg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gd)}ug(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};sA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ao(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function b$(e,t,r){var n=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Jt(t.type)&&yd(),jt(t),null;case 3:return n=t.stateNode,Ms(),be(Xt),be(Ct),yv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(qg(Wr),Wr=null))),Lg(e,t),jt(t),null;case 5:gv(t);var i=la(Sl.current);if(r=t.type,e!==null&&t.stateNode!=null)aA(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return jt(t),null}if(e=la(un.current),Jc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[on]=t,n[_l]=a,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<Wo.length;i++)ve(Wo[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Jw(n,a),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ve("invalid",n);break;case"textarea":Zw(n,a),ve("invalid",n)}ug(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Xc(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Xc(n.textContent,o,e),i=["children",""+o]):fl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ve("scroll",n)}switch(r){case"input":Uc(n),Qw(n,a,!0);break;case"textarea":Uc(n),e1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[on]=t,e[_l]=n,iA(e,t,!1,!1),t.stateNode=e;e:{switch(s=dg(r,n),r){case"dialog":ve("cancel",e),ve("close",e),i=n;break;case"iframe":case"object":case"embed":ve("load",e),i=n;break;case"video":case"audio":for(i=0;i<Wo.length;i++)ve(Wo[i],e);i=n;break;case"source":ve("error",e),i=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=n;break;case"details":ve("toggle",e),i=n;break;case"input":Jw(e,n),i=ag(e,n),ve("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Te({},n,{value:void 0}),ve("invalid",e);break;case"textarea":Zw(e,n),i=lg(e,n),ve("invalid",e);break;default:i=n}ug(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?Lk(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mk(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hl(e,l):typeof l=="number"&&hl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ve("scroll",e):l!=null&&Hy(e,a,l,s))}switch(r){case"input":Uc(e),Qw(e,n,!1);break;case"textarea":Uc(e),e1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?bs(e,!!n.multiple,a,!1):n.defaultValue!=null&&bs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)sA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=la(Sl.current),la(un.current),Jc(t)){if(n=t.stateNode,r=t.memoizedProps,n[on]=t,(a=n.nodeValue!==r)&&(e=dr,e!==null))switch(e.tag){case 3:Xc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=t,t.stateNode=n}return jt(t),null;case 13:if(be(Ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&cr!==null&&t.mode&1&&!(t.flags&128))SP(),Is(),t.flags|=98560,a=!1;else if(a=Jc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[on]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),a=!1}else Wr!==null&&(qg(Wr),Wr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?et===0&&(et=3):Av())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Ms(),Lg(e,t),e===null&&bl(t.stateNode.containerInfo),jt(t),null;case 10:return fv(t.type._context),jt(t),null;case 17:return Jt(t.type)&&yd(),jt(t),null;case 19:if(be(Ae),a=t.memoizedState,a===null)return jt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Ao(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sd(e),s!==null){for(t.flags|=128,Ao(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ye(Ae,Ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&$e()>Ls&&(t.flags|=128,n=!0,Ao(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ao(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!je)return jt(t),null}else 2*$e()-a.renderingStartTime>Ls&&r!==1073741824&&(t.flags|=128,n=!0,Ao(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,r=Ae.current,ye(Ae,n?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return Pv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ar&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function w$(e,t){switch(lv(t),t.tag){case 1:return Jt(t.type)&&yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),be(Xt),be(Ct),yv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gv(t),null;case 13:if(be(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ae),null;case 4:return Ms(),null;case 10:return fv(t.type._context),null;case 22:case 23:return Pv(),null;case 24:return null;default:return null}}var eu=!1,Nt=!1,_$=typeof WeakSet=="function"?WeakSet:Set,V=null;function ds(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(e,t,n)}else r.current=null}function $g(e,t,r){try{r()}catch(n){Me(e,t,n)}}var V1=!1;function j$(e,t){if(wg=hd,e=dP(),sv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(_g={focusedElem:e,selectionRange:r},hd=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Br(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Me(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return p=V1,V1=!1,p}function rl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$g(t,r,a)}i=i.next}while(i!==n)}}function th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oA(e){var t=e.alternate;t!==null&&(e.alternate=null,oA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[_l],delete t[Ng],delete t[a$],delete t[s$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lA(e){return e.tag===5||e.tag===3||e.tag===4}function W1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gd));else if(n!==4&&(e=e.child,e!==null))for(Bg(e,t,r),e=e.sibling;e!==null;)Bg(e,t,r),e=e.sibling}function zg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zg(e,t,r),e=e.sibling;e!==null;)zg(e,t,r),e=e.sibling}var yt=null,Ur=!1;function ni(e,t,r){for(r=r.child;r!==null;)cA(e,t,r),r=r.sibling}function cA(e,t,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Hf,r)}catch{}switch(r.tag){case 5:Nt||ds(r,t);case 6:var n=yt,i=Ur;yt=null,ni(e,t,r),yt=n,Ur=i,yt!==null&&(Ur?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(Ur?(e=yt,r=r.stateNode,e.nodeType===8?Km(e.parentNode,r):e.nodeType===1&&Km(e,r),yl(e)):Km(yt,r.stateNode));break;case 4:n=yt,i=Ur,yt=r.stateNode.containerInfo,Ur=!0,ni(e,t,r),yt=n,Ur=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&$g(r,t,s),i=i.next}while(i!==n)}ni(e,t,r);break;case 1:if(!Nt&&(ds(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Me(r,t,o)}ni(e,t,r);break;case 21:ni(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,ni(e,t,r),Nt=n):ni(e,t,r);break;default:ni(e,t,r)}}function q1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _$),t.forEach(function(n){var i=T$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:yt=o.stateNode,Ur=!1;break e;case 3:yt=o.stateNode.containerInfo,Ur=!0;break e;case 4:yt=o.stateNode.containerInfo,Ur=!0;break e}o=o.return}if(yt===null)throw Error(F(160));cA(a,s,i),yt=null,Ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uA(t,e),t=t.sibling}function uA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),nn(e),n&4){try{rl(3,e,e.return),th(3,e)}catch(x){Me(e,e.return,x)}try{rl(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:Dr(t,e),nn(e),n&512&&r!==null&&ds(r,r.return);break;case 5:if(Dr(t,e),nn(e),n&512&&r!==null&&ds(r,r.return),e.flags&32){var i=e.stateNode;try{hl(i,"")}catch(x){Me(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Tk(i,a),dg(o,s);var u=dg(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?Lk(i,f):d==="dangerouslySetInnerHTML"?Mk(i,f):d==="children"?hl(i,f):Hy(i,d,f,u)}switch(o){case"input":sg(i,a);break;case"textarea":Ik(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?bs(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?bs(i,!!a.multiple,a.defaultValue,!0):bs(i,!!a.multiple,a.multiple?[]:"",!1))}i[_l]=a}catch(x){Me(e,e.return,x)}}break;case 6:if(Dr(t,e),nn(e),n&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Me(e,e.return,x)}}break;case 3:if(Dr(t,e),nn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yl(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:Dr(t,e),nn(e);break;case 13:Dr(t,e),nn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ev=$e())),n&4&&q1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||d,Dr(t,e),Nt=u):Dr(t,e),nn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(h=V,m=h.child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:ds(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Me(n,r,x)}}break;case 5:ds(h,h.return);break;case 22:if(h.memoizedState!==null){H1(f);continue}}m!==null?(m.return=h,V=m):H1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Dk("display",s))}catch(x){Me(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Me(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(t,e),nn(e),n&4&&q1(e);break;case 21:break;default:Dr(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lA(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hl(i,""),n.flags&=-33);var a=W1(e);zg(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=W1(e);Bg(e,o,s);break;default:throw Error(F(161))}}catch(l){Me(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S$(e,t,r){V=e,dA(e)}function dA(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var i=V,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||eu;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Nt;o=eu;var u=Nt;if(eu=s,(Nt=l)&&!u)for(V=i;V!==null;)s=V,l=s.child,s.tag===22&&s.memoizedState!==null?G1(i):l!==null?(l.return=s,V=l):G1(i);for(;a!==null;)V=a,dA(a),a=a.sibling;V=i,eu=o,Nt=u}K1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,V=a):K1(e)}}function K1(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Br(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&C1(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}C1(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Nt||t.flags&512&&Fg(t)}catch(h){Me(t,t.return,h)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function H1(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function G1(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{th(4,t)}catch(l){Me(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Me(t,i,l)}}var a=t.return;try{Fg(t)}catch(l){Me(t,a,l)}break;case 5:var s=t.return;try{Fg(t)}catch(l){Me(t,s,l)}}}catch(l){Me(t,t.return,l)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var N$=Math.ceil,kd=Kn.ReactCurrentDispatcher,Sv=Kn.ReactCurrentOwner,Er=Kn.ReactCurrentBatchConfig,re=0,dt=null,Ke=null,bt=0,ar=0,fs=Di(0),et=0,Pl=null,Na=0,rh=0,Nv=0,nl=null,qt=null,Ev=0,Ls=1/0,vn=null,Pd=!1,Ug=null,_i=null,tu=!1,pi=null,Ad=0,il=0,Vg=null,Ku=-1,Hu=0;function Dt(){return re&6?$e():Ku!==-1?Ku:Ku=$e()}function ji(e){return e.mode&1?re&2&&bt!==0?bt&-bt:l$.transition!==null?(Hu===0&&(Hu=Yk()),Hu):(e=ce,e!==0||(e=window.event,e=e===void 0?16:rP(e.type)),e):1}function Yr(e,t,r,n){if(50<il)throw il=0,Vg=null,Error(F(185));ic(e,r,n),(!(re&2)||e!==dt)&&(e===dt&&(!(re&2)&&(rh|=r),et===4&&ui(e,bt)),Qt(e,n),r===1&&re===0&&!(t.mode&1)&&(Ls=$e()+500,Qf&&Li()))}function Qt(e,t){var r=e.callbackNode;lL(e,t);var n=fd(e,e===dt?bt:0);if(n===0)r!==null&&n1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&n1(r),t===1)e.tag===0?o$(Y1.bind(null,e)):wP(Y1.bind(null,e)),n$(function(){!(re&6)&&Li()}),r=null;else{switch(Xk(n)){case 1:r=Qy;break;case 4:r=Hk;break;case 16:r=dd;break;case 536870912:r=Gk;break;default:r=dd}r=xA(r,fA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fA(e,t){if(Ku=-1,Hu=0,re&6)throw Error(F(327));var r=e.callbackNode;if(Ns()&&e.callbackNode!==r)return null;var n=fd(e,e===dt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cd(e,n);else{t=n;var i=re;re|=2;var a=mA();(dt!==e||bt!==t)&&(vn=null,Ls=$e()+500,pa(e,t));do try{P$();break}catch(o){hA(e,o)}while(!0);dv(),kd.current=a,re=i,Ke!==null?t=0:(dt=null,bt=0,t=et)}if(t!==0){if(t===2&&(i=gg(e),i!==0&&(n=i,t=Wg(e,i))),t===1)throw r=Pl,pa(e,0),ui(e,n),Qt(e,$e()),r;if(t===6)ui(e,n);else{if(i=e.current.alternate,!(n&30)&&!E$(i)&&(t=Cd(e,n),t===2&&(a=gg(e),a!==0&&(n=a,t=Wg(e,a))),t===1))throw r=Pl,pa(e,0),ui(e,n),Qt(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:Xi(e,qt,vn);break;case 3:if(ui(e,n),(n&130023424)===n&&(t=Ev+500-$e(),10<t)){if(fd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sg(Xi.bind(null,e,qt,vn),t);break}Xi(e,qt,vn);break;case 4:if(ui(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Gr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N$(n/1960))-n,10<n){e.timeoutHandle=Sg(Xi.bind(null,e,qt,vn),n);break}Xi(e,qt,vn);break;case 5:Xi(e,qt,vn);break;default:throw Error(F(329))}}}return Qt(e,$e()),e.callbackNode===r?fA.bind(null,e):null}function Wg(e,t){var r=nl;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=Cd(e,t),e!==2&&(t=qt,qt=r,t!==null&&qg(t)),e}function qg(e){qt===null?qt=e:qt.push.apply(qt,e)}function E$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Jr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t){for(t&=~Nv,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gr(t),n=1<<r;e[r]=-1,t&=~n}}function Y1(e){if(re&6)throw Error(F(327));Ns();var t=fd(e,0);if(!(t&1))return Qt(e,$e()),null;var r=Cd(e,t);if(e.tag!==0&&r===2){var n=gg(e);n!==0&&(t=n,r=Wg(e,n))}if(r===1)throw r=Pl,pa(e,0),ui(e,t),Qt(e,$e()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xi(e,qt,vn),Qt(e,$e()),null}function kv(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(Ls=$e()+500,Qf&&Li())}}function Ea(e){pi!==null&&pi.tag===0&&!(re&6)&&Ns();var t=re;re|=1;var r=Er.transition,n=ce;try{if(Er.transition=null,ce=1,e)return e()}finally{ce=n,Er.transition=r,re=t,!(re&6)&&Li()}}function Pv(){ar=fs.current,be(fs)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,r$(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(lv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yd();break;case 3:Ms(),be(Xt),be(Ct),yv();break;case 5:gv(n);break;case 4:Ms();break;case 13:be(Ae);break;case 19:be(Ae);break;case 10:fv(n.type._context);break;case 22:case 23:Pv()}r=r.return}if(dt=e,Ke=e=Si(e.current,null),bt=ar=t,et=0,Pl=null,Nv=rh=Na=0,qt=nl=null,oa!==null){for(t=0;t<oa.length;t++)if(r=oa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}oa=null}return e}function hA(e,t){do{var r=Ke;try{if(dv(),Vu.current=Ed,Nd){for(var n=Oe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nd=!1}if(Sa=0,ct=Je=Oe=null,tl=!1,Nl=0,Sv.current=null,r===null||r.return===null){et=1,Pl=t,Ke=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=bt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=D1(s);if(m!==null){m.flags&=-257,L1(m,s,o,a,t),m.mode&1&&M1(a,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(l),t.updateQueue=x}else p.add(l);break e}else{if(!(t&1)){M1(a,u,t),Av();break e}l=Error(F(426))}}else if(je&&o.mode&1){var v=D1(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),L1(v,s,o,a,t),cv(Ds(l,o));break e}}a=l=Ds(l,o),et!==4&&(et=2),nl===null?nl=[a]:nl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=XP(a,l,t);A1(a,g);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_i===null||!_i.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=JP(a,o,t);A1(a,j);break e}}a=a.return}while(a!==null)}gA(r)}catch(_){t=_,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function mA(){var e=kd.current;return kd.current=Ed,e===null?Ed:e}function Av(){(et===0||et===3||et===2)&&(et=4),dt===null||!(Na&268435455)&&!(rh&268435455)||ui(dt,bt)}function Cd(e,t){var r=re;re|=2;var n=mA();(dt!==e||bt!==t)&&(vn=null,pa(e,t));do try{k$();break}catch(i){hA(e,i)}while(!0);if(dv(),re=r,kd.current=n,Ke!==null)throw Error(F(261));return dt=null,bt=0,et}function k$(){for(;Ke!==null;)pA(Ke)}function P$(){for(;Ke!==null&&!Z4();)pA(Ke)}function pA(e){var t=vA(e.alternate,e,ar);e.memoizedProps=e.pendingProps,t===null?gA(e):Ke=t,Sv.current=null}function gA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w$(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ke=null;return}}else if(r=b$(r,t,ar),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);et===0&&(et=5)}function Xi(e,t,r){var n=ce,i=Er.transition;try{Er.transition=null,ce=1,A$(e,t,r,n)}finally{Er.transition=i,ce=n}return null}function A$(e,t,r,n){do Ns();while(pi!==null);if(re&6)throw Error(F(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(cL(e,a),e===dt&&(Ke=dt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tu||(tu=!0,xA(dd,function(){return Ns(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Er.transition,Er.transition=null;var s=ce;ce=1;var o=re;re|=4,Sv.current=null,j$(e,r),uA(r,e),YL(_g),hd=!!wg,_g=wg=null,e.current=r,S$(r),eL(),re=o,ce=s,Er.transition=a}else e.current=r;if(tu&&(tu=!1,pi=e,Ad=i),a=e.pendingLanes,a===0&&(_i=null),nL(r.stateNode),Qt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,e=Ug,Ug=null,e;return Ad&1&&e.tag!==0&&Ns(),a=e.pendingLanes,a&1?e===Vg?il++:(il=0,Vg=e):il=0,Li(),null}function Ns(){if(pi!==null){var e=Xk(Ad),t=Er.transition,r=ce;try{if(Er.transition=null,ce=16>e?16:e,pi===null)var n=!1;else{if(e=pi,pi=null,Ad=0,re&6)throw Error(F(331));var i=re;for(re|=4,V=e.current;V!==null;){var a=V,s=a.child;if(V.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var h=d.sibling,m=d.return;if(oA(d),d===u){V=null;break}if(h!==null){h.return=m,V=h;break}V=m}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}V=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,V=s;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var b=e.current;for(V=b;V!==null;){s=V;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,V=w;else e:for(s=b;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:th(9,o)}}catch(_){Me(o,o.return,_)}if(o===s){V=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break e}V=o.return}}if(re=i,Li(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Hf,e)}catch{}n=!0}return n}finally{ce=r,Er.transition=t}}return!1}function X1(e,t,r){t=Ds(r,t),t=XP(e,t,1),e=wi(e,t,1),t=Dt(),e!==null&&(ic(e,1,t),Qt(e,t))}function Me(e,t,r){if(e.tag===3)X1(e,e,r);else for(;t!==null;){if(t.tag===3){X1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_i===null||!_i.has(n))){e=Ds(r,e),e=JP(t,e,1),t=wi(t,e,1),e=Dt(),t!==null&&(ic(t,1,e),Qt(t,e));break}}t=t.return}}function C$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(bt&r)===r&&(et===4||et===3&&(bt&130023424)===bt&&500>$e()-Ev?pa(e,0):Nv|=r),Qt(e,t)}function yA(e,t){t===0&&(e.mode&1?(t=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):t=1);var r=Dt();e=Mn(e,t),e!==null&&(ic(e,t,r),Qt(e,r))}function O$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yA(e,r)}function T$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),yA(e,r)}var vA;vA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ht=!1,x$(e,t,r);Ht=!!(e.flags&131072)}else Ht=!1,je&&t.flags&1048576&&_P(t,bd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qu(e,t),e=t.pendingProps;var i=Ts(t,Ct.current);Ss(t,r),i=xv(null,t,n,e,i,r);var a=bv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(a=!0,vd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(t),i.updater=eh,t.stateNode=i,i._reactInternals=t,Og(t,n,e,r),t=Rg(null,t,n,!0,a,r)):(t.tag=0,je&&a&&ov(t),Tt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=R$(n),e=Br(n,e),i){case 0:t=Ig(null,t,n,e,r);break e;case 1:t=B1(null,t,n,e,r);break e;case 11:t=$1(null,t,n,e,r);break e;case 14:t=F1(null,t,n,Br(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),Ig(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),B1(e,t,n,i,r);case 3:e:{if(tA(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,i=a.element,PP(e,t),jd(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ds(Error(F(423)),t),t=z1(e,t,n,r,i);break e}else if(n!==i){i=Ds(Error(F(424)),t),t=z1(e,t,n,r,i);break e}else for(cr=bi(t.stateNode.containerInfo.firstChild),dr=t,je=!0,Wr=null,r=EP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Is(),n===i){t=Dn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return AP(t),e===null&&Pg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,jg(n,i)?s=null:a!==null&&jg(n,a)&&(t.flags|=32),eA(e,t),Tt(e,t,s,r),t.child;case 6:return e===null&&Pg(t),null;case 13:return rA(e,t,r);case 4:return pv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rs(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),$1(e,t,n,i,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ye(wd,n._currentValue),n._currentValue=s,a!==null)if(Jr(a.value,s)){if(a.children===i.children&&!Xt.current){t=Dn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Pn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ag(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(F(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Ag(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Tt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ss(t,r),i=Pr(i),n=n(i),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,i=Br(n,t.pendingProps),i=Br(n.type,i),F1(e,t,n,i,r);case 15:return QP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Br(n,i),qu(e,t),t.tag=1,Jt(n)?(e=!0,vd(t)):e=!1,Ss(t,r),YP(t,n,i),Og(t,n,i,r),Rg(null,t,n,!0,e,r);case 19:return nA(e,t,r);case 22:return ZP(e,t,r)}throw Error(F(156,t.tag))};function xA(e,t){return Kk(e,t)}function I$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new I$(e,t,r,n)}function Cv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R$(e){if(typeof e=="function")return Cv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yy)return 11;if(e===Xy)return 14}return 2}function Si(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gu(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Cv(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case rs:return ga(r.children,i,a,t);case Gy:s=8,i|=8;break;case tg:return e=jr(12,r,t,i|2),e.elementType=tg,e.lanes=a,e;case rg:return e=jr(13,r,t,i),e.elementType=rg,e.lanes=a,e;case ng:return e=jr(19,r,t,i),e.elementType=ng,e.lanes=a,e;case Ak:return nh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kk:s=10;break e;case Pk:s=9;break e;case Yy:s=11;break e;case Xy:s=14;break e;case ai:s=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=jr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ga(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function nh(e,t,r,n){return e=jr(22,e,n,t),e.elementType=Ak,e.lanes=r,e.stateNode={isHidden:!1},e}function ep(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function tp(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ov(e,t,r,n,i,a,s,o,l){return e=new M$(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=jr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(a),e}function D$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bA(e){if(!e)return Ai;e=e._reactInternals;e:{if(Ma(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Jt(r))return bP(e,r,t)}return t}function wA(e,t,r,n,i,a,s,o,l){return e=Ov(r,n,!0,e,i,a,s,o,l),e.context=bA(null),r=e.current,n=Dt(),i=ji(r),a=Pn(n,i),a.callback=t??null,wi(r,a,i),e.current.lanes=i,ic(e,i,n),Qt(e,n),e}function ih(e,t,r,n){var i=t.current,a=Dt(),s=ji(i);return r=bA(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wi(i,t,s),e!==null&&(Yr(e,i,s,a),Uu(e,i,s)),s}function Od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function J1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tv(e,t){J1(e,t),(e=e.alternate)&&J1(e,t)}function L$(){return null}var _A=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iv(e){this._internalRoot=e}ah.prototype.render=Iv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));ih(e,t,null,null)};ah.prototype.unmount=Iv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ea(function(){ih(null,e,null,null)}),t[Rn]=null}};function ah(e){this._internalRoot=e}ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ci.length&&t!==0&&t<ci[r].priority;r++);ci.splice(r,0,e),r===0&&tP(e)}};function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q1(){}function $$(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Od(s);a.call(u)}}var s=wA(t,n,e,0,null,!1,!1,"",Q1);return e._reactRootContainer=s,e[Rn]=s.current,bl(e.nodeType===8?e.parentNode:e),Ea(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Od(l);o.call(u)}}var l=Ov(e,0,!1,null,null,!1,!1,"",Q1);return e._reactRootContainer=l,e[Rn]=l.current,bl(e.nodeType===8?e.parentNode:e),Ea(function(){ih(t,l,r,n)}),l}function oh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Od(s);o.call(l)}}ih(t,s,e,i)}else s=$$(r,t,e,i,n);return Od(s)}Jk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vo(t.pendingLanes);r!==0&&(Zy(t,r|1),Qt(t,$e()),!(re&6)&&(Ls=$e()+500,Li()))}break;case 13:Ea(function(){var n=Mn(e,1);if(n!==null){var i=Dt();Yr(n,e,1,i)}}),Tv(e,1)}};ev=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var r=Dt();Yr(t,e,134217728,r)}Tv(e,134217728)}};Qk=function(e){if(e.tag===13){var t=ji(e),r=Mn(e,t);if(r!==null){var n=Dt();Yr(r,e,t,n)}Tv(e,t)}};Zk=function(){return ce};eP=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};hg=function(e,t,r){switch(t){case"input":if(sg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Jf(n);if(!i)throw Error(F(90));Ok(n),sg(n,i)}}}break;case"textarea":Ik(e,r);break;case"select":t=r.value,t!=null&&bs(e,!!r.multiple,t,!1)}};Bk=kv;zk=Ea;var F$={usingClientEntryPoint:!1,Events:[sc,ss,Jf,$k,Fk,kv]},Co={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B$={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wk(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||L$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Hf=ru.inject(B$),cn=ru}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F$;pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(t))throw Error(F(200));return D$(e,t,null,r)};pr.createRoot=function(e,t){if(!Rv(e))throw Error(F(299));var r=!1,n="",i=_A;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ov(e,1,!1,null,null,r,!1,n,i),e[Rn]=t.current,bl(e.nodeType===8?e.parentNode:e),new Iv(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Wk(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return Ea(e)};pr.hydrate=function(e,t,r){if(!sh(t))throw Error(F(200));return oh(null,e,t,!0,r)};pr.hydrateRoot=function(e,t,r){if(!Rv(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=_A;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=wA(t,null,e,1,r??null,i,!1,a,s),e[Rn]=t.current,bl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ah(t)};pr.render=function(e,t,r){if(!sh(t))throw Error(F(200));return oh(null,e,t,!1,r)};pr.unmountComponentAtNode=function(e){if(!sh(e))throw Error(F(40));return e._reactRootContainer?(Ea(function(){oh(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};pr.unstable_batchedUpdates=kv;pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sh(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return oh(e,t,r,!1,n)};pr.version="18.3.1-next-f1338f8080-20240426";function jA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jA)}catch(e){console.error(e)}}jA(),jk.exports=pr;var Mv=jk.exports,Z1=Mv;Zp.createRoot=Z1.createRoot,Zp.hydrateRoot=Z1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}var gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gi||(gi={}));const e_="popstate";function z$(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Kg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Td(i)}return V$(t,r,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U$(){return Math.random().toString(36).substr(2,8)}function t_(e,t){return{usr:e.state,key:e.key,idx:t}}function Kg(e,t,r,n){return r===void 0&&(r=null),Al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?no(t):t,{state:r,key:t&&t.key||n||U$()})}function Td(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function no(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function V$(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=gi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Al({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=gi.Pop;let v=d(),g=v==null?null:v-u;u=v,l&&l({action:o,location:x.location,delta:g})}function h(v,g){o=gi.Push;let b=Kg(x.location,v,g);u=d()+1;let w=t_(b,u),j=x.createHref(b);try{s.pushState(w,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&l&&l({action:o,location:x.location,delta:1})}function m(v,g){o=gi.Replace;let b=Kg(x.location,v,g);u=d();let w=t_(b,u),j=x.createHref(b);s.replaceState(w,"",j),a&&l&&l({action:o,location:x.location,delta:0})}function p(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Td(v);return b=b.replace(/ $/,"%20"),Fe(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let x={get action(){return o},get location(){return e(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e_,f),l=v,()=>{i.removeEventListener(e_,f),l=null}},createHref(v){return t(i,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return s.go(v)}};return x}var r_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r_||(r_={}));function W$(e,t,r){return r===void 0&&(r="/"),q$(e,t,r)}function q$(e,t,r,n){let i=typeof t=="string"?no(t):t,a=Lv(i.pathname||"/",r);if(a==null)return null;let s=SA(e);K$(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=i3(a);o=t3(s[l],u)}return o}function SA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ni([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SA(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Z$(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of NA(a.path))i(a,s,l)}),t}function NA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=NA(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function K$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:e3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const H$=/^:[\w-]+$/,G$=3,Y$=2,X$=1,J$=10,Q$=-2,n_=e=>e==="*";function Z$(e,t){let r=e.split("/"),n=r.length;return r.some(n_)&&(n+=Q$),t&&(n+=Y$),r.filter(i=>!n_(i)).reduce((i,a)=>i+(H$.test(a)?G$:a===""?X$:J$),n)}function e3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function t3(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=r3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ni([a,f.pathname]),pathnameBase:c3(Ni([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ni([a,f.pathnameBase]))}return s}function r3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=n3(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=o[f]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function n3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Dv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function i3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const a3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s3=e=>a3.test(e);function o3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?no(e):e,a;if(r)if(s3(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Dv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=i_(r.substring(1),"/"):a=i_(r,t)}else a=t;return{pathname:a,search:u3(n),hash:d3(i)}}function i_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $v(e,t){let r=l3(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fv(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=no(e):(i=Al({},e),Fe(!i.pathname||!i.pathname.includes("?"),rp("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),rp("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),rp("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=o3(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ni=e=>e.join("/").replace(/\/\/+/g,"/"),c3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const EA=["post","put","patch","delete"];new Set(EA);const h3=["get",...EA];new Set(h3);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}const Bv=y.createContext(null),m3=y.createContext(null),$i=y.createContext(null),lh=y.createContext(null),Hn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),kA=y.createContext(null);function p3(e,t){let{relative:r}=t===void 0?{}:t;io()||Fe(!1);let{basename:n,navigator:i}=y.useContext($i),{hash:a,pathname:s,search:o}=AA(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Ni([n,s])),i.createHref({pathname:l,search:o,hash:a})}function io(){return y.useContext(lh)!=null}function ao(){return io()||Fe(!1),y.useContext(lh).location}function PA(e){y.useContext($i).static||y.useLayoutEffect(e)}function Fi(){let{isDataRoute:e}=y.useContext(Hn);return e?C3():g3()}function g3(){io()||Fe(!1);let e=y.useContext(Bv),{basename:t,future:r,navigator:n}=y.useContext($i),{matches:i}=y.useContext(Hn),{pathname:a}=ao(),s=JSON.stringify($v(i,r.v7_relativeSplatPath)),o=y.useRef(!1);return PA(()=>{o.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Fv(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ni([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}const y3=y.createContext(null);function v3(e){let t=y.useContext(Hn).outlet;return t&&y.createElement(y3.Provider,{value:e},t)}function AA(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext($i),{matches:i}=y.useContext(Hn),{pathname:a}=ao(),s=JSON.stringify($v(i,n.v7_relativeSplatPath));return y.useMemo(()=>Fv(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function x3(e,t){return b3(e,t)}function b3(e,t,r,n){io()||Fe(!1);let{navigator:i}=y.useContext($i),{matches:a}=y.useContext(Hn),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ao(),d;if(t){var f;let v=typeof t=="string"?no(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Fe(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=W$(e,{pathname:m}),x=N3(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ni([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ni([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&x?y.createElement(lh.Provider,{value:{location:Cl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gi.Pop}},x):x}function w3(){let e=A3(),t=f3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,null)}const _3=y.createElement(w3,null);class j3 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Hn.Provider,{value:this.props.routeContext},y.createElement(kA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S3(e){let{routeContext:t,match:r,children:n}=e,i=y.useContext(Bv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Hn.Provider,{value:t},n)}function N3(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Fe(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,p=!1,x=null,v=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||_3,l&&(u<0&&h===0?(O3("route-fallback"),p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),b=()=>{let w;return m?w=x:p?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(S3,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(j3,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var CA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(CA||{}),OA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(OA||{});function E3(e){let t=y.useContext(Bv);return t||Fe(!1),t}function k3(e){let t=y.useContext(m3);return t||Fe(!1),t}function P3(e){let t=y.useContext(Hn);return t||Fe(!1),t}function TA(e){let t=P3(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function A3(){var e;let t=y.useContext(kA),r=k3(),n=TA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function C3(){let{router:e}=E3(CA.UseNavigateStable),t=TA(OA.UseNavigateStable),r=y.useRef(!1);return PA(()=>{r.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cl({fromRouteId:t},a)))},[e,t])}const a_={};function O3(e,t,r){a_[e]||(a_[e]=!0)}function T3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function IA(e){let{to:t,replace:r,state:n,relative:i}=e;io()||Fe(!1);let{future:a,static:s}=y.useContext($i),{matches:o}=y.useContext(Hn),{pathname:l}=ao(),u=Fi(),d=Fv(t,$v(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function zv(e){return v3(e.context)}function oe(e){Fe(!1)}function I3(e){let{basename:t="/",children:r=null,location:n,navigationType:i=gi.Pop,navigator:a,static:s=!1,future:o}=e;io()&&Fe(!1);let l=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:a,static:s,future:Cl({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=no(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,x=y.useMemo(()=>{let v=Lv(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:i}},[l,d,f,h,m,p,i]);return x==null?null:y.createElement($i.Provider,{value:u},y.createElement(lh.Provider,{children:r,value:x}))}function R3(e){let{children:t,location:r}=e;return x3(Hg(t),r)}new Promise(()=>{});function Hg(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Hg(n.props.children,a));return}n.type!==oe&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Hg(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function M3(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function D3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L3(e,t){return e.button===0&&(!t||t==="_self")&&!D3(e)}const $3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F3="6";try{window.__reactRouterVersion=F3}catch{}const B3="startTransition",s_=wk[B3];function z3(e){let{basename:t,children:r,future:n,window:i}=e,a=y.useRef();a.current==null&&(a.current=z$({window:i,v5Compat:!0}));let s=a.current,[o,l]=y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&s_?s_(()=>l(f)):l(f)},[l,u]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.useEffect(()=>T3(n),[n]),y.createElement(I3,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const U3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=y.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=M3(t,$3),{basename:m}=y.useContext($i),p,x=!1;if(typeof u=="string"&&V3.test(u)&&(p=u,U3))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=Lv(j.pathname,m);j.origin===w.origin&&_!=null?u=_+j.search+j.hash:x=!0}catch{}let v=p3(u,{relative:i}),g=W3(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||g(w)}return y.createElement("a",Gg({},h,{href:p||v,onClick:x||a?n:b,ref:r,target:l}))});var o_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o_||(o_={}));var l_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(l_||(l_={}));function W3(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=Fi(),u=ao(),d=AA(e,{relative:s});return y.useCallback(f=>{if(L3(f,r)){f.preventDefault();let h=n!==void 0?n:Td(u)===Td(d);l(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,e,a,s,o])}var Uv={},Id={},Yg=function(e,t){return Yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Yg(e,t)};function RA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rd=function(){return Rd=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Rd.apply(this,arguments)};function so(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function MA(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function DA(e,t){return function(r,n){t(r,n,e)}}function LA(e,t,r,n,i,a){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var p={};for(var x in n)p[x]=x==="access"?{}:n[x];for(var x in n.access)p.access[x]=n.access[x];p.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(g||null))};var v=(0,r[m])(o==="accessor"?{get:d.get,set:d.set}:d[l],p);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(d.get=f),(f=s(v.set))&&(d.set=f),(f=s(v.init))&&i.unshift(f)}else(f=s(v))&&(o==="field"?i.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function $A(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function FA(e){return typeof e=="symbol"?e:"".concat(e)}function BA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function zA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function q(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function UA(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ch=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function VA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ch(t,e,r)}function Md(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function WA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vv(arguments[t]));return e}function qA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function KA(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function $s(e){return this instanceof $s?(this.v=e,this):new $s(e)}function HA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(p){return Promise.resolve(p).then(m,f)}}function o(m,p){n[m]&&(i[m]=function(x){return new Promise(function(v,g){a.push([m,x,v,g])>1||l(m,x)})},p&&(i[m]=p(i[m])))}function l(m,p){try{u(n[m](p))}catch(x){h(a[0][3],x)}}function u(m){m.value instanceof $s?Promise.resolve(m.value.v).then(d,f):h(a[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,p){m(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function GA(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:$s(e[i](s)),done:!1}:a?a(s):s}:a}}function YA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Md=="function"?Md(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}function XA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var q3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Xg=function(e){return Xg=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Xg(e)};function JA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Xg(e),n=0;n<r.length;n++)r[n]!=="default"&&ch(t,e,r[n]);return q3(t,e),t}function QA(e){return e&&e.__esModule?e:{default:e}}function ZA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function eC(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function tC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var K3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function nC(e){function t(a){e.error=e.hasError?new K3(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function iC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const H3={__extends:RA,__assign:Rd,__rest:so,__decorate:MA,__param:DA,__esDecorate:LA,__runInitializers:$A,__propKey:FA,__setFunctionName:BA,__metadata:zA,__awaiter:q,__generator:UA,__createBinding:ch,__exportStar:VA,__values:Md,__read:Vv,__spread:WA,__spreadArrays:qA,__spreadArray:KA,__await:$s,__asyncGenerator:HA,__asyncDelegator:GA,__asyncValues:YA,__makeTemplateObject:XA,__importStar:JA,__importDefault:QA,__classPrivateFieldGet:ZA,__classPrivateFieldSet:eC,__classPrivateFieldIn:tC,__addDisposableResource:rC,__disposeResources:nC,__rewriteRelativeImportExtension:iC},G3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rC,get __assign(){return Rd},__asyncDelegator:GA,__asyncGenerator:HA,__asyncValues:YA,__await:$s,__awaiter:q,__classPrivateFieldGet:ZA,__classPrivateFieldIn:tC,__classPrivateFieldSet:eC,__createBinding:ch,__decorate:MA,__disposeResources:nC,__esDecorate:LA,__exportStar:VA,__extends:RA,__generator:UA,__importDefault:QA,__importStar:JA,__makeTemplateObject:XA,__metadata:zA,__param:DA,__propKey:FA,__read:Vv,__rest:so,__rewriteRelativeImportExtension:iC,__runInitializers:$A,__setFunctionName:BA,__spread:WA,__spreadArray:KA,__spreadArrays:qA,__values:Md,default:H3},Symbol.toStringTag,{value:"Module"})),Y3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let uh=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},aC=class extends uh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Jg=class extends uh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Qg=class extends uh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Dd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dd||(Dd={}));class X3{constructor(t,{headers:r={},customFetch:n,region:i=Dd.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Y3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return q(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let v=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const g=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x,signal:v}).catch(_=>{throw new aC(_)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new Jg(g);if(!g.ok)throw new Qg(g);let w=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield g.json():w==="application/octet-stream"||w==="application/pdf"?j=yield g.blob():w==="text/event-stream"?j=g:w==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Qg||o instanceof Jg?o.context:void 0}}finally{a&&clearTimeout(a)}})}}const J3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Dd},FunctionsClient:X3,FunctionsError:uh,FunctionsFetchError:aC,FunctionsHttpError:Qg,FunctionsRelayError:Jg},Symbol.toStringTag,{value:"Module"})),sC=rc(J3);var Et={};const oo=rc(G3);var nu={},iu={},au={},su={},ou={},lu={},c_;function oC(){if(c_)return lu;c_=1,Object.defineProperty(lu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return lu.default=e,lu}var u_;function lC(){if(u_)return ou;u_=1,Object.defineProperty(ou,"__esModule",{value:!0});const t=oo.__importDefault(oC());let r=class{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let m=null,p=null,x=null,v=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=_:p=JSON.parse(_))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(m={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,x=null,v=406,g="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await l.text();try{m=JSON.parse(w),Array.isArray(m)&&l.status===404&&(p=[],m=null,v=200,g="OK")}catch{l.status===404&&w===""?(v=204,g="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,v=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:p,count:x,status:v,statusText:g}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,f,h,m,p;let x="";const v=l==null?void 0:l.cause;if(v){const g=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",b=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";x=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,x+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${g}`,b&&(x+=` (${b})`),v!=null&&v.stack&&(x+=`
${v.stack}`)}else x=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"FetchError"}: ${l==null?void 0:l.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}};return ou.default=r,ou}var d_;function cC(){if(d_)return su;d_=1,Object.defineProperty(su,"__esModule",{value:!0});const t=oo.__importDefault(lC());let r=class extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return su.default=r,su}var f_;function Wv(){if(f_)return au;f_=1,Object.defineProperty(au,"__esModule",{value:!0});const t=oo.__importDefault(cC()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${u}fts${d}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}};return au.default=n,au}var h_;function uC(){if(h_)return iu;h_=1,Object.defineProperty(iu,"__esModule",{value:!0});const t=oo.__importDefault(Wv());let r=class{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},l=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return iu.default=r,iu}var m_;function Q3(){if(m_)return nu;m_=1,Object.defineProperty(nu,"__esModule",{value:!0});const e=oo,t=e.__importDefault(uC()),r=e.__importDefault(Wv());let n=class dC{constructor(a,{headers:s={},schema:o,fetch:l}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new dC(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let m;o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{h.searchParams.append(x,v)})):(f="POST",m=s);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:p,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return nu.default=n,nu}Object.defineProperty(Et,"__esModule",{value:!0});Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const lo=oo,fC=lo.__importDefault(Q3());Et.PostgrestClient=fC.default;const hC=lo.__importDefault(uC());Et.PostgrestQueryBuilder=hC.default;const mC=lo.__importDefault(Wv());Et.PostgrestFilterBuilder=mC.default;const pC=lo.__importDefault(cC());Et.PostgrestTransformBuilder=pC.default;const gC=lo.__importDefault(lC());Et.PostgrestBuilder=gC.default;const yC=lo.__importDefault(oC());Et.PostgrestError=yC.default;Et.default={PostgrestClient:fC.default,PostgrestQueryBuilder:hC.default,PostgrestFilterBuilder:mC.default,PostgrestTransformBuilder:pC.default,PostgrestBuilder:gC.default,PostgrestError:yC.default};class vC{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z3="2.86.2",e5=`realtime-js/${Z3}`,xC="1.0.0",t5="2.0.0",p_=xC,Zg=1e4,r5=1e3,n5=100;var ia;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ia||(ia={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var Vr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vr||(Vr={}));var e0;(function(e){e.websocket="websocket"})(e0||(e0={}));var aa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(aa||(aa={}));class i5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(m),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,l.length),p.setUint8(x++,o.length),p.setUint8(x++,s.length),p.setUint8(x++,u.length),p.setUint8(x++,f.length),p.setUint8(x++,r),Array.from(l,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(s,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(f,g=>p.setUint8(x++,g.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,l]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),m=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,p={type:this.BROADCAST_EVENT,event:d,payload:m};return s>0&&(p.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class bC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const g_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=a5(s,e,t,i),a),{}):{}},a5=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?wC(a,s):t0(s)},wC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return c5(t,r)}switch(e){case pe.bool:return s5(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return o5(t);case pe.json:case pe.jsonb:return l5(t);case pe.timestamp:return u5(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return t0(t);default:return t0(t)}},t0=e=>e,s5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},o5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},l5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},c5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>wC(t,o))}return e},u5=e=>typeof e=="string"?e.replace(" ","T"):e,_C=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class np{constructor(t,r,n={},i=Zg){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r0||(r0={}));let jC=class Yu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Yu.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yu.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),x=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(o[u]=p),x.length>0&&(l[u]=x)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var n0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(n0||(n0={}));var Es;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Es||(Es={}));var sn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));const d5=Ue;let SC=class NC{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new np(this,Vr.join,this.params,this.timeout),this.rejoinTimer=new bC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new jC(this),this.broadcastEndpointURL=_C(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(sn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(sn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(sn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,g=[];for(let b=0;b<v;b++){const w=x[b],{filter:{event:j,schema:_,table:S,filter:N}}=w,E=m&&m[b];if(E&&E.event===j&&E.schema===_&&E.table===S&&E.filter===N)g.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(sn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ue.errored,t==null||t(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ue.joined&&t===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new np(this,Vr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new np(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>n5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Vr;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,x,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(x=m.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var p,x,v,g,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:v,commit_timestamp:g,type:b,errors:w}=p;h=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:g,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&NC.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vr.close,{},t)}_onError(t){this._on(Vr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=g_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=g_(t.columns,t.old_record)),r}};const ip=()=>{},cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f5=[1e3,2e3,5e3,1e4],h5=1e4,m5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let p5=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zg,this.transport=null,this.heartbeatIntervalMs=cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.reconnectTimer=null,this.vsn=p_,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new i5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${e0.websocket}`,this.httpEndpoint=_C(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ia.connecting:return aa.Connecting;case ia.open:return aa.Open;case ia.closing:return aa.Closing;default:return aa.Closed}}isConnected(){return this.connectionState()===aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new SC(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(r5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ia.open||this.conn.readyState===ia.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([m5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:e5};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Vr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,l,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Zg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:cu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:ip,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:p_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>f5[p-1]||h5,this.vsn){case xC:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,x)=>x(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(p,x)=>x(JSON.parse(p));break;case t5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const g5=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:d5,get REALTIME_LISTEN_TYPES(){return Es},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return n0},get REALTIME_PRESENCE_LISTEN_EVENTS(){return r0},get REALTIME_SUBSCRIBE_STATES(){return sn},RealtimeChannel:SC,RealtimeClient:p5,RealtimePresence:jC,WebSocketFactory:vC},Symbol.toStringTag,{value:"Module"})),EC=rc(g5);class lc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kC extends lc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ld extends lc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const qv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y5=()=>Response,i0=e=>{if(Array.isArray(e))return e.map(r=>i0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=i0(n)}),t},v5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},x5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ap=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},b5=(e,t,r)=>q(void 0,void 0,void 0,function*(){const n=yield y5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new kC(ap(i),a,s))}).catch(i=>{t(new Ld(ap(i),i))}):t(new Ld(ap(e),e))}),w5=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(v5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function cc(e,t,r,n,i,a){return q(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,w5(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>b5(l,o,n))})})}function Ol(e,t,r,n){return q(this,void 0,void 0,function*(){return cc(e,"GET",t,r,n)})}function zr(e,t,r,n,i){return q(this,void 0,void 0,function*(){return cc(e,"POST",t,n,i,r)})}function a0(e,t,r,n,i){return q(this,void 0,void 0,function*(){return cc(e,"PUT",t,n,i,r)})}function _5(e,t,r,n){return q(this,void 0,void 0,function*(){return cc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Kv(e,t,r,n,i){return q(this,void 0,void 0,function*(){return cc(e,"DELETE",t,n,i,r)})}class j5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}var PC;class S5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[PC]="BlobDownloadBuilder",this.promise=null}asStream(){return new j5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}PC=Symbol.toStringTag;const N5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=qv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return q(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},y_),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?a0:zr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a))return{data:null,error:a};throw a}})}upload(t,r,n){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return q(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:y_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield a0(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(we(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return q(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new lc("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}update(t,r,n){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return q(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}copy(t,r,n){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return q(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield zr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return q(this,void 0,void 0,function*(){try{const i=yield zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>Ol(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new S5(l,this.shouldThrowOnError)}info(t){return q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ol(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:i0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}exists(t){return q(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n)&&n instanceof Ld){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return q(this,void 0,void 0,function*(){try{return{data:yield Kv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}list(t,r,n){return q(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},N5),r),{prefix:t||""});return{data:yield zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}listV2(t,r){return q(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield zr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const AC="2.86.2",CC={"X-Client-Info":`storage-js/${AC}`};class k5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CC),r),this.fetch=qv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return q(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ol(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}getBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}createBucket(t){return q(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return q(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}emptyBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Kv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Tl=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function P5(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function A5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function C5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const o=P5(e.baseUrl,n,i),l=await A5(e.auth),u=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,p=m==null?void 0:m.error;throw new Tl((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function uu(e){return e.join("")}var O5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:uu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uu(e.namespace)}`}),!0}catch(t){if(t instanceof Tl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Tl&&r.status===409)return;throw r}}};function Ua(e){return e.join("")}var T5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ua(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Tl&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Tl&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},I5=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=C5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new O5(this.client,t),this.tableOps=new T5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class OC{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CC),r),this.fetch=qv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield zr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBuckets(t){return q(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ol(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield Kv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}from(t){if(!x5(t))throw new lc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new I5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>q(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Hv={"X-Client-Info":`storage-js/${AC}`,"Content-Type":"application/json"};class Gv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Xu extends Gv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TC extends Gv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var s0;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(s0||(s0={}));const dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),R5=()=>Response,IC=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},M5=e=>Array.from(new Float32Array(e)),D5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},v_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L5=(e,t,r)=>q(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Xu(v_(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Xu(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new Xu(o,i,s))}}else t(new TC(v_(e),e))}),$5=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(IC(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function F5(e,t,r,n,i,a){return q(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,$5(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>L5(l,o,n))})})}function or(e,t,r,n,i){return q(this,void 0,void 0,function*(){return F5(e,"POST",t,n,i,r)})}class RC{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return q(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return q(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listIndexes(t){return q(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return q(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class MC{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return q(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getVectors(t){return q(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listVectors(t){return q(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}queryVectors(t){return q(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return q(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class DC{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return q(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}getBucket(t){return q(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listBuckets(){return q(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return q(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class LC extends DC{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $C(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return q(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return q(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return q(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return q(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class $C extends RC{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return q(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return q(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return q(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return q(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new FC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class FC extends MC{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return q(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return q(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return q(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return q(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return q(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class B5 extends k5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new E5(this.url,this.headers,t,this.fetch)}get vectors(){return new LC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OC(this.url+"/iceberg",this.headers,this.fetch)}}const z5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:OC,StorageApiError:kC,StorageClient:B5,StorageError:lc,StorageUnknownError:Ld,StorageVectorsApiError:Xu,StorageVectorsClient:LC,StorageVectorsError:Gv,get StorageVectorsErrorCode(){return s0},StorageVectorsUnknownError:TC,VectorBucketApi:DC,VectorBucketScope:$C,VectorDataApi:MC,VectorIndexApi:RC,VectorIndexScope:FC,isPlainObject:IC,isStorageError:we,isStorageVectorsError:Kt,normalizeToFloat32:M5,resolveFetch:dh,resolveResponse:R5,validateVectorDimension:D5},Symbol.toStringTag,{value:"Module"})),U5=rc(z5);var BC={},fh={};Object.defineProperty(fh,"__esModule",{value:!0});fh.version=void 0;fh.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=fh;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(BC);var zC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,s)=>{const o=(0,e.resolveFetch)(s),l=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var f;const h=(f=await a())!==null&&f!==void 0?f:i;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),o(u,Object.assign(Object.assign({},d),{headers:m}))}};e.fetchWithAuth=n})(zC);var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.isBrowser=void 0;Bi.uuid=V5;Bi.ensureTrailingSlash=UC;Bi.applySettingDefaults=q5;Bi.validateSupabaseUrl=K5;function V5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function UC(e){return e.endsWith("/")?e:e+"/"}const W5=()=>typeof window<"u";Bi.isBrowser=W5;function q5(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function K5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UC(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var hh={};const VC="2.86.2",Qa=30*1e3,o0=3,sp=o0*Qa,H5="http://localhost:9999",G5="supabase.auth.token",Y5={"X-Client-Info":`gotrue-js/${VC}`},l0="X-Supabase-Api-Version",WC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J5=10*60*1e3;let Fs=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let qC=class extends Fs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function KC(e){return G(e)&&e.name==="AuthApiError"}let di=class extends Fs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Gn=class extends Fs{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},Vt=class extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function HC(e){return G(e)&&e.name==="AuthSessionMissingError"}let Ji=class extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},qo=class extends Gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Ko=class extends Gn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function GC(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}let c0=class extends Gn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$d=class extends Gn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Ju(e){return G(e)&&e.name==="AuthRetryableFetchError"}let u0=class extends Gn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Q5(e){return G(e)&&e.name==="AuthWeakPasswordError"}let Fd=class extends Gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x_=` 	
\r=`.split(""),Z5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x_.length;t+=1)e[x_[t].charCodeAt(0)]=-2;for(let t=0;t<Bd.length;t+=1)e[Bd[t].charCodeAt(0)]=t;return e})();function b_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bd[n]),t.queuedBits-=6}}function YC(e,t,r){const n=Z5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function w_(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{r6(s,n,r)};for(let s=0;s<e.length;s+=1)YC(e.charCodeAt(s),i,a);return t.join("")}function e6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function t6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}e6(n,t)}}function r6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ks(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)YC(e.charCodeAt(i),r,n);return new Uint8Array(t)}function n6(e){const t=[];return t6(e,r=>t.push(r)),new Uint8Array(t)}function ca(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>b_(i,r,n)),b_(null,r,n),t.join("")}function i6(e){return Math.round(Date.now()/1e3)+e}function a6(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},XC=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function s6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const JC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Za=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Hi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mt=async(e,t)=>{await e.removeItem(t)};class mh{constructor(){this.promise=new mh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mh.promiseConstructor=Promise;function op(e){const t=e.split(".");if(t.length!==3)throw new Fd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X5.test(t[n]))throw new Fd("JWT not in base64url format");return{header:JSON.parse(w_(t[0])),payload:JSON.parse(w_(t[1])),signature:ks(t[2]),raw:{header:t[0],payload:t[1]}}}async function l6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c6(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function u6(e){return("0"+e.toString(16)).substr(-2)}function d6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,u6).join("")}async function f6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function h6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await f6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(e,t,r=!1){const n=d6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Za(e,`${t}-code-verifier`,i);const a=await h6(n);return[a,n===a?"plain":"s256"]}const m6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p6(e){const t=e.headers.get(l0);if(!t||!t.match(m6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function g6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wa(e){if(!v6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x6(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function __(e){return JSON.parse(JSON.stringify(e))}const Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b6=[502,503,504];async function j_(e){var t;if(!o6(e))throw new $d(Qi(e),0);if(b6.includes(e.status))throw new $d(Qi(e),e.status);let r;try{r=await e.json()}catch(a){throw new di(Qi(a),a)}let n;const i=p6(e);if(i&&i.getTime()>=WC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new u0(Qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new u0(Qi(r),e.status,r.weak_password.reasons);throw new qC(Qi(r),e.status||500,n)}const w6=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function J(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[l0]||(a[l0]=WC["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await _6(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _6(e,t,r,n,i,a){const s=w6(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new $d(Qi(l),0)}if(o.ok||await j_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await j_(l)}}function $r(e){var t;let r=null;N6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=i6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function S_(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j6(e){return{data:e,error:null}}function S6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=so(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function N_(e){return e}function N6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qu=["global","local","others"];let Yv=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=JC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qu[0]){if(Qu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fi})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=so(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:S6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fi})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:N_});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wa(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fi})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wa(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fi})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wa(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fi})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wa(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wa(t.userId),Wa(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:N_});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}};function E_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zi={debug:!!(globalThis&&XC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let QC=class extends Xv{};class E6 extends Xv{}async function ZC(e,t,r){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const k_={};async function k6(e,t,r){var n;const i=(n=k_[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((s,o)=>{setTimeout(()=>{o(new E6(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return k_[e]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}function P6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function A6(e){return parseInt(e,16)}function C6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function O6(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=eO(e.address),p=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}g+=b}return`${v}
${g}`}class Ve extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class zd extends Ve{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function T6({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(tO(s)){if(a.rp.id!==s)return new Ve({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function I6({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tO(n)){if(r.rpId!==n)return new Ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class R6{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const M6=new R6;function D6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=so(e,["challenge","user","excludeCredentials"]),a=ks(t).buffer,s=Object.assign(Object.assign({},r),{id:ks(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ks(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function L6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=so(e,["challenge","allowCredentials"]),i=ks(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:ks(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function $6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ca(new Uint8Array(e.response.attestationObject)),clientDataJSON:ca(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function F6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ca(new Uint8Array(i.authenticatorData)),clientDataJSON:ca(new Uint8Array(i.clientDataJSON)),signature:ca(new Uint8Array(i.signature)),userHandle:i.userHandle?ca(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function P_(){var e,t;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function B6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",t)}:{data:null,error:new zd("Empty credential response",t)}}catch(t){return{data:null,error:T6({error:t,options:e})}}}async function z6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zd("Browser returned unexpected credential type",t)}:{data:null,error:new zd("Empty credential response",t)}}catch(t){return{data:null,error:I6({error:t,options:e})}}}const U6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ud(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=Ud(o,s):n[a]=Ud(s)}else n[a]=s}return n}function W6(e,t){return Ud(U6,e,t||{})}function q6(e,t){return Ud(V6,e,t||{})}class K6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=i??M6.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=W6(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await B6({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=q6(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await z6(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return G(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Fs("rpId is required for WebAuthn authentication")};try{if(!P_())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return G(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Fs("rpId is required for WebAuthn registration")};try{if(!P_())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return G(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in register",s)}}}}P6();const H6={url:H5,storageKey:G5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function A_(e,t,r){return await r()}const qa={};let Jv=class d0{get jwks(){var t,r;return(r=(t=qa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qa[this.storageKey]=Object.assign(Object.assign({},qa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qa[this.storageKey]=Object.assign(Object.assign({},qa[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},H6),t);if(this.storageKey=a.storageKey,this.instanceID=(r=d0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,d0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&pt()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Yv({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JC(a.fetch),this.lock=a.lock||A_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:pt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZC:this.lock=A_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:XC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=E_(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${VC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(pt()&&(r=s6(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),pt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GC(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?this._returnResult({error:r}):this._returnResult({error:new di("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$r}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Va(this.storage,this.storageKey)),a=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:$r})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$r})}else throw new qo("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S_})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:S_})}else throw new qo("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Ji;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,l,u,d,f,h;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:x,wallet:v,statement:g,options:b}=t;let w;if(pt())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=eO(_[0]);let N=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const A=await w.request({method:"eth_chainId"});N=A6(A)}const E={domain:j.host,address:S,statement:g,uri:j.href,version:"1",chainId:N,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=O6(E),p=await w.request({method:"personal_sign",params:[C6(m),S]})}try{const{data:x,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$r});if(v)throw v;if(!x||!x.session||!x.user){const g=new Ji;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(G(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,i,a,s,o,l,u,d,f,h,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:v,wallet:g,statement:b,options:w}=t;let j;if(pt())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)p=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:v,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:ca(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:$r});if(g)throw g;if(!v||!v.session||!v.user){const b=new Ji;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(G(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Hi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$r});if(await mt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new Ji;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$r}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ji;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Va(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qo("You must provide either an email or phone number.")}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$r});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Va(this.storage,this.storageKey));const u=await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:j6});return!((a=u.data)===null||a===void 0)&&a.url&&pt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vt;const{error:i}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(G(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new qo("You must provide either an email or phone number and a type")}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<sp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Hi(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=lp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=x6(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fi}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:fi})})}catch(r){if(G(r))return HC(r)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Vt;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Va(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:fi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=op(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vt;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!pt())throw new Ko("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ko(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new c0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ko("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new c0("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=t;if(!a||!o||!s||!u)throw new Ko("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:v}=await this._getUser(a);if(v)throw v;const g={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(KC(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=a6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Va(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(G(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$r}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ji}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await mt(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c6(async i=>(i>0&&await l6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Ju(a)&&Date.now()+s-n<Qa})}catch(n){if(this._debug(r,"error",n),G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Hi(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Za(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:lp()}else if(i&&!i.user&&!i.user){const s=await Hi(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await mt(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,i)):i.user=lp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${sp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ju(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Vt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),G(a)){const s={data:null,error:a};return Ju(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Za(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=__(i);await Za(this.storage,this.storageKey,a)}else{const i=__(r);await Za(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qa}ms, refresh threshold is ${o0} ticks`),i<=o0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Va(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$6(t.webauthn.credential_response):F6(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:D6(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:L6(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=op(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vt});const s=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Vt});const s=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await J(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(t){if(G(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await J(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+J5>i)return n;const{data:a,error:s}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=op(n);r!=null&&r.allowExpired||g6(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const d=y6(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,n6(`${o}.${l}`)))throw new Fd("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}};Jv.nextInstanceID={};const G6=Yv,Y6=Jv,X6=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:G6,AuthApiError:qC,AuthClient:Y6,AuthError:Fs,AuthImplicitGrantRedirectError:Ko,AuthInvalidCredentialsError:qo,AuthInvalidJwtError:Fd,AuthInvalidTokenResponseError:Ji,AuthPKCEGrantCodeExchangeError:c0,AuthRetryableFetchError:$d,AuthSessionMissingError:Vt,AuthUnknownError:di,AuthWeakPasswordError:u0,CustomAuthError:Gn,GoTrueAdminApi:Yv,GoTrueClient:Jv,NavigatorLockAcquireTimeoutError:QC,SIGN_OUT_SCOPES:Qu,isAuthApiError:KC,isAuthError:G,isAuthImplicitGrantRedirectError:GC,isAuthRetryableFetchError:Ju,isAuthSessionMissingError:HC,isAuthWeakPasswordError:Q5,lockInternals:Zi,navigatorLock:ZC,processLock:k6},Symbol.toStringTag,{value:"Module"})),rO=rc(X6);Object.defineProperty(hh,"__esModule",{value:!0});hh.SupabaseAuthClient=void 0;const J6=rO;class Q6 extends J6.AuthClient{constructor(t){super(t)}}hh.SupabaseAuthClient=Q6;Object.defineProperty(Id,"__esModule",{value:!0});const Z6=sC,e8=Et,t8=EC,r8=U5,du=BC,n8=zC,C_=Bi,i8=hh;let a8=class{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=(0,C_.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:du.DEFAULT_DB_OPTIONS,realtime:du.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},du.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:du.DEFAULT_GLOBAL_OPTIONS},d=(0,C_.applySettingDefaults)(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=(0,n8.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new e8.PostgrestClient(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r8.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Z6.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:l,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i8.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new t8.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Id.default=a8;(function(e){var t=Ba&&Ba.__createBinding||(Object.create?function(d,f,h,m){m===void 0&&(m=h);var p=Object.getOwnPropertyDescriptor(f,h);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,m,p)}:function(d,f,h,m){m===void 0&&(m=h),d[m]=f[h]}),r=Ba&&Ba.__exportStar||function(d,f){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(f,h)&&t(f,d,h)},n=Ba&&Ba.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(Id);r(rO,e);var a=Et;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var s=sC;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return s.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return s.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return s.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return s.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return s.FunctionRegion}}),r(EC,e);var o=Id;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(o).default}});const l=(d,f,h)=>new i.default(d,f,h);e.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const f=d.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Uv);const nO=yn(Uv),s8=ck({__proto__:null,default:nO},[Uv]),{PostgrestError:goe,FunctionsHttpError:yoe,FunctionsFetchError:voe,FunctionsRelayError:xoe,FunctionsError:boe,FunctionRegion:woe,SupabaseClient:_oe,createClient:o8,GoTrueAdminApi:joe,GoTrueClient:Soe,AuthAdminApi:Noe,AuthClient:Eoe,navigatorLock:koe,NavigatorLockAcquireTimeoutError:Poe,lockInternals:Aoe,processLock:Coe,SIGN_OUT_SCOPES:Ooe,AuthError:Toe,AuthApiError:Ioe,AuthUnknownError:Roe,CustomAuthError:Moe,AuthSessionMissingError:Doe,AuthInvalidTokenResponseError:Loe,AuthInvalidCredentialsError:$oe,AuthImplicitGrantRedirectError:Foe,AuthPKCEGrantCodeExchangeError:Boe,AuthRetryableFetchError:zoe,AuthWeakPasswordError:Uoe,AuthInvalidJwtError:Voe,isAuthError:Woe,isAuthApiError:qoe,isAuthSessionMissingError:Koe,isAuthImplicitGrantRedirectError:Hoe,isAuthRetryableFetchError:Goe,isAuthWeakPasswordError:Yoe,RealtimePresence:Xoe,RealtimeChannel:Joe,RealtimeClient:Qoe,REALTIME_LISTEN_TYPES:Zoe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:ele,REALTIME_PRESENCE_LISTEN_EVENTS:tle,REALTIME_SUBSCRIBE_STATES:rle,REALTIME_CHANNEL_STATES:nle}=nO||s8,l8="https://cfcrttsxeaugwfuoirod.supabase.co",c8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmY3J0dHN4ZWF1Z3dmdW9pcm9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MzE4NzQsImV4cCI6MjA4MDUwNzg3NH0.AH21uOVkDybx-DdUYNPg7vmqVJMuKrh0l9Wqkv87zi8",U=o8(l8,c8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),O_=e=>{const t=d8(e);return t.charAt(0).toUpperCase()+t.slice(1)},iO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),f8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>y.createElement("svg",{ref:l,...h8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iO("lucide",i),...!a&&!f8(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>y.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const r=y.forwardRef(({className:n,...i},a)=>y.createElement(m8,{ref:a,iconNode:t,className:iO(`lucide-${u8(O_(e))}`,`lucide-${e}`,n),...i}));return r.displayName=O_(e),r};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fu=X("arrow-right",p8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y8=X("award",g8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],x8=X("bell",v8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],w8=X("box",b8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],T_=X("building-2",_8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aO=X("calendar",j8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],N8=X("chart-column",S8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k8=X("check",E8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qv=X("chevron-down",P8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vd=X("chevron-up",A8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ph=X("circle-alert",C8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sO=X("circle-check-big",O8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],I_=X("circle-user",T8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],R8=X("credit-card",I8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],An=X("dollar-sign",M8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zv=X("download",D8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oO=X("eye",L8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cn=X("file-text",$8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bs=X("funnel",F8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],z8=X("globe",B8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]],V8=X("headset",U8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],q8=X("layers",W8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Wd=X("layout-dashboard",K8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],G8=X("loader-circle",H8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gh=X("loader",Y8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R_=X("log-in",X8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f0=X("log-out",J8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Z8=X("mail",Q8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],M_=X("map-pin",eF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lO=X("package",tF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],D_=X("palette",rF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cO=X("pencil",nF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],L_=X("percent",iF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ci=X("plus",aF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h0=X("refresh-cw",sF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],lF=X("route",oF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cp=X("save",cF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],co=X("search",uF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fF=X("send",dF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mF=X("settings",hF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],gF=X("shield-alert",pF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vF=X("shield-check",yF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bF=X("shield",xF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_F=X("shopping-bag",wF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SF=X("square-pen",jF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$_=X("target",NF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yh=X("trash-2",EF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ex=X("trending-up",kF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AF=X("triangle-alert",PF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],zs=X("truck",CF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Il=X("users",OF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],IF=X("users-round",TF);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uc=X("x",RF);function Yn(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[i,a]=y.useState(!0),s=Fi();y.useEffect(()=>{o();const{data:f}=U.auth.onAuthStateChange((h,m)=>{n((m==null?void 0:m.user)||null)});return()=>{var h;(h=f==null?void 0:f.subscription)==null||h.unsubscribe()}},[]);const o=async()=>{const{data:{session:f}}=await U.auth.getSession();n((f==null?void 0:f.user)||null),a(!1)},l=async()=>{await U.auth.signOut(),n(null),s("/"),t(!1)},d=(()=>{var h;if(!r)return null;const f=(h=r.user_metadata)==null?void 0:h.role;return f==="admin"?{path:"/tms",label:"Dashboard"}:f==="agent"?{path:"/tms/agent-dashboard",label:"Agent Dashboard"}:null})();return c.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 bg-slate-900/90 backdrop-blur-md shadow-lg border-b border-slate-800",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[c.jsx(ot,{to:"/",className:"text-2xl font-bold text-white tracking-wide",children:"Loyal Brokerage LLC"}),c.jsxs("div",{className:"hidden md:flex gap-8 items-center text-gray-300",children:[c.jsx(ot,{to:"/",className:"hover:text-blue-400 transition",children:"Home"}),c.jsx("a",{href:"/#services",className:"hover:text-blue-400 transition",children:"Services"}),c.jsx(ot,{to:"/carrier-signup",className:"hover:text-blue-400 transition",children:"Join Our Carrier Network"}),c.jsx(ot,{to:"/request-quote",className:"hover:text-blue-400 transition",children:"Request a Quote"}),c.jsx(ot,{to:"/contact",className:"hover:text-blue-400 transition",children:"Contact"}),!i&&c.jsx(c.Fragment,{children:r?c.jsxs(c.Fragment,{children:[d&&c.jsxs(ot,{to:d.path,className:"flex items-center gap-2 px-4 py-2 bg-blue-700 rounded-lg hover:bg-blue-600 transition-all font-semibold text-white shadow-md border border-blue-600/50",children:[c.jsx(Wd,{size:18}),d.label]}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/30 rounded-lg transition-all text-red-400 border border-red-500/30",children:[c.jsx(f0,{size:18}),"Logout"]})]}):c.jsx(ot,{to:"/tms-login",className:"px-4 py-2 bg-blue-700 rounded-lg hover:bg-blue-600 transition-all font-semibold text-white shadow-md border border-blue-600/50",children:"TMS Login"})})]}),c.jsx("button",{className:"md:hidden text-gray-300 focus:outline-none",onClick:()=>t(!e),children:e?c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]}),e&&c.jsxs("div",{className:"md:hidden bg-gray-900 border-t border-gray-800 px-6 py-4 flex flex-col gap-4 text-gray-300",children:[c.jsx(ot,{to:"/",onClick:()=>t(!1),className:"hover:text-blue-400",children:"Home"}),c.jsx("a",{href:"/#services",onClick:()=>t(!1),className:"hover:text-blue-400",children:"Services"}),c.jsx(ot,{to:"/carrier-signup",onClick:()=>t(!1),className:"hover:text-blue-400",children:"Join Our Carrier Network"}),c.jsx(ot,{to:"/request-quote",onClick:()=>t(!1),className:"text-left hover:text-blue-400",children:"Request a Quote"}),c.jsx(ot,{to:"/contact",onClick:()=>t(!1),className:"text-left hover:text-blue-400",children:"Contact"}),!i&&c.jsx(c.Fragment,{children:r?c.jsxs(c.Fragment,{children:[d&&c.jsxs(ot,{to:d.path,onClick:()=>t(!1),className:"flex items-center gap-2 px-4 py-2 bg-blue-700 rounded-lg text-white font-semibold text-center justify-center border border-blue-600/50",children:[c.jsx(Wd,{size:18}),d.label]}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 rounded-lg text-red-400 border border-red-500/30 justify-center",children:[c.jsx(f0,{size:18}),"Logout"]})]}):c.jsx(ot,{onClick:()=>t(!1),className:"px-4 py-2 bg-blue-700 rounded-lg text-white font-semibold text-center border border-blue-600/50",children:"TMS Login"})})]})]})}function Xn(){return c.jsxs("footer",{className:"bg-slate-950 text-slate-400 py-16 border-t border-slate-900",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-100 mb-4",children:"Loyal Brokerage LLC"}),c.jsx("p",{className:"mb-6",children:"Reliable nationwide freight brokerage built on trust, transparency, and technology."}),c.jsx("div",{className:"flex gap-4",children:c.jsx("a",{href:"http://linkedin.com/company/loyal-brokerage-llc",target:"_blank",rel:"noopener noreferrer",children:c.jsx(MF,{label:"Li"})})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-slate-100 font-bold mb-6",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"/",className:"hover:text-blue-500 transition",children:"Home"})}),c.jsx("li",{children:c.jsx("a",{href:"/carrier-signup",className:"hover:text-blue-500 transition",children:"For Carriers"})}),c.jsx("li",{children:c.jsx("a",{href:"/request-quote",className:"hover:text-blue-500 transition",children:"For Shippers"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-blue-500 transition",children:"About Us"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-blue-500 transition",children:"Services"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-slate-100 font-bold mb-6",children:"Contact Us"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:" info@loyalbrokerage.com"}),c.jsx("li",{children:" 561-288-0528"}),c.jsx("li",{children:" United States"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-slate-100 font-bold mb-6",children:"Legal"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsx("li",{children:c.jsx("a",{href:"/terms",className:"hover:text-blue-500 transition",children:"Terms of Service"})}),c.jsx("li",{children:c.jsx("a",{href:"/privacy",className:"hover:text-blue-500 transition",children:"Privacy Policy"})})]})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto px-6 mt-16 pt-8 border-t border-slate-900 text-center text-sm",children:[" ",new Date().getFullYear()," Loyal Brokerage LLC. All rights reserved."]})]})}function MF({label:e}){return c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-600 hover:text-white transition cursor-pointer",children:e})}function DF(){return c.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans selection:bg-blue-600 selection:text-white",children:[c.jsx(Yn,{}),c.jsxs("section",{className:"relative pt-32 pb-24 px-6 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 z-0 bg-slate-950",children:[c.jsx("img",{src:"/assets/hero-truck-day.png",alt:"Logistics Truck",className:"w-full h-full object-cover opacity-25"}),c.jsx("div",{className:"absolute inset-0 bg-slate-900/50 mix-blend-multiply"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-slate-950/80"})]}),c.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[c.jsxs("h1",{className:"text-5xl md:text-8xl font-extrabold tracking-tight mb-8 leading-tight drop-shadow-2xl text-slate-100",children:["Reliable Nationwide ",c.jsx("span",{className:"block text-blue-500 pb-2",children:"Freight Brokerage"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-slate-300 max-w-3xl mx-auto mb-10 leading-relaxed font-light drop-shadow-md",children:"Transparent, on-time, and built on trust. We provide dry van, flatbed, and FTL logistics solutions across the U.S. transportation network."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[c.jsx(ot,{to:"/request-quote",className:"group relative px-10 py-5 bg-blue-700 hover:bg-blue-600 text-white text-lg font-bold rounded-xl transition-all duration-300 shadow-[0_10px_20px_rgba(29,78,216,0.3)] hover:shadow-[0_15px_30px_rgba(29,78,216,0.5)] hover:translate-y-[-2px] overflow-hidden border border-blue-500/50",children:c.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Request a Quote",c.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]})}),c.jsx(ot,{to:"/carrier-signup",className:"group relative px-10 py-5 bg-slate-800/80 backdrop-blur-md border border-slate-600 hover:border-blue-500/50 text-slate-100 text-lg font-bold rounded-xl transition-all duration-300 hover:bg-slate-800 shadow-lg hover:shadow-[0_10px_20px_rgba(30,58,138,0.3)] hover:translate-y-[-2px]",children:"Join Our Carrier Network"})]})]})]}),c.jsx("section",{className:"py-24 relative overflow-hidden bg-slate-950 border-t border-slate-900",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold mb-6 text-white tracking-tight",children:"Why Choose Loyal Brokerage?"}),c.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-xl font-medium",children:"Built for long-term consistency and operational excellence."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsx(hu,{Icon:vF,title:"Reliable Execution",desc:"We treat every shipment with the highest level of security and care, ensuring your freight arrives safely and on time."}),c.jsx(hu,{Icon:V8,title:"24/7 Support",desc:"Our dedicated logistics team is available around the clock to answer questions and keep you updated."}),c.jsx(hu,{Icon:An,title:"Market Efficiency",desc:"We leverage our vast network to secure the best market rates without compromising on service quality."}),c.jsx(hu,{Icon:lF,title:"Nationwide Scale",desc:"From coast to coast, our vetted carrier network ensures you always have reliable capacity anywhere in the US."})]})]})}),c.jsxs("section",{id:"services",className:"py-32 px-6 relative bg-slate-50 border-t border-slate-200 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[c.jsx("img",{src:"/assets/warehouse-dock-day.png",alt:"Active Warehouse Operations",className:"w-full h-full object-cover opacity-[0.09] saturate-50 contrast-125 mix-blend-multiply"}),c.jsx("div",{className:"absolute inset-0 bg-noise opacity-[0.03]"})]}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 grid lg:grid-cols-2 gap-16 items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 tracking-tight leading-tight mb-6",children:["We Execute",c.jsx("br",{}),"Freight at Scale."]}),c.jsx("p",{className:"text-xl text-slate-600 font-medium leading-relaxed max-w-xl",children:"Through disciplined lanes, vetted carriers, and real-time execution, we move freight predictably  even when markets tighten."})]}),c.jsxs("div",{className:"border-l-2 border-slate-200 pl-8 space-y-10",children:[c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Lane-Based Capacity"})]}),c.jsx("p",{className:"text-slate-500 text-base pl-4.5",children:"Repeatable lanes, reduced volatility."})]}),c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Carrier Compliance Control"})]}),c.jsx("p",{className:"text-slate-500 text-base pl-4.5",children:"Strict vetting before every dispatch."})]}),c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Exception-First Operations"})]}),c.jsx("p",{className:"text-slate-500 text-base pl-4.5",children:"Proactive resolution, not passive tracking."})]}),c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),c.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Live Visibility & Accountability"})]}),c.jsx("p",{className:"text-slate-500 text-base pl-4.5",children:"Single point of contact from quote to POD."})]})]})]})]}),c.jsxs("section",{className:"py-32 px-6 bg-slate-950 relative border-t border-slate-900 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"/assets/dark_logistics_texture.png",alt:"",className:"w-full h-full object-cover opacity-10 mix-blend-overlay"}),c.jsx("div",{className:"absolute inset-0 bg-slate-950/80"})]}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 grid lg:grid-cols-5 gap-16 items-start",children:[c.jsxs("div",{className:"lg:col-span-2 lg:sticky lg:top-32",children:[c.jsx("div",{className:"inline-block px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-sm text-xs font-bold mb-6 tracking-widest uppercase",children:"Our Discipline"}),c.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold text-white mb-6 tracking-tight leading-tight",children:"Specialized Freight Focus"}),c.jsx("p",{className:"text-xl text-slate-400 font-medium leading-relaxed mb-8",children:"We don't try to be everything to everyone. We specialize in high-volume sectors where reliability is paramount."}),c.jsxs("ul",{className:"space-y-4 text-slate-300 font-medium",children:[c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600"})," Lane-Focused Capacity"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600"})," Carrier Compliance Vetting"]}),c.jsxs("li",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600"})," High-Value Cargo"]})]})]}),c.jsxs("div",{className:"lg:col-span-3 grid sm:grid-cols-2 gap-6",children:[c.jsx(Ka,{Icon:lO,title:"Packaged Food & Beverage",dark:!0}),c.jsx(Ka,{Icon:_F,title:"Retail & Consumer Goods",dark:!0}),c.jsx(Ka,{Icon:z8,title:"E-commerce Fulfillment",dark:!0}),c.jsx(Ka,{Icon:q8,title:"Paper & Packaging",dark:!0}),c.jsx(Ka,{Icon:w8,title:"General Merchandise",dark:!0}),c.jsx(Ka,{Icon:zs,title:"Regional Distribution",dark:!0})]})]})]}),c.jsxs("section",{className:"py-32 px-6 relative border-t border-gray-200 bg-cover bg-center",style:{backgroundImage:"url('/assets/office-dispatch-day.png')"},children:[c.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-[1px]"}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 grid lg:grid-cols-2 gap-16 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-8 text-slate-900 tracking-tight leading-tight",children:"Built on Operational Discipline"}),c.jsxs("div",{className:"text-lg text-slate-700 space-y-6 leading-relaxed font-medium",children:[c.jsx("p",{children:"Loyal Brokerage LLC provides predictable, high-volume capacity for enterprise supply chains. Our model is built on lane density, strict carrier compliance, and proactive communication."}),c.jsx("p",{children:"We do not rely on guesswork. We execute with precision, leveraging a vetted network to ensure your freight moves on schedule, every time."})]})]}),c.jsxs("div",{className:"border-l-4 border-slate-900 pl-8",children:[c.jsx("p",{className:"text-xl text-slate-800 font-bold mb-4",children:'"We prioritize depth over breadth."'}),c.jsx("p",{className:"text-slate-600",children:"By specializing in our core competencieshandling dry van, packaged goods, and retail distributionwe turn logistics into a streamlined advantage. Our team proactively manages exceptions to keep your supply chain moving."})]})]})]}),c.jsx("section",{className:"py-16 px-6 bg-slate-900 relative border-y border-slate-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-2 tracking-tight",children:"Multi-State"}),c.jsx("div",{className:"text-blue-500 font-mono text-xs uppercase tracking-widest",children:"Coverage"})]}),c.jsxs("div",{className:"p-4 border-l border-slate-800/50",children:[c.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-2 tracking-tight",children:"24/7"}),c.jsx("div",{className:"text-blue-500 font-mono text-xs uppercase tracking-widest",children:"Live Operations"})]}),c.jsxs("div",{className:"p-4 border-l border-slate-800/50",children:[c.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-2 tracking-tight",children:"Verified"}),c.jsx("div",{className:"text-blue-500 font-mono text-xs uppercase tracking-widest",children:"Carrier Network"})]}),c.jsxs("div",{className:"p-4 border-l border-slate-800/50",children:[c.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-2 tracking-tight",children:"Performance"}),c.jsx("div",{className:"text-blue-500 font-mono text-xs uppercase tracking-widest",children:"On-Time Focus"})]})]})}),c.jsx("section",{className:"py-20 px-6 border-y border-gray-100 bg-white relative",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-12 relative z-10",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-3xl font-bold mb-6 text-blue-800",children:"Compliance & Safety First"}),c.jsxs("ul",{className:"space-y-4 text-gray-600",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600",children:""})," Full FMCSA Compliance & Active Authority"]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600",children:""})," Rigorous Carrier Vetting Process"]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600",children:""})," Comprehensive Insurance Requirements"]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-green-600",children:""})," Real-Time Shipment Visibility 24/7"]})]})]}),c.jsxs("div",{className:"flex-1 bg-gray-50 p-10 rounded-2xl border border-gray-100 text-center shadow-lg",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(bF,{className:"w-16 h-16 text-blue-900 opacity-80",strokeWidth:2.5})}),c.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-900",children:"Secure Supply Chain"}),c.jsx("p",{className:"text-gray-500 leading-relaxed",children:"We don't just move freight; we protect your business reputation with industry-leading safety standards."})]})]})}),c.jsxs("section",{className:"py-24 px-6 relative border-t border-gray-800 bg-slate-900 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"/assets/warehouse-dock-day.png",alt:"Logistics Operations",className:"w-full h-full object-cover opacity-40 filter contrast-110"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950/90 via-slate-900/60 to-slate-950/90"})]}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsx("h2",{className:"text-4xl font-extrabold text-center mb-16 text-white tracking-tight drop-shadow-lg",children:"How We Move Your Freight"}),c.jsx("div",{className:"hidden md:block absolute top-[280px] left-[10%] right-[10%] h-0.5 bg-slate-600/50 z-0"}),c.jsxs("div",{className:"grid md:grid-cols-4 gap-8 relative z-10",children:[c.jsxs("div",{className:"text-center group",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-800 rounded-lg flex items-center justify-center mb-6 border border-slate-700 relative z-10",children:c.jsx("span",{className:"text-slate-400 font-mono font-bold text-lg",children:"01"})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-2 tracking-wide",children:"Quote Request"}),c.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Submit specifications via portal. Receive actionable market rates."})]}),c.jsxs("div",{className:"text-center group",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-800 rounded-lg flex items-center justify-center mb-6 border border-slate-700 relative z-10",children:c.jsx("span",{className:"text-slate-400 font-mono font-bold text-lg",children:"02"})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-2 tracking-wide",children:"Carrier Matching"}),c.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Freight matched with vetted network partners based on lane history."})]}),c.jsxs("div",{className:"text-center group",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-800 rounded-lg flex items-center justify-center mb-6 border border-slate-700 relative z-10",children:c.jsx("span",{className:"text-slate-400 font-mono font-bold text-lg",children:"03"})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-2 tracking-wide",children:"Dispatch & Track"}),c.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"System-wide visibility from pickup through final delivery."})]}),c.jsxs("div",{className:"text-center group",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-slate-800 rounded-lg flex items-center justify-center mb-6 border border-slate-700 relative z-10",children:c.jsx("span",{className:"text-slate-400 font-mono font-bold text-lg",children:"04"})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-2 tracking-wide",children:"Delivery & POD"}),c.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Instant POD upload and billing trigger upon completion."})]})]})]})]}),c.jsx("section",{className:"py-24 px-6 bg-gray-50 border-t border-gray-200 relative",children:c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsx("h2",{className:"text-4xl font-extrabold text-center mb-12 text-gray-900 tracking-tight",children:"Frequently Asked Questions"}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Ha,{q:"How does a freight broker help reduce shipping costs?",a:"We leverage our density in key lanes to find the best available capacity. By consolidating volume with our core carrier partners, we secure more stable, competitive rates than ad-hoc bookings."}),c.jsx(Ha,{q:"What is your primary freight focus?",a:"Our core expertise is in Dry Van transportation, specifically for packaged food, retail goods, and general palletized freight. This focus allows us to provide higher reliability and better service on these shipment types."}),c.jsx(Ha,{q:"How fast can I receive a shipping quote?",a:"Very fast. Because we know our lanes and market rates deeply, we can typically provide a competitive, actionable quote within minutes for standard lanes."}),c.jsx(Ha,{q:"Are your carriers insured and compliant?",a:"Absolutely. Every carrier in our network undergoes a strict vetting process. We verify FMCSA authority, safety ratings, and ensure they meet our high insurance coverage requirements before moving a single pallet."}),c.jsx(Ha,{q:"Do you handle other freight types?",a:"Yes. While our primary focus is dry van, we support our partners with flatbed, LTL, and expedited solutions as part of a comprehensive service relationship."}),c.jsx(Ha,{q:"How does your carrier onboarding process work?",a:"It's fully digital. Click 'Join Carrier Network', fill out your profile, and upload your documents. Our compliance team reviews applications quickly so you can start booking loads ASAP."})]})]})}),c.jsx(Xn,{})]})}function hu({Icon:e,iconImg:t,title:r,desc:n}){return c.jsxs("div",{className:"relative group bg-gray-800/40 backdrop-blur-sm p-8 rounded-3xl border border-white/5 hover:border-blue-500/30 transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_20px_40px_-5px_rgba(30,58,138,0.3)] overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/0 via-blue-500/0 to-blue-500/5 group-hover:to-blue-500/20 transition-all duration-500 opacity-0 group-hover:opacity-100 dark:mix-blend-overlay"}),c.jsx("div",{className:"absolute inset-0 bg-noise opacity-[0.03]"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-gray-900/50 border border-white/5 shadow-inner group-hover:shadow-[0_0_20px_rgba(59,130,246,0.2)] transition-all duration-500",children:e?c.jsx(e,{className:"w-10 h-10 text-gray-400 group-hover:text-blue-400 transition-all duration-300 transform group-hover:scale-105 group-hover:drop-shadow-[0_0_10px_rgba(59,130,246,0.5)]",strokeWidth:2.5}):t?c.jsx("img",{src:t,alt:r,className:"w-10 h-10 object-contain opacity-70 group-hover:opacity-100 transition-all duration-500"}):null}),c.jsx("h3",{className:"text-xl font-bold mb-3 text-white group-hover:text-blue-300 transition-colors duration-300",children:r}),c.jsx("p",{className:"text-gray-400 leading-relaxed font-light",children:n})]})]})}function Ka({Icon:e,title:t,dark:r}){return c.jsxs("div",{className:`p-8 rounded-xl border flex flex-col items-center hover:border-blue-500 transition-all duration-300 shadow-sm hover:shadow-lg group ${r?"bg-slate-700/50 border-slate-600 hover:bg-slate-700":"bg-gray-50 border-gray-200 hover:bg-white"}`,children:[c.jsx("div",{className:`mb-5 transition-colors ${r?"text-slate-400 group-hover:text-blue-400":"text-gray-400 group-hover:text-blue-600"}`,children:c.jsx(e,{size:44,strokeWidth:2.5})}),c.jsx("h4",{className:`font-bold transition-colors ${r?"text-slate-200 group-hover:text-white":"text-gray-800 group-hover:text-gray-900"}`,children:t})]})}function Ha({q:e,a:t}){const[r,n]=y.useState(!1);return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all",children:[c.jsxs("button",{onClick:()=>n(!r),className:"w-full flex justify-between items-center p-6 text-left font-bold text-gray-900 hover:bg-gray-50 transition",children:[c.jsx("span",{children:e}),c.jsx("span",{className:`text-blue-600 transform transition-transform ${r?"rotate-180":""}`,children:""})]}),r&&c.jsx("div",{className:"p-6 pt-0 text-gray-600 border-t border-gray-100 bg-gray-50/50",children:c.jsx("p",{children:t})})]})}async function LF(e,t){try{const r=crypto.randomUUID(),n={};for(const[a,s]of Object.entries(t)){if(!s)continue;const o=s.name.split(".").pop(),l=`${a}.${o}`,u=`carrier_docs/${r}/${l}`,{error:d}=await U.storage.from("carrier_docs").upload(u,s);if(d)throw new Error(`Upload failed for ${a}: ${d.message}`);const{data:f}=U.storage.from("carrier_docs").getPublicUrl(u);n[`${a}_url`]=f.publicUrl}const{error:i}=await U.from("carrier_applications").insert([{id:r,...e,...n}]);if(i)throw new Error(`Database insert failed: ${i.message}`);return{success:!0}}catch(r){return console.error("Submission Error:",r),{success:!1,message:r.message}}}function $F(){const e=Fi(),[t,r]=y.useState(!1),[n,i]=y.useState(null),[a,s]=y.useState({company_name:"",dba:"",business_type:"LLC",address_street:"",address_city:"",address_state:"",address_zip:"",mc_number:"",dot_number:"",ein:"",years_in_business:"",primary_contact:"",primary_phone:"",primary_email:"",dispatch_contact:"",dispatch_phone:"",billing_email:"",after_hours_phone:"",truck_count:"",driver_count:"",equipment_types:[],operating_states:[],hazmat:!1,safety_rating:"Satisfactory",liability_amount:"",cargo_amount:"",insurance_company:"",agent_name:"",agent_email:"",agent_phone:"",policy_expiration:"",compliance_1:!1,compliance_2:!1,compliance_3:!1,compliance_4:!1}),[o,l]=y.useState({w9:null,coi:null,insurance_doc:null,authority_letter:null,agreement:null,ach:null}),u=g=>{const{name:b,value:w,type:j,checked:_}=g.target;s(S=>({...S,[b]:j==="checkbox"?_:w}))},d=(g,b)=>{const{value:w,checked:j}=g.target;s(_=>{const S=_[b];return j?{..._,[b]:[...S,w]}:{..._,[b]:S.filter(N=>N!==w)}})},f=(g,b)=>{l({...o,[b]:g.target.files[0]})},h=g=>{i(g),setTimeout(()=>i(null),3e3)},m=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],p=()=>{s(g=>g.operating_states.length===m.length?{...g,operating_states:[]}:{...g,operating_states:[...m]})},x=async g=>{if(g.preventDefault(),!a.compliance_1||!a.compliance_2||!a.compliance_3||!a.compliance_4){alert("Please agree to all legal compliance statements.");return}r(!0),h("Uploading documents...");const b=await LF(a,o);if(b.success){try{await fetch("http://localhost:8000/send-notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"carrier",customerEmail:a.primary_email,slackWebhookUrl:"",discordWebhookUrl:"",data:a})})}catch(w){console.error("Notification failed:",w)}h("Form Submitted Successfully!"),e("/carrier-success")}else alert("Submission Failed: "+b.message),r(!1)},v=!a.compliance_1||!a.compliance_2||!a.compliance_3||!a.compliance_4;return c.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans selection:bg-blue-600 selection:text-white",children:[c.jsx(Yn,{}),n&&c.jsx("div",{className:"fixed top-24 right-5 bg-blue-700 text-white px-6 py-3 rounded-lg shadow-xl z-50 animate-fade-in-down",children:n}),c.jsx("div",{className:"pt-32 pb-20 px-4 md:px-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 text-gray-900 tracking-tight",children:"Carrier Registration"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Complete our FMCSA-compliant onboarding to start hauling."})]}),c.jsxs("form",{onSubmit:x,className:"space-y-10",children:[c.jsxs(Oo,{title:"A. Business Information",children:[c.jsx(me,{label:"Company Legal Name",name:"company_name",value:a.company_name,onChange:u,required:!0}),c.jsx(me,{label:"DBA (Optional)",name:"dba",value:a.dba,onChange:u}),c.jsxs(up,{label:"Business Type",name:"business_type",value:a.business_type,onChange:u,children:[c.jsx("option",{children:"LLC"}),c.jsx("option",{children:"Corporation"}),c.jsx("option",{children:"Sole Proprietor"}),c.jsx("option",{children:"Partnership"})]}),c.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(me,{label:"Street Address",name:"address_street",value:a.address_street,onChange:u,containerClass:"col-span-2 lg:col-span-1",required:!0}),c.jsx(me,{label:"City",name:"address_city",value:a.address_city,onChange:u,required:!0}),c.jsx(me,{label:"State",name:"address_state",value:a.address_state,onChange:u,required:!0}),c.jsx(me,{label:"ZIP Code",name:"address_zip",value:a.address_zip,onChange:u,required:!0})]}),c.jsx(me,{label:"MC Number",name:"mc_number",value:a.mc_number,onChange:u,required:!0}),c.jsx(me,{label:"DOT Number",name:"dot_number",value:a.dot_number,onChange:u,required:!0}),c.jsx(me,{label:"EIN",name:"ein",value:a.ein,onChange:u,required:!0}),c.jsx(me,{label:"Years in Business",name:"years_in_business",type:"number",value:a.years_in_business,onChange:u,required:!0})]}),c.jsxs(Oo,{title:"B. Contact Information",children:[c.jsx(me,{label:"Primary Contact Name",name:"primary_contact",value:a.primary_contact,onChange:u,required:!0}),c.jsx(me,{label:"Primary Phone",name:"primary_phone",value:a.primary_phone,onChange:u,required:!0}),c.jsx(me,{label:"Primary Email",name:"primary_email",type:"email",value:a.primary_email,onChange:u,required:!0}),c.jsx(me,{label:"Dispatch Contact",name:"dispatch_contact",value:a.dispatch_contact,onChange:u}),c.jsx(me,{label:"Dispatch Phone",name:"dispatch_phone",value:a.dispatch_phone,onChange:u}),c.jsx(me,{label:"After Hours Phone",name:"after_hours_phone",value:a.after_hours_phone,onChange:u}),c.jsx(me,{label:"Billing Email",name:"billing_email",type:"email",value:a.billing_email,onChange:u,required:!0})]}),c.jsxs(Oo,{title:"C. Fleet & Operations",children:[c.jsx(me,{label:"Number of Trucks",name:"truck_count",type:"number",value:a.truck_count,onChange:u,required:!0}),c.jsx(me,{label:"Number of Drivers",name:"driver_count",type:"number",value:a.driver_count,onChange:u,required:!0}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Equipment Types"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-gray-50 p-4 rounded-xl border border-gray-200",children:["Dry Van","Reefer","Flatbed","Stepdeck","Power Only","Box Truck"].map(g=>c.jsx(F_,{label:g,value:g,onChange:b=>d(b,"equipment_types")},g))})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700",children:["Operating States (",a.operating_states.length," Selected)"]}),c.jsx("button",{type:"button",onClick:p,className:"px-3 py-1 text-sm rounded bg-gray-200 hover:bg-gray-300 text-gray-800 transition border border-gray-300 font-semibold",children:a.operating_states.length===m.length?"Deselect All":"Select All"})]}),c.jsx("div",{className:"h-40 overflow-y-auto bg-gray-50 p-4 rounded-xl border border-gray-200 grid grid-cols-3 sm:grid-cols-5 gap-2",children:m.map(g=>c.jsx(F_,{label:g,value:g,checked:a.operating_states.includes(g),onChange:b=>d(b,"operating_states")},g))})]}),c.jsxs(up,{label:"Hazmat Certified?",name:"hazmat",value:a.hazmat,onChange:g=>s({...a,hazmat:g.target.value==="true"}),children:[c.jsx("option",{value:!1,children:"No"}),c.jsx("option",{value:!0,children:"Yes"})]}),c.jsxs(up,{label:"Safety Rating",name:"safety_rating",value:a.safety_rating,onChange:u,children:[c.jsx("option",{children:"Satisfactory"}),c.jsx("option",{children:"Conditional"}),c.jsx("option",{children:"Unsatisfactory"}),c.jsx("option",{children:"Not Rated"})]})]}),c.jsxs(Oo,{title:"D. Insurance Details",children:[c.jsx(me,{label:"Liability Coverage $",name:"liability_amount",value:a.liability_amount,onChange:u,required:!0}),c.jsx(me,{label:"Cargo Coverage $",name:"cargo_amount",value:a.cargo_amount,onChange:u,required:!0}),c.jsx(me,{label:"Insurance Company",name:"insurance_company",value:a.insurance_company,onChange:u,required:!0}),c.jsx(me,{label:"Agent Name",name:"agent_name",value:a.agent_name,onChange:u,required:!0}),c.jsx(me,{label:"Agent Phone",name:"agent_phone",value:a.agent_phone,onChange:u,required:!0}),c.jsx(me,{label:"Agent Email",name:"agent_email",value:a.agent_email,onChange:u,required:!0}),c.jsx(me,{label:"Policy Expiration",type:"date",name:"policy_expiration",value:a.policy_expiration,onChange:u,required:!0})]}),c.jsx(Oo,{title:"E. Required Documents",children:c.jsxs("div",{className:"col-span-2 grid md:grid-cols-2 gap-6",children:[c.jsx(Ga,{label:"W9 Form",file:o.w9,onChange:g=>f(g,"w9")}),c.jsx(Ga,{label:"Certificate of Insurance (COI)",file:o.coi,onChange:g=>f(g,"coi")}),c.jsx(Ga,{label:"Insurance Coverage Doc",file:o.insurance_doc,onChange:g=>f(g,"insurance_doc")}),c.jsx(Ga,{label:"MC Authority Letter",file:o.authority_letter,onChange:g=>f(g,"authority_letter")}),c.jsx(Ga,{label:"Signed Carrier Agreement",file:o.agreement,onChange:g=>f(g,"agreement")}),c.jsx(Ga,{label:"ACH / Voided Check",file:o.ach,onChange:g=>f(g,"ach")})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 p-8 rounded-3xl shadow-lg",children:[c.jsx("h3",{className:"text-xl font-bold text-red-600 mb-6 border-b border-gray-100 pb-2",children:"F. Legal Compliance"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(mu,{name:"compliance_1",checked:a.compliance_1,onChange:u,label:"I certify all information provided is accurate."}),c.jsx(mu,{name:"compliance_2",checked:a.compliance_2,onChange:u,label:"I acknowledge Loyal Brokerage LLC may verify insurance, safety rating, and authority."}),c.jsx(mu,{name:"compliance_3",checked:a.compliance_3,onChange:u,label:"I agree to abide by FMCSA regulations (49 CFR Parts 350399)."}),c.jsx(mu,{name:"compliance_4",checked:a.compliance_4,onChange:u,label:"I have read and accepted the Loyal Brokerage LLC Carrier Agreement."})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-6 pt-4 border-t border-gray-100 italic",children:"Submission of this application does not constitute a contractual relationship. Carrier Agreement will be provided upon approval."})]}),c.jsxs("div",{className:"pt-4 pb-20",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Submission of this application does not constitute a contractual relationship. Carrier Agreement will be provided upon approval."}),c.jsx("button",{type:"submit",disabled:t||v,className:`w-full py-5 text-xl font-bold text-white rounded-xl transition shadow-lg ${t||v?"bg-gray-400 cursor-not-allowed":"bg-blue-700 hover:bg-blue-600 transform hover:scale-[1.01]"}`,children:t?"Processing Application...":"Submit Application"})]})]})]})}),c.jsx(Xn,{})]})}function Oo({title:e,children:t}){return c.jsxs("div",{className:"bg-white border border-gray-200 p-8 rounded-3xl shadow-sm hover:shadow-md transition",children:[c.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-6 border-b border-gray-100 pb-2",children:e}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t})]})}function me({label:e,containerClass:t="",...r}){return c.jsxs("div",{className:`flex flex-col gap-2 ${t}`,children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:e}),c.jsx("input",{className:"bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 block w-full p-3 shadow-sm border border-gray-300 font-medium",...r})]})}function up({label:e,children:t,...r}){return c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:e}),c.jsx("select",{className:"bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 block w-full p-3 shadow-sm border border-gray-300 font-medium",...r,children:t})]})}function F_({label:e,...t}){return c.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",...t}),c.jsx("span",{className:"text-sm text-gray-700 font-medium",children:e})]})}function mu({label:e,...t}){return c.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer p-4 bg-gray-50 rounded-xl border border-gray-200 hover:border-blue-300 transition",children:[c.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",...t}),c.jsx("span",{className:"text-sm text-gray-700 font-medium leading-relaxed",children:e})]})}function Ga({label:e,file:t,onChange:r}){return c.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-dashed border-gray-300 flex flex-col gap-2 group hover:border-blue-500 transition",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700 group-hover:text-blue-700",children:e}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("input",{type:"file",onChange:r,className:"text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"}),t&&c.jsx("span",{className:"text-green-700 text-xs font-bold bg-green-100 px-2 py-1 rounded border border-green-200",children:"Uploaded "})]})]})}function FF(){return c.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans flex flex-col",children:[c.jsx(Yn,{}),c.jsx("div",{className:"flex-grow flex items-center justify-center px-6 pt-32 pb-20",children:c.jsx("div",{className:"bg-white border border-gray-200 p-12 rounded-3xl shadow-xl max-w-2xl w-full text-center relative overflow-hidden",children:c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce",children:c.jsx("span",{className:"text-5xl",children:""})}),c.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-gray-900 tracking-tight",children:"Thank you for applying!"}),c.jsxs("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:["Our compliance team will review your application and contact you within ",c.jsx("span",{className:"font-bold text-blue-600",children:"2448 hours"}),"."]}),c.jsx(ot,{to:"/",className:"px-10 py-4 bg-blue-700 hover:bg-blue-600 text-white font-bold rounded-xl transition shadow-md hover:shadow-lg",children:"Return Home"})]})})}),c.jsx(Xn,{})]})}function BF(){const[e,t]=y.useState(null),[r,n]=y.useState(!1),[i,a]=y.useState({company_name:"",contact_name:"",email:"",phone:"",pickup_city:"",pickup_state:"",delivery_city:"",delivery_state:"",pickup_date:"",delivery_date:"",equipment_type:"Dry Van",commodity:"",weight:"",pallets:"",special_notes:""}),[s,o]=y.useState(null),l=h=>{const{name:m,value:p}=h.target;a(x=>({...x,[m]:p}))},u=h=>{o(h.target.files[0])},d=(h,m="success")=>{t({message:h,type:m}),setTimeout(()=>t(null),4e3)},f=async h=>{h.preventDefault(),n(!0);let m=null;try{if(s){d("Uploading attachment...","info");const v=s.name.split(".").pop(),b=`quote_attachments/${`${crypto.randomUUID()}.${v}`}`,{error:w}=await U.storage.from("attachments").upload(b,s);if(w)throw new Error("File upload failed: "+w.message);const{data:j}=U.storage.from("attachments").getPublicUrl(b);m=j.publicUrl}const p={company_name:i.company_name,contact_name:i.contact_name,email:i.email,phone:i.phone,pickup_city:i.pickup_city,pickup_state:i.pickup_state,delivery_city:i.delivery_city,delivery_state:i.delivery_state,weight:i.weight,pallets:i.pallets,equipment_type:i.equipment_type,special_notes:i.special_notes,attachment_url:m,commodity:i.commodity,pickup_date:i.pickup_date,delivery_date:i.delivery_date},{error:x}=await U.from("quotes").insert([p]);if(x)throw new Error("Submission failed: Please try again or contact support.");try{await fetch("http://localhost:8000/send-notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"quote",customerEmail:i.email,slackWebhookUrl:"",discordWebhookUrl:"",data:i})})}catch(v){console.error("Notification failed:",v)}d("Quote request submitted successfully.","success"),a({company_name:"",contact_name:"",email:"",phone:"",pickup_city:"",pickup_state:"",delivery_city:"",delivery_state:"",pickup_date:"",delivery_date:"",equipment_type:"Dry Van",commodity:"",weight:"",pallets:"",special_notes:""}),o(null)}catch(p){console.error("Submission error:",p),d(p.message||"Something went wrong, please try again.","error")}finally{n(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans selection:bg-blue-600 selection:text-white",children:[c.jsx(Yn,{}),e&&c.jsxs("div",{className:`fixed bottom-10 right-10 px-6 py-4 rounded-xl shadow-2xl z-50 animate-bounce flex items-center gap-3 ${e.type==="error"?"bg-red-600":e.type==="info"?"bg-blue-600":"bg-green-600"} text-white`,children:[c.jsx("span",{className:"text-2xl",children:e.type==="error"?"":""}),c.jsx("span",{className:"font-bold",children:e.message})]}),c.jsx("div",{className:"pt-32 pb-20 px-4 md:px-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 text-gray-900 tracking-tight",children:"Request a Freight Quote"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Get a fast, professional, and competitive quote for your shipment."})]}),c.jsx("div",{className:"bg-white border border-gray-200 p-8 md:p-12 rounded-3xl shadow-lg relative overflow-hidden",children:c.jsxs("form",{onSubmit:f,className:"space-y-10 relative z-10",children:[c.jsxs(pu,{title:"A. Shipper Information",children:[c.jsx(ir,{label:"Company Name",name:"company_name",value:i.company_name,onChange:l,required:!0}),c.jsx(ir,{label:"Contact Name",name:"contact_name",value:i.contact_name,onChange:l,required:!0}),c.jsx(ir,{label:"Email Address",type:"email",name:"email",value:i.email,onChange:l,required:!0}),c.jsx(ir,{label:"Phone Number",type:"tel",name:"phone",value:i.phone,onChange:l,required:!0})]}),c.jsxs(pu,{title:"B. Load Details",children:[c.jsx(ir,{label:"Pickup City",name:"pickup_city",value:i.pickup_city,onChange:l,required:!0}),c.jsx(ir,{label:"Pickup State",name:"pickup_state",value:i.pickup_state,onChange:l,required:!0}),c.jsx(ir,{label:"Delivery City",name:"delivery_city",value:i.delivery_city,onChange:l,required:!0}),c.jsx(ir,{label:"Delivery State",name:"delivery_state",value:i.delivery_state,onChange:l,required:!0}),c.jsx(ir,{label:"Pickup Date",type:"date",name:"pickup_date",value:i.pickup_date,onChange:l,required:!0}),c.jsx(ir,{label:"Delivery Date (Optional)",type:"date",name:"delivery_date",value:i.delivery_date,onChange:l}),c.jsxs(zF,{label:"Equipment Type",name:"equipment_type",value:i.equipment_type,onChange:l,children:[c.jsx("option",{children:"Dry Van"}),c.jsx("option",{children:"Reefer"}),c.jsx("option",{children:"Flatbed"}),c.jsx("option",{children:"Stepdeck"})]}),c.jsx(ir,{label:"Commodity",name:"commodity",value:i.commodity,onChange:l,required:!0}),c.jsx(ir,{label:"Weight (lbs)",type:"text",name:"weight",value:i.weight,onChange:l,required:!0}),c.jsx(ir,{label:"Pallets / Pieces",type:"text",name:"pallets",value:i.pallets,onChange:l,required:!0})]}),c.jsx(pu,{title:"C. Additional Notes",children:c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"Special Requirements"}),c.jsx("textarea",{name:"special_notes",value:i.special_notes,onChange:l,rows:"4",className:"bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 block w-full p-3 shadow-sm border border-gray-300",placeholder:"Hazmat, team drivers, tarps, fragile cargo, etc..."})]})}),c.jsx(pu,{title:"D. Optional Attachment",children:c.jsx("div",{className:"col-span-2",children:c.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-dashed border-gray-300 hover:border-blue-500 transition group cursor-pointer relative",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 cursor-pointer",children:"Upload Load Sheet / Rate Con"}),c.jsx("input",{type:"file",onChange:u,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-blue-600 file:text-white hover:file:bg-blue-700 transition cursor-pointer"}),s&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-700 bg-green-50 px-3 py-2 rounded-lg inline-block border border-green-200",children:[c.jsxs("span",{children:[" ",s.name]}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Attached"})]})]})})}),c.jsx("div",{className:"pt-6",children:c.jsx("button",{type:"submit",disabled:r,className:`w-full py-4 text-xl font-bold text-white rounded-lg shadow-md bg-blue-700 hover:bg-blue-600 transition-all duration-300  ${r?"opacity-70 cursor-not-allowed":""}`,children:r?"Processing...":"Submit Quote Request"})})]})})]})}),c.jsx(Xn,{})]})}function pu({title:e,children:t}){return c.jsxs("div",{className:"bg-white border-b border-gray-100 pb-8 last:border-0",children:[c.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-6 border-l-4 border-blue-600 pl-4",children:e}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t})]})}function ir({label:e,...t}){return c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:e}),c.jsx("input",{className:"bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 block w-full p-3 shadow-sm border border-gray-300 transition-all font-medium",...t})]})}function zF({label:e,children:t,...r}){return c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:e}),c.jsx("select",{className:"bg-gray-50 text-gray-900 text-sm rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 block w-full p-3 shadow-sm border border-gray-300 font-medium",...r,children:t})]})}const tx=y.createContext({});function rx(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const nx=typeof window<"u",uO=nx?y.useLayoutEffect:y.useEffect,vh=y.createContext(null);function ix(e,t){e.indexOf(t)===-1&&e.push(t)}function ax(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ln=(e,t,r)=>r>t?t:r<e?e:r;let sx=()=>{};const $n={},dO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fO(e){return typeof e=="object"&&e!==null}const hO=e=>/^0[^.\s]+$/u.test(e);function ox(e){let t;return()=>(t===void 0&&(t=e()),t)}const kr=e=>e,UF=(e,t)=>r=>t(e(r)),dc=(...e)=>e.reduce(UF),Rl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class lx{constructor(){this.subscriptions=[]}add(t){return ix(this.subscriptions,t),()=>ax(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dn=e=>e*1e3,Sr=e=>e/1e3;function mO(e,t){return t?e*(1e3/t):0}const pO=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,VF=1e-7,WF=12;function qF(e,t,r,n,i){let a,s,o=0;do s=t+(r-t)/2,a=pO(s,n,i)-e,a>0?r=s:t=s;while(Math.abs(a)>VF&&++o<WF);return s}function fc(e,t,r,n){if(e===t&&r===n)return kr;const i=a=>qF(a,0,1,e,r);return a=>a===0||a===1?a:pO(i(a),t,n)}const gO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yO=e=>t=>1-e(1-t),vO=fc(.33,1.53,.69,.99),cx=yO(vO),xO=gO(cx),bO=e=>(e*=2)<1?.5*cx(e):.5*(2-Math.pow(2,-10*(e-1))),ux=e=>1-Math.sin(Math.acos(e)),wO=yO(ux),_O=gO(ux),KF=fc(.42,0,1,1),HF=fc(0,0,.58,1),jO=fc(.42,0,.58,1),GF=e=>Array.isArray(e)&&typeof e[0]!="number",SO=e=>Array.isArray(e)&&typeof e[0]=="number",YF={linear:kr,easeIn:KF,easeInOut:jO,easeOut:HF,circIn:ux,circInOut:_O,circOut:wO,backIn:cx,backInOut:xO,backOut:vO,anticipate:bO},XF=e=>typeof e=="string",B_=e=>{if(SO(e)){sx(e.length===4);const[t,r,n,i]=e;return fc(t,r,n,i)}else if(XF(e))return YF[e];return e},gu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JF(e,t){let r=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){s.has(d)&&(u.schedule(d),e()),d(o)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&i?r:n;return f&&s.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,a&&(a=!1,u.process(d))}};return u}const QF=40;function NO(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=gu.reduce((w,j)=>(w[j]=JF(a),w),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=s,x=()=>{const w=$n.useManualTiming?i.timestamp:performance.now();r=!1,$n.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,QF),1)),i.timestamp=w,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(x))},v=()=>{r=!0,n=!0,i.isProcessing||e(x)};return{schedule:gu.reduce((w,j)=>{const _=s[j];return w[j]=(S,N=!1,E=!1)=>(r||v(),_.schedule(S,N,E)),w},{}),cancel:w=>{for(let j=0;j<gu.length;j++)s[gu[j]].cancel(w)},state:i,steps:s}}const{schedule:Se,cancel:Oi,state:vt,steps:dp}=NO(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0);let Zu;function ZF(){Zu=void 0}const Gt={now:()=>(Zu===void 0&&Gt.set(vt.isProcessing||$n.useManualTiming?vt.timestamp:performance.now()),Zu),set:e=>{Zu=e,queueMicrotask(ZF)}},EO=e=>t=>typeof t=="string"&&t.startsWith(e),dx=EO("--"),eB=EO("var(--"),fx=e=>eB(e)?tB.test(e.split("/*")[0].trim()):!1,tB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ml={...uo,transform:e=>Ln(0,1,e)},yu={...uo,default:1},al=e=>Math.round(e*1e5)/1e5,hx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rB(e){return e==null}const nB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mx=(e,t)=>r=>!!(typeof r=="string"&&nB.test(r)&&r.startsWith(e)||t&&!rB(r)&&Object.prototype.hasOwnProperty.call(r,t)),kO=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(hx);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},iB=e=>Ln(0,255,e),fp={...uo,transform:e=>Math.round(iB(e))},ua={test:mx("rgb","red"),parse:kO("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+fp.transform(e)+", "+fp.transform(t)+", "+fp.transform(r)+", "+al(Ml.transform(n))+")"};function aB(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const m0={test:mx("#"),parse:aB,transform:ua.transform},hc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ii=hc("deg"),fn=hc("%"),Z=hc("px"),sB=hc("vh"),oB=hc("vw"),z_={...fn,parse:e=>fn.parse(e)/100,transform:e=>fn.transform(e*100)},hs={test:mx("hsl","hue"),parse:kO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+fn.transform(al(t))+", "+fn.transform(al(r))+", "+al(Ml.transform(n))+")"},We={test:e=>ua.test(e)||m0.test(e)||hs.test(e),parse:e=>ua.test(e)?ua.parse(e):hs.test(e)?hs.parse(e):m0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):hs.transform(e),getAnimatableNone:e=>{const t=We.parse(e);return t.alpha=0,We.transform(t)}},lB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cB(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hx))==null?void 0:t.length)||0)+(((r=e.match(lB))==null?void 0:r.length)||0)>0}const PO="number",AO="color",uB="var",dB="var(",U_="${}",fB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dl(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(fB,l=>(We.test(l)?(n.color.push(a),i.push(AO),r.push(We.parse(l))):l.startsWith(dB)?(n.var.push(a),i.push(uB),r.push(l)):(n.number.push(a),i.push(PO),r.push(parseFloat(l))),++a,U_)).split(U_);return{values:r,split:o,indexes:n,types:i}}function CO(e){return Dl(e).values}function OO(e){const{split:t,types:r}=Dl(e),n=t.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],i[s]!==void 0){const o=r[s];o===PO?a+=al(i[s]):o===AO?a+=We.transform(i[s]):a+=i[s]}return a}}const hB=e=>typeof e=="number"?0:We.test(e)?We.getAnimatableNone(e):e;function mB(e){const t=CO(e);return OO(e)(t.map(hB))}const Ti={test:cB,parse:CO,createTransformer:OO,getAnimatableNone:mB};function hp(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function pB({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;i=hp(l,o,e+1/3),a=hp(l,o,e),s=hp(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function qd(e,t){return r=>r>0?t:e}const Ce=(e,t,r)=>e+(t-e)*r,mp=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},gB=[m0,ua,hs],yB=e=>gB.find(t=>t.test(e));function V_(e){const t=yB(e);if(!t)return!1;let r=t.parse(e);return t===hs&&(r=pB(r)),r}const W_=(e,t)=>{const r=V_(e),n=V_(t);if(!r||!n)return qd(e,t);const i={...r};return a=>(i.red=mp(r.red,n.red,a),i.green=mp(r.green,n.green,a),i.blue=mp(r.blue,n.blue,a),i.alpha=Ce(r.alpha,n.alpha,a),ua.transform(i))},p0=new Set(["none","hidden"]);function vB(e,t){return p0.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xB(e,t){return r=>Ce(e,t,r)}function px(e){return typeof e=="number"?xB:typeof e=="string"?fx(e)?qd:We.test(e)?W_:_B:Array.isArray(e)?TO:typeof e=="object"?We.test(e)?W_:bB:qd}function TO(e,t){const r=[...e],n=r.length,i=e.map((a,s)=>px(a)(a,t[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function bB(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=px(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function wB(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][n[a]],o=e.values[s]??0;r[i]=o,n[a]++}return r}const _B=(e,t)=>{const r=Ti.createTransformer(t),n=Dl(e),i=Dl(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?p0.has(e)&&!i.values.length||p0.has(t)&&!n.values.length?vB(e,t):dc(TO(wB(n,i),i.values),r):qd(e,t)};function IO(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ce(e,t,r):px(e)(e,t)}const jB=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Se.update(t,r),stop:()=>Oi(t),now:()=>vt.isProcessing?vt.timestamp:Gt.now()}},RO=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Kd=2e4;function gx(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Kd;)t+=r,n=e.next(t);return t>=Kd?1/0:t}function SB(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(gx(n),Kd);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:Sr(i)}}const NB=5;function MO(e,t,r){const n=Math.max(t-NB,0);return mO(r-e(n),t-n)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pp=.001;function EB({duration:e=Re.duration,bounce:t=Re.bounce,velocity:r=Re.velocity,mass:n=Re.mass}){let i,a,s=1-t;s=Ln(Re.minDamping,Re.maxDamping,s),e=Ln(Re.minDuration,Re.maxDuration,Sr(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-r,m=g0(u,s),p=Math.exp(-f);return pp-h/m*p},a=u=>{const f=u*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),x=g0(Math.pow(u,2),s);return(-i(u)+pp>0?-1:1)*((h-m)*p)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-pp+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const o=5/e,l=PB(i,a,o);if(e=dn(e),isNaN(l))return{stiffness:Re.stiffness,damping:Re.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const kB=12;function PB(e,t,r){let n=r;for(let i=1;i<kB;i++)n=n-e(n)/t(n);return n}function g0(e,t){return e*Math.sqrt(1-t*t)}const AB=["duration","bounce"],CB=["stiffness","damping","mass"];function q_(e,t){return t.some(r=>e[r]!==void 0)}function OB(e){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...e};if(!q_(e,CB)&&q_(e,AB))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Ln(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Re.mass,stiffness:i,damping:a}}else{const r=EB(e);t={...t,...r,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function Hd(e=Re.visualDuration,t=Re.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=OB({...r,velocity:-Sr(r.velocity||0)}),p=h||0,x=u/(2*Math.sqrt(l*d)),v=s-a,g=Sr(Math.sqrt(l/d)),b=Math.abs(v)<5;n||(n=b?Re.restSpeed.granular:Re.restSpeed.default),i||(i=b?Re.restDelta.granular:Re.restDelta.default);let w;if(x<1){const _=g0(g,x);w=S=>{const N=Math.exp(-x*g*S);return s-N*((p+x*g*v)/_*Math.sin(_*S)+v*Math.cos(_*S))}}else if(x===1)w=_=>s-Math.exp(-g*_)*(v+(p+g*v)*_);else{const _=g*Math.sqrt(x*x-1);w=S=>{const N=Math.exp(-x*g*S),E=Math.min(_*S,300);return s-N*((p+x*g*v)*Math.sinh(E)+_*v*Math.cosh(E))/_}}const j={calculatedDuration:m&&f||null,next:_=>{const S=w(_);if(m)o.done=_>=f;else{let N=_===0?p:0;x<1&&(N=_===0?dn(p):MO(w,_,S));const E=Math.abs(N)<=n,A=Math.abs(s-S)<=i;o.done=E&&A}return o.value=o.done?s:S,o},toString:()=>{const _=Math.min(gx(j),Kd),S=RO(N=>j.next(_*N).value,_,30);return _+"ms "+S},toTransition:()=>{}};return j}Hd.applyToOptions=e=>{const t=SB(e,100,Hd);return e.ease=t.ease,e.duration=dn(t.duration),e.type="keyframes",e};function y0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let x=r*t;const v=f+x,g=s===void 0?v:s(v);g!==v&&(x=g-f);const b=E=>-x*Math.exp(-E/n),w=E=>g+b(E),j=E=>{const A=b(E),O=w(E);h.done=Math.abs(A)<=u,h.value=h.done?g:O};let _,S;const N=E=>{m(h.value)&&(_=E,S=Hd({keyframes:[h.value,p(h.value)],velocity:MO(w,E,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:E=>{let A=!1;return!S&&_===void 0&&(A=!0,j(E),N(E)),_!==void 0&&E>=_?S.next(E-_):(!A&&j(E),h)}}}function TB(e,t,r){const n=[],i=r||$n.mix||IO,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||kr:t;o=dc(l,o)}n.push(o)}return n}function IB(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(sx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=TB(t,n,i),l=o.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Rl(e[f],e[f+1],d);return o[f](h)};return r?d=>u(Ln(e[0],e[a-1],d)):u}function RB(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Rl(0,t,n);e.push(Ce(r,1,i))}}function MB(e){const t=[0];return RB(t,e.length-1),t}function DB(e,t){return e.map(r=>r*t)}function LB(e,t){return e.map(()=>t||jO).splice(0,e.length-1)}function sl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=GF(n)?n.map(B_):B_(n),a={done:!1,value:t[0]},s=DB(r&&r.length===t.length?r:MB(t),e),o=IB(s,t,{ease:Array.isArray(i)?i:LB(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}const $B=e=>e!==null;function yx(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter($B),o=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const FB={decay:y0,inertia:y0,tween:sl,keyframes:sl,spring:Hd};function DO(e){typeof e.type=="string"&&(e.type=FB[e.type])}class vx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const BB=e=>e/100;class xx extends vx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DO(t);const{type:r=sl,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:o}=t;const l=r||sl;l!==sl&&typeof o[0]!="number"&&(this.mixKeyframes=dc(BB,IO(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=gx(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,j=n;if(f){const E=Math.min(this.currentTime,i)/o;let A=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(O=1-O,m&&(O-=m/o)):h==="mirror"&&(j=s)),w=Ln(0,1,O)*o}const _=b?{done:!1,value:d[0]}:j.next(w);a&&(_.value=a(_.value));let{done:S}=_;!b&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&p!==y0&&(_.value=yx(d,this.options,v,this.speed)),x&&x(_.value),N&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return Sr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sr(t)}get time(){return Sr(this.currentTime)}set time(t){var r;t=dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sr(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=jB,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function zB(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const da=e=>e*180/Math.PI,v0=e=>{const t=da(Math.atan2(e[1],e[0]));return x0(t)},UB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:v0,rotateZ:v0,skewX:e=>da(Math.atan(e[1])),skewY:e=>da(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},x0=e=>(e=e%360,e<0&&(e+=360),e),K_=v0,H_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),G_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),VB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:H_,scaleY:G_,scale:e=>(H_(e)+G_(e))/2,rotateX:e=>x0(da(Math.atan2(e[6],e[5]))),rotateY:e=>x0(da(Math.atan2(-e[2],e[0]))),rotateZ:K_,rotate:K_,skewX:e=>da(Math.atan(e[4])),skewY:e=>da(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function b0(e){return e.includes("scale")?1:0}function w0(e,t){if(!e||e==="none")return b0(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=VB,i=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=UB,i=o}if(!i)return b0(t);const a=n[t],s=i[1].split(",").map(qB);return typeof a=="function"?a(s):s[a]}const WB=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return w0(r,t)};function qB(e){return parseFloat(e.trim())}const fo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ho=new Set(fo),Y_=e=>e===uo||e===Z,KB=new Set(["x","y","z"]),HB=fo.filter(e=>!KB.has(e));function GB(e){const t=[];return HB.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ya={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>w0(t,"x"),y:(e,{transform:t})=>w0(t,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const va=new Set;let _0=!1,j0=!1,S0=!1;function LO(){if(j0){const e=Array.from(va).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=GB(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}j0=!1,_0=!1,va.forEach(e=>e.complete(S0)),va.clear()}function $O(){va.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(j0=!0)})}function YB(){S0=!0,$O(),LO(),S0=!1}class bx{constructor(t,r,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),_0||(_0=!0,Se.read($O),Se.resolveKeyframes(LO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}zB(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XB=e=>e.startsWith("--");function JB(e,t,r){XB(t)?e.style.setProperty(t,r):e.style[t]=r}const QB=ox(()=>window.ScrollTimeline!==void 0),ZB={};function ez(e,t){const r=ox(e);return()=>ZB[t]??r()}const FO=ez(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ho=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,X_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function BO(e,t){if(e)return typeof e=="function"?FO()?RO(e,t):"ease-out":SO(e)?Ho(e):Array.isArray(e)?e.map(r=>BO(r,t)||X_.easeOut):X_[e]}function tz(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[t]:r};l&&(d.offset=l);const f=BO(o,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function zO(e){return typeof e=="function"&&"applyToOptions"in e}function rz({type:e,...t}){return zO(e)&&FO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nz extends vx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,sx(typeof t.type!="string");const u=rz(t);this.animation=tz(r,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=yx(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):JB(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Sr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sr(t)}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&QB()?(this.animation.timeline=t,kr):r(this)}}const UO={anticipate:bO,backInOut:xO,circInOut:_O};function iz(e){return e in UO}function az(e){typeof e.ease=="string"&&iz(e.ease)&&(e.ease=UO[e.ease])}const J_=10;class sz extends nz{constructor(t){az(t),DO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new xx({...s,autoplay:!1}),l=dn(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-J_).value,o.sample(l).value,J_),o.stop()}}const Q_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ti.test(e)||e==="0")&&!e.startsWith("url("));function oz(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function lz(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=Q_(i,t),o=Q_(a,t);return!s||!o?!1:oz(e)||(r==="spring"||zO(r))&&n}function N0(e){e.duration=0,e.type="keyframes"}const cz=new Set(["opacity","clipPath","filter","transform"]),uz=ox(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dz(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return uz()&&r&&cz.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const fz=40;class hz extends vx{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var x,v;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Gt.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||bx;this.keyframeResolver=new m(o,(x,v,g)=>this.onKeyframesResolved(x,v,h,!g),l,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gt.now(),lz(t,a,s,o)||(($n.instantAnimations||!l)&&(d==null||d(yx(t,n,r))),t[0]=t[t.length-1],N0(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&dz(h)?new sz({...h,element:h.motionValue.owner.current}):new xx(h);m.finished.then(()=>this.notifyFinished()).catch(kr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),YB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pz(e){const t=mz.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function VO(e,t,r=1){const[n,i]=pz(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const s=a.trim();return dO(s)?parseFloat(s):s}return fx(i)?VO(i,t,r+1):i}function wx(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const WO=new Set(["width","height","top","left","right","bottom",...fo]),gz={test:e=>e==="auto",parse:e=>e},qO=e=>t=>t.test(e),KO=[uo,Z,fn,ii,oB,sB,gz],Z_=e=>KO.find(qO(e));function yz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hO(e):!0}const vz=new Set(["brightness","contrast","saturate","opacity"]);function xz(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(hx)||[];if(!n)return e;const i=r.replace(n,"");let a=vz.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const bz=/\b([a-z-]*)\(.*?\)/gu,E0={...Ti,getAnimatableNone:e=>{const t=e.match(bz);return t?t.map(xz).join(" "):e}},ej={...uo,transform:Math.round},wz={rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:yu,scaleX:yu,scaleY:yu,scaleZ:yu,skew:ii,skewX:ii,skewY:ii,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Ml,originX:z_,originY:z_,originZ:Z},_x={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...wz,zIndex:ej,fillOpacity:Ml,strokeOpacity:Ml,numOctaves:ej},_z={..._x,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:E0,WebkitFilter:E0},HO=e=>_z[e];function GO(e,t){let r=HO(e);return r!==E0&&(r=Ti),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const jz=new Set(["auto","none","0"]);function Sz(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!jz.has(a)&&Dl(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=GO(r,i)}class Nz extends bx{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),fx(u))){const d=VO(u,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!WO.has(n)||t.length!==2)return;const[i,a]=t,s=Z_(i),o=Z_(a);if(s!==o)if(Y_(s)&&Y_(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else ya[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||yz(t[i]))&&n.push(i);n.length&&Sz(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=ya[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Ez(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const YO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function XO(e){return fO(e)&&"offsetHeight"in e}const tj=30,kz=e=>!isNaN(parseFloat(e));class Pz{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=Gt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new lx);const n=this.events[t].add(r);return t==="change"?()=>{n(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tj);return mO(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(e,t){return new Pz(e,t)}const{schedule:jx}=NO(queueMicrotask,!1),Fr={x:!1,y:!1};function JO(){return Fr.x||Fr.y}function Az(e){return e==="x"||e==="y"?Fr[e]?null:(Fr[e]=!0,()=>{Fr[e]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}function QO(e,t){const r=Ez(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function rj(e){return!(e.pointerType==="touch"||JO())}function Cz(e,t,r={}){const[n,i,a]=QO(e,r),s=o=>{if(!rj(o))return;const{target:l}=o,u=t(l,o);if(typeof u!="function"||!l)return;const d=f=>{rj(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const ZO=(e,t)=>t?e===t?!0:ZO(e,t.parentElement):!1,Sx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Oz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Tz(e){return Oz.has(e.tagName)||e.tabIndex!==-1}const ed=new WeakSet;function nj(e){return t=>{t.key==="Enter"&&e(t)}}function gp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Iz=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=nj(()=>{if(ed.has(r))return;gp(r,"down");const i=nj(()=>{gp(r,"up")}),a=()=>gp(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function ij(e){return Sx(e)&&!JO()}function Rz(e,t,r={}){const[n,i,a]=QO(e,r),s=o=>{const l=o.currentTarget;if(!ij(o))return;ed.add(l);const u=t(l,o),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ed.has(l)&&ed.delete(l),ij(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,l===window||l===document||r.useGlobalTarget||ZO(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),XO(o)&&(o.addEventListener("focus",u=>Iz(u,i)),!Tz(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function e2(e){return fO(e)&&"ownerSVGElement"in e}function Mz(e){return e2(e)&&e.tagName==="svg"}const Pt=e=>!!(e&&e.getVelocity),Dz=[...KO,We,Ti],Lz=e=>Dz.find(qO(e)),Nx=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function aj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $z(...e){return t=>{let r=!1;const n=e.map(i=>{const a=aj(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():aj(e[i],null)}}}}function Fz(...e){return y.useCallback($z(...e),e)}class Bz extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=XO(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zz({children:e,isPresent:t,anchorX:r,root:n}){const i=y.useId(),a=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(Nx),l=Fz(a,e==null?void 0:e.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:m}=s.current;if(t||!a.current||!u||!d)return;const p=r==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");o&&(x.nonce=o);const v=n??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[t]),c.jsx(Bz,{isPresent:t,childRef:a,sizeRef:s,children:y.cloneElement(e,{ref:l})})}const Uz=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const u=rx(Vz),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return a&&f&&(h={...h}),y.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),s==="popLayout"&&(e=c.jsx(zz,{isPresent:r,anchorX:o,root:l,children:e})),c.jsx(vh.Provider,{value:h,children:e})};function Vz(){return new Map}function t2(e=!0){const t=y.useContext(vh);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=y.useId();y.useEffect(()=>{if(e)return i(a)},[e]);const s=y.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}const vu=e=>e.key||"";function sj(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const Wz=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,d]=t2(s),f=y.useMemo(()=>sj(e),[e]),h=s&&!u?[]:f.map(vu),m=y.useRef(!0),p=y.useRef(f),x=rx(()=>new Map),[v,g]=y.useState(f),[b,w]=y.useState(f);uO(()=>{m.current=!1,p.current=f;for(let S=0;S<b.length;S++){const N=vu(b[S]);h.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[b,h.length,h.join("-")]);const j=[];if(f!==v){let S=[...f];for(let N=0;N<b.length;N++){const E=b[N],A=vu(E);h.includes(A)||(S.splice(N,0,E),j.push(E))}return a==="wait"&&j.length&&(S=j),w(sj(S)),g(f),null}const{forceRender:_}=y.useContext(tx);return c.jsx(c.Fragment,{children:b.map(S=>{const N=vu(S),E=s&&!u?!1:f===b||h.includes(N),A=()=>{if(x.has(N))x.set(N,!0);else return;let O=!0;x.forEach(C=>{C||(O=!1)}),O&&(_==null||_(),w(p.current),s&&(d==null||d()),n&&n())};return c.jsx(Uz,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:E?void 0:A,anchorX:o,children:S},N)})})},r2=y.createContext({strict:!1}),oj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const e in oj)Vs[e]={isEnabled:t=>oj[e].some(r=>!!t[r])};function qz(e){for(const t in e)Vs[t]={...Vs[t],...e[t]}}const Kz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Kz.has(e)}let n2=e=>!Gd(e);function Hz(e){typeof e=="function"&&(n2=t=>t.startsWith("on")?!Gd(t):e(t))}try{Hz(require("@emotion/is-prop-valid").default)}catch{}function Gz(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(n2(i)||r===!0&&Gd(i)||!t&&!Gd(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const xh=y.createContext({});function bh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ll(e){return typeof e=="string"||Array.isArray(e)}const Ex=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kx=["initial",...Ex];function wh(e){return bh(e.animate)||kx.some(t=>Ll(e[t]))}function i2(e){return!!(wh(e)||e.variants)}function Yz(e,t){if(wh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ll(r)?r:void 0,animate:Ll(n)?n:void 0}}return e.inherit!==!1?t:{}}function Xz(e){const{initial:t,animate:r}=Yz(e,y.useContext(xh));return y.useMemo(()=>({initial:t,animate:r}),[lj(t),lj(r)])}function lj(e){return Array.isArray(e)?e.join(" "):e}const $l={};function Jz(e){for(const t in e)$l[t]=e[t],dx(t)&&($l[t].isCSSVariable=!0)}function a2(e,{layout:t,layoutId:r}){return ho.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$l[e]||e==="opacity")}const Qz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zz=fo.length;function eU(e,t,r){let n="",i=!0;for(let a=0;a<Zz;a++){const s=fo[a],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=YO(o,_x[s]);if(!l){i=!1;const d=Qz[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Px(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const u=t[l];if(ho.has(l)){s=!0;continue}else if(dx(l)){i[l]=u;continue}else{const d=YO(u,_x[l]);l.startsWith("origin")?(o=!0,a[l]=d):n[l]=d}}if(t.transform||(s||r?n.transform=eU(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${l} ${u} ${d}`}}const Ax=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s2(e,t,r){for(const n in t)!Pt(t[n])&&!a2(n,r)&&(e[n]=t[n])}function tU({transformTemplate:e},t){return y.useMemo(()=>{const r=Ax();return Px(r,t,e),Object.assign({},r.vars,r.style)},[t])}function rU(e,t){const r=e.style||{},n={};return s2(n,r,e),Object.assign(n,tU(e,t)),n}function nU(e,t){const r={},n=rU(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const iU={offset:"stroke-dashoffset",array:"stroke-dasharray"},aU={offset:"strokeDashoffset",array:"strokeDasharray"};function sU(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?iU:aU;e[a.offset]=Z.transform(-n);const s=Z.transform(t),o=Z.transform(r);e[a.array]=`${s} ${o}`}function o2(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,u,d){if(Px(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&sU(f,i,a,s,!1)}const l2=()=>({...Ax(),attrs:{}}),c2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oU(e,t,r,n){const i=y.useMemo(()=>{const a=l2();return o2(a,t,c2(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};s2(a,e.style,e),i.style={...a,...i.style}}return i}const lU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cx(e){return typeof e!="string"||e.includes("-")?!1:!!(lU.indexOf(e)>-1||/[A-Z]/u.test(e))}function cU(e,t,r,{latestValues:n},i,a=!1){const o=(Cx(e)?oU:nU)(t,n,i,e),l=Gz(t,typeof e=="string",a),u=e!==y.Fragment?{...l,...o,ref:r}:{},{children:d}=t,f=y.useMemo(()=>Pt(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function cj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Ox(e,t,r,n){if(typeof t=="function"){const[i,a]=cj(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=cj(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function td(e){return Pt(e)?e.get():e}function uU({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:dU(r,n,i,e),renderState:t()}}function dU(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=td(a[h]);let{initial:s,animate:o}=e;const l=wh(e),u=i2(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?o:s;if(f&&typeof f!="boolean"&&!bh(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=Ox(e,h[m]);if(p){const{transitionEnd:x,transition:v,...g}=p;for(const b in g){let w=g[b];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(i[b]=w)}for(const b in x)i[b]=x[b]}}}return i}const u2=e=>(t,r)=>{const n=y.useContext(xh),i=y.useContext(vh),a=()=>uU(e,t,n,i);return r?a():rx(a)};function Tx(e,t,r){var a;const{style:n}=e,i={};for(const s in n)(Pt(n[s])||t.style&&Pt(t.style[s])||a2(s,e)||((a=r==null?void 0:r.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=n[s]);return i}const fU=u2({scrapeMotionValuesFromProps:Tx,createRenderState:Ax});function d2(e,t,r){const n=Tx(e,t,r);for(const i in e)if(Pt(e[i])||Pt(t[i])){const a=fo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const hU=u2({scrapeMotionValuesFromProps:d2,createRenderState:l2}),mU=Symbol.for("motionComponentSymbol");function ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pU(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ms(r)&&(r.current=n))},[t])}const Ix=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gU="framerAppearId",f2="data-"+Ix(gU),h2=y.createContext({});function yU(e,t,r,n,i){var x,v;const{visualElement:a}=y.useContext(xh),s=y.useContext(r2),o=y.useContext(vh),l=y.useContext(Nx).reducedMotion,u=y.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=y.useContext(h2);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&vU(u.current,r,i,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(r,o)});const m=r[f2],p=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return uO(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function vU(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:m2(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&ms(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:u})}function m2(e){if(e)return e.options.allowProjection!==!1?e.projection:m2(e.parent)}function yp(e,{forwardMotionProps:t=!1}={},r,n){r&&qz(r);const i=Cx(e)?hU:fU;function a(o,l){let u;const d={...y.useContext(Nx),...o,layoutId:xU(o)},{isStatic:f}=d,h=Xz(o),m=i(o,f);if(!f&&nx){bU();const p=wU(d);u=p.MeasureLayout,h.visualElement=yU(e,m,d,n,p.ProjectionNode)}return c.jsxs(xh.Provider,{value:h,children:[u&&h.visualElement?c.jsx(u,{visualElement:h.visualElement,...d}):null,cU(e,o,pU(m,h.visualElement,l),m,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=y.forwardRef(a);return s[mU]=e,s}function xU({layoutId:e}){const t=y.useContext(tx).id;return t&&e!==void 0?t+"-"+e:e}function bU(e,t){y.useContext(r2).strict}function wU(e){const{drag:t,layout:r}=Vs;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function _U(e,t){if(typeof Proxy>"u")return yp;const r=new Map,n=(a,s)=>yp(a,s,e,t),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(r.has(s)||r.set(s,yp(s,void 0,e,t)),r.get(s))})}function p2({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function jU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SU(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function vp(e){return e===void 0||e===1}function k0({scale:e,scaleX:t,scaleY:r}){return!vp(e)||!vp(t)||!vp(r)}function ea(e){return k0(e)||g2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function g2(e){return uj(e.x)||uj(e.y)}function uj(e){return e&&e!=="0%"}function Yd(e,t,r){const n=e-r,i=t*n;return r+i}function dj(e,t,r,n,i){return i!==void 0&&(e=Yd(e,i,n)),Yd(e,r,n)+t}function P0(e,t=0,r=1,n,i){e.min=dj(e.min,t,r,n,i),e.max=dj(e.max,t,r,n,i)}function y2(e,{x:t,y:r}){P0(e.x,t.translate,t.scale,t.originPoint),P0(e.y,r.translate,r.scale,r.originPoint)}const fj=.999999999999,hj=1.0000000000001;function NU(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&gs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,y2(e,s)),n&&ea(a.latestValues)&&gs(e,a.latestValues))}t.x<hj&&t.x>fj&&(t.x=1),t.y<hj&&t.y>fj&&(t.y=1)}function ps(e,t){e.min=e.min+t,e.max=e.max+t}function mj(e,t,r,n,i=.5){const a=Ce(e.min,e.max,i);P0(e,t,r,a,n)}function gs(e,t){mj(e.x,t.x,t.scaleX,t.scale,t.originX),mj(e.y,t.y,t.scaleY,t.scale,t.originY)}function v2(e,t){return p2(SU(e.getBoundingClientRect(),t))}function EU(e,t,r){const n=v2(e,r),{scroll:i}=t;return i&&(ps(n.x,i.offset.x),ps(n.y,i.offset.y)),n}const pj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:pj(),y:pj()}),gj=()=>({min:0,max:0}),Xe=()=>({x:gj(),y:gj()}),A0={current:null},x2={current:!1};function kU(){if(x2.current=!0,!!nx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>A0.current=e.matches;e.addEventListener("change",t),t()}else A0.current=!1}const PU=new WeakMap;function AU(e,t,r){for(const n in t){const i=t[n],a=r[n];if(Pt(i))e.addValue(n,i);else if(Pt(a))e.addValue(n,Us(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(n);e.addValue(n,Us(s!==void 0?s:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const yj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Se.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=wh(r),this.isVariantNode=i2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Pt(m)&&m.set(l[h])}}mount(t){var r;this.current=t,PU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),x2.current||kU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A0.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Oi(this.notifyUpdate),Oi(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ho.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Se.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vs){const r=Vs[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<yj.length;n++){const i=yj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=AU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Us(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(dO(n)||hO(n))?n=parseFloat(n):!Lz(n)&&Ti.test(r)&&(n=GO(t,r)),this.setBaseTarget(t,Pt(n)?n.get():n)),Pt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Ox(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Pt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new lx),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){jx.render(this.render)}}class b2 extends CU{constructor(){super(...arguments),this.KeyframeResolver=Nz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function w2(e,{style:t,vars:r},n,i){const a=e.style;let s;for(s in t)a[s]=t[s];i==null||i.applyProjectionStyles(a,n);for(s in r)a.setProperty(s,r[s])}function OU(e){return window.getComputedStyle(e)}class TU extends b2{constructor(){super(...arguments),this.type="html",this.renderInstance=w2}readValueFromInstance(t,r){var n;if(ho.has(r))return(n=this.projection)!=null&&n.isProjecting?b0(r):WB(t,r);{const i=OU(t),a=(dx(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return v2(t,r)}build(t,r,n){Px(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Tx(t,r,n)}}const _2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IU(e,t,r,n){w2(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(_2.has(i)?i:Ix(i),t.attrs[i])}class RU extends b2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ho.has(r)){const n=HO(r);return n&&n.default||0}return r=_2.has(r)?r:Ix(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return d2(t,r,n)}build(t,r,n){o2(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){IU(t,r,n,i)}mount(t){this.isSVGTag=c2(t.tagName),super.mount(t)}}const MU=(e,t)=>Cx(e)?new RU(t):new TU(t,{allowProjection:e!==y.Fragment});function Ps(e,t,r){const n=e.getProps();return Ox(n,t,r!==void 0?r:n.custom,e)}const C0=e=>Array.isArray(e);function DU(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Us(r))}function LU(e){return C0(e)?e[e.length-1]||0:e}function $U(e,t){const r=Ps(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const o=LU(a[s]);DU(e,s,o)}}function FU(e){return!!(Pt(e)&&e.add)}function O0(e,t){const r=e.getValue("willChange");if(FU(r))return r.add(t);if(!r&&$n.WillChange){const n=new $n.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function j2(e){return e.props[f2]}const BU=e=>e!==null;function zU(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(BU),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}const UU={type:"spring",stiffness:500,damping:25,restSpeed:10},VU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WU={type:"keyframes",duration:.8},qU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KU=(e,{keyframes:t})=>t.length>2?WU:ho.has(e)?e.startsWith("scale")?VU(t[1]):UU:qU;function HU({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Rx=(e,t,r,n={},i,a)=>s=>{const o=wx(n,e)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-dn(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};HU(o)||Object.assign(d,KU(e,d)),d.duration&&(d.duration=dn(d.duration)),d.repeatDelay&&(d.repeatDelay=dn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(N0(d),d.delay===0&&(f=!0)),($n.instantAnimations||$n.skipAnimations)&&(f=!0,N0(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!a&&t.get()!==void 0){const h=zU(d.keyframes,o);if(h!==void 0){Se.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new xx(d):new hz(d)};function GU({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function S2(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(a=n);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in o){const f=e.getValue(d,e.latestValues[d]??null),h=o[d];if(h===void 0||u&&GU(u,d))continue;const m={delay:r,...wx(a||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=j2(e);if(g){const b=window.MotionHandoffAnimation(g,d,Se);b!==null&&(m.startTime=b,x=!0)}}O0(e,d),f.start(Rx(d,f,h,e.shouldReduceMotion&&WO.has(d)?{type:!1}:m,e,x));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Se.update(()=>{s&&$U(e,s)})}),l}function N2(e,t,r,n=0,i=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(a,s):i===1?a*n:o-a*n}function T0(e,t,r={}){var l;const n=Ps(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(S2(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return YU(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[a,s]:[s,a];return u().then(()=>d())}else return Promise.all([a(),s(r.delay)])}function YU(e,t,r=0,n=0,i=0,a=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(T0(l,t,{...s,delay:r+(typeof n=="function"?0:n)+N2(e.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function XU(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>T0(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=T0(e,t,r);else{const i=typeof t=="function"?Ps(e,t,r.custom):t;n=Promise.all(S2(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function E2(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const JU=kx.length;function k2(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?k2(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<JU;r++){const n=kx[r],i=e.props[n];(Ll(i)||i===!1)&&(t[n]=i)}return t}const QU=[...Ex].reverse(),ZU=Ex.length;function eV(e){return t=>Promise.all(t.map(({animation:r,options:n})=>XU(e,r,n)))}function tV(e){let t=eV(e),r=vj(),n=!0;const i=l=>(u,d)=>{var h;const f=Ps(e,d,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...x}=f;u={...u,...x,...p}}return u};function a(l){t=l(e)}function s(l){const{props:u}=e,d=k2(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let v=0;v<ZU;v++){const g=QU[v],b=r[g],w=u[g]!==void 0?u[g]:d[g],j=Ll(w),_=g===l?b.isActive:null;_===!1&&(p=v);let S=w===d[g]&&w!==u[g]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...m},!b.isActive&&_===null||!w&&!b.prevProp||bh(w)||typeof w=="boolean")continue;const N=rV(b.prevProp,w);let E=N||g===l&&b.isActive&&!S&&j||v>p&&j,A=!1;const O=Array.isArray(w)?w:[w];let C=O.reduce(i(g),{});_===!1&&(C={});const{prevResolvedValues:M={}}=b,K={...M,...C},T=R=>{E=!0,h.has(R)&&(A=!0,h.delete(R)),b.needsAnimating[R]=!0;const P=e.getValue(R);P&&(P.liveStyle=!1)};for(const R in K){const P=C[R],I=M[R];if(m.hasOwnProperty(R))continue;let L=!1;C0(P)&&C0(I)?L=!E2(P,I):L=P!==I,L?P!=null?T(R):h.add(R):P!==void 0&&h.has(R)?T(R):b.protectedKeys[R]=!0}b.prevProp=w,b.prevResolvedValues=C,b.isActive&&(m={...m,...C}),n&&e.blockInitialAnimation&&(E=!1);const z=S&&N;E&&(!z||A)&&f.push(...O.map(R=>{const P={type:g};if(typeof R=="string"&&n&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,L=Ps(I,R);if(I.enteringChildren&&L){const{delayChildren:Q}=L.transition||{};P.delay=N2(I.enteringChildren,e,Q)}}return{animation:R,options:P}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const g=Ps(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(v.transition=g.transition)}h.forEach(g=>{const b=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),v[g]=b??null}),f.push({animation:v})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function o(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),r[l].isActive=u;const d=s(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=vj()}}}function rV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E2(t,e):!1}function Gi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vj(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}class zi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nV extends zi{constructor(t){super(t),t.animationState||(t.animationState=tV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let iV=0;class aV extends zi{constructor(){super(...arguments),this.id=iV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const sV={animation:{Feature:nV},exit:{Feature:aV}};function Fl(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function mc(e){return{point:{x:e.pageX,y:e.pageY}}}const oV=e=>t=>Sx(t)&&e(t,mc(t));function ol(e,t,r,n){return Fl(e,t,oV(r),n)}const P2=1e-4,lV=1-P2,cV=1+P2,A2=.01,uV=0-A2,dV=0+A2;function Rt(e){return e.max-e.min}function fV(e,t,r){return Math.abs(e-t)<=r}function xj(e,t,r,n=.5){e.origin=n,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),e.translate=Ce(r.min,r.max,e.origin)-e.originPoint,(e.scale>=lV&&e.scale<=cV||isNaN(e.scale))&&(e.scale=1),(e.translate>=uV&&e.translate<=dV||isNaN(e.translate))&&(e.translate=0)}function ll(e,t,r,n){xj(e.x,t.x,r.x,n?n.originX:void 0),xj(e.y,t.y,r.y,n?n.originY:void 0)}function bj(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function hV(e,t,r){bj(e.x,t.x,r.x),bj(e.y,t.y,r.y)}function wj(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function Xd(e,t,r){wj(e.x,t.x,r.x),wj(e.y,t.y,r.y)}function br(e){return[e("x"),e("y")]}const C2=({current:e})=>e?e.ownerDocument.defaultView:null,_j=(e,t)=>Math.abs(e-t);function mV(e,t){const r=_j(e.x,t.x),n=_j(e.y,t.y);return Math.sqrt(r**2+n**2)}class O2{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=bp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=mV(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=h,{timestamp:v}=vt;this.history.push({...x,timestamp:v});const{onStart:g,onMove:b}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xp(m,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bp(h.type==="pointercancel"?this.lastMoveEventInfo:xp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),x&&x(h,g)},!Sx(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=mc(t),l=xp(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,bp(l,this.history)),this.removeListeners=dc(ol(this.contextWindow,"pointermove",this.handlePointerMove),ol(this.contextWindow,"pointerup",this.handlePointerUp),ol(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Oi(this.updatePoint)}}function xp(e,t){return t?{point:t(e.point)}:e}function jj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:jj(e,T2(t)),offset:jj(e,pV(t)),velocity:gV(t,.1)}}function pV(e){return e[0]}function T2(e){return e[e.length-1]}function gV(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=T2(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>dn(t)));)r--;if(!n)return{x:0,y:0};const a=Sr(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function yV(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ce(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ce(r,e,n.max):Math.min(e,r)),e}function Sj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function vV(e,{top:t,left:r,bottom:n,right:i}){return{x:Sj(e.x,r,i),y:Sj(e.y,t,n)}}function Nj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function xV(e,t){return{x:Nj(e.x,t.x),y:Nj(e.y,t.y)}}function bV(e,t){let r=.5;const n=Rt(e),i=Rt(t);return i>n?r=Rl(t.min,t.max-n,e.min):n>i&&(r=Rl(e.min,e.max-i,t.min)),Ln(0,1,r)}function wV(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const I0=.35;function _V(e=I0){return e===!1?e=0:e===!0&&(e=I0),{x:Ej(e,"left","right"),y:Ej(e,"top","bottom")}}function Ej(e,t,r){return{min:kj(e,t),max:kj(e,r)}}function kj(e,t){return typeof e=="number"?e:e[t]||0}const jV=new WeakMap;class SV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mc(f).point)},s=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Az(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(g=>{let b=this.getAxisMotionValue(g).get()||0;if(fn.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[g];j&&(b=Rt(j)*(parseFloat(b)/100))}}this.originPoint[g]=b}),x&&Se.postRender(()=>x(f,h)),O0(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=NV(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),v&&v(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>br(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new O2(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:C2(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Se.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!xu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=yV(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&ms(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=vV(n.layoutBox,t):this.constraints=!1,this.elastic=_V(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&br(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=wV(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ms(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=EU(n,i.root,this.visualElement.getTransformPagePoint());let s=xV(i.layout.layoutBox,a);if(r){const o=r(jU(s));this.hasMutatedConstraints=!!o,o&&(s=p2(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=br(d=>{if(!xu(d,r,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return O0(this.visualElement,t),n.start(Rx(t,n,0,r,this.visualElement,!1))}stopAnimation(){br(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){br(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){br(r=>{const{drag:n}=this.getProps();if(!xu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[r];a.set(t[r]-Ce(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ms(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};br(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=bV({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),br(s=>{if(!xu(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Ce(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;jV.set(this.visualElement,this);const t=this.visualElement.current,r=ol(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ms(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Se.read(n);const s=Fl(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(br(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=I0,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function xu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function NV(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class EV extends zi{constructor(t){super(t),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new SV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pj=e=>(t,r)=>{e&&Se.postRender(()=>e(t,r))};class kV extends zi{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(t){this.session=new O2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pj(t),onStart:Pj(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&Se.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=ol(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Aj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const To={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const r=Aj(e,t.target.x),n=Aj(e,t.target.y);return`${r}% ${n}%`}},PV={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ti.parse(e);if(i.length>5)return n;const a=Ti.createTransformer(e),s=typeof i[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=Ce(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};let wp=!1;class AV extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;Jz(CV),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),wp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,wp=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Se.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;wp=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I2(e){const[t,r]=t2(),n=y.useContext(tx);return c.jsx(AV,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(h2),isPresent:t,safeToRemove:r})}const CV={borderRadius:{...To,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:To,borderTopRightRadius:To,borderBottomLeftRadius:To,borderBottomRightRadius:To,boxShadow:PV};function OV(e,t,r){const n=Pt(e)?e:Us(e);return n.start(Rx("",n,t,r)),n.animation}const TV=(e,t)=>e.depth-t.depth;class IV{constructor(){this.children=[],this.isDirty=!1}add(t){ix(this.children,t),this.isDirty=!0}remove(t){ax(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TV),this.isDirty=!1,this.children.forEach(t)}}function RV(e,t){const r=Gt.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(Oi(n),e(a-t))};return Se.setup(n,!0),()=>Oi(n)}const R2=["TopLeft","TopRight","BottomLeft","BottomRight"],MV=R2.length,Cj=e=>typeof e=="string"?parseFloat(e):e,Oj=e=>typeof e=="number"||Z.test(e);function DV(e,t,r,n,i,a){i?(e.opacity=Ce(0,r.opacity??1,LV(n)),e.opacityExit=Ce(t.opacity??1,0,$V(n))):a&&(e.opacity=Ce(t.opacity??1,r.opacity??1,n));for(let s=0;s<MV;s++){const o=`border${R2[s]}Radius`;let l=Tj(t,o),u=Tj(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Oj(l)===Oj(u)?(e[o]=Math.max(Ce(Cj(l),Cj(u),n),0),(fn.test(u)||fn.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Ce(t.rotate||0,r.rotate||0,n))}function Tj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LV=M2(0,.5,wO),$V=M2(.5,.95,kr);function M2(e,t,r){return n=>n<e?0:n>t?1:r(Rl(e,t,n))}function Ij(e,t){e.min=t.min,e.max=t.max}function Lr(e,t){Ij(e.x,t.x),Ij(e.y,t.y)}function Rj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mj(e,t,r,n,i){return e-=t,e=Yd(e,1/r,n),i!==void 0&&(e=Yd(e,1/i,n)),e}function FV(e,t=0,r=1,n=.5,i,a=e,s=e){if(fn.test(t)&&(t=parseFloat(t),t=Ce(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Ce(a.min,a.max,n);e===a&&(o-=t),e.min=Mj(e.min,t,r,o,i),e.max=Mj(e.max,t,r,o,i)}function Dj(e,t,[r,n,i],a,s){FV(e,t[r],t[n],t[i],t.scale,a,s)}const BV=["x","scaleX","originX"],zV=["y","scaleY","originY"];function Lj(e,t,r,n){Dj(e.x,t,BV,r?r.x:void 0,n?n.x:void 0),Dj(e.y,t,zV,r?r.y:void 0,n?n.y:void 0)}function $j(e){return e.translate===0&&e.scale===1}function D2(e){return $j(e.x)&&$j(e.y)}function Fj(e,t){return e.min===t.min&&e.max===t.max}function UV(e,t){return Fj(e.x,t.x)&&Fj(e.y,t.y)}function Bj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L2(e,t){return Bj(e.x,t.x)&&Bj(e.y,t.y)}function zj(e){return Rt(e.x)/Rt(e.y)}function Uj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VV{constructor(){this.members=[]}add(t){ix(this.members,t),t.scheduleRender()}remove(t){if(ax(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WV(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const _p=["","X","Y","Z"],qV=1e3;let KV=0;function jp(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=j2(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Se,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$2(n)}function F2({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=KV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YV),this.nodes.forEach(ZV),this.nodes.forEach(e7),this.nodes.forEach(XV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IV)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new lx),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=e2(s)&&!Mz(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{f=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=RV(h,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(qj)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||a7,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!L2(this.targetLayout,m),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...wx(p,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||qj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t7),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QV),this.nodes.forEach(HV),this.nodes.forEach(GV)):this.nodes.forEach(Wj),this.clearAllSnapshots();const o=Gt.now();vt.delta=Ln(0,1e3/60,o-vt.timestamp),vt.timestamp=o,vt.isProcessing=!0,dp.update.process(vt),dp.preRender.process(vt),dp.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JV),this.sharedNodes.forEach(r7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!D2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||ea(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),s7(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Xe();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(o7))){const{scroll:d}=this.root;d&&(ps(o.x,d.offset.x),ps(o.y,d.offset.y))}return o}removeElementScroll(s){var l;const o=Xe();if(Lr(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Lr(o,s),ps(o.x,f.offset.x),ps(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Xe();Lr(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&gs(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ea(d.latestValues)&&gs(l,d.latestValues)}return ea(this.latestValues)&&gs(l,this.latestValues),l}removeTransform(s){const o=Xe();Lr(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ea(u.latestValues))continue;k0(u.latestValues)&&u.updateSnapshot();const d=Xe(),f=u.measurePageBox();Lr(d,f),Lj(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ea(this.latestValues)&&Lj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=vt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),y2(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||k0(this.parent.latestValues)||g2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),Xd(this.relativeTargetOrigin,o,l),Lr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Lr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;NU(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Xe());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rj(this.prevProjectionDelta.x,this.projectionDelta.x),Rj(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Uj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Xe(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,v=this.getStack(),g=!v||v.members.length<=1,b=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(i7));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const _=j/1e3;Kj(f.x,s.x,_),Kj(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n7(this.relativeTarget,this.relativeTargetOrigin,h,_),w&&UV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Xe()),Lr(w,this.relativeTarget)),x&&(this.animationValues=d,DV(d,u,this.latestValues,_,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Oi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Us(0)),this.currentAnimation=OV(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),s.onUpdate&&s.onUpdate(d)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&B2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Xe();const f=Rt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Rt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Lr(o,l),gs(o,d),ll(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new VV),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&jp("z",s,u,this.animationValues);for(let d=0;d<_p.length;d++)jp(`rotate${_p[d]}`,s,u,this.animationValues),jp(`skew${_p[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=td(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=td(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ea(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=WV(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),s.transform=f;const{x:h,y:m}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in $l){if(d[p]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:g}=$l[p],b=f==="none"?d[p]:x(d[p],u);if(v){const w=v.length;for(let j=0;j<w;j++)s[v[j]]=b}else g?this.options.visualElement.renderState.vars[p]=b:s[p]=b}this.options.layoutId&&(s.pointerEvents=u===this?td(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Vj),this.root.sharedNodes.clear()}}}function HV(e){e.updateLayout()}function GV(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?br(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=Rt(h);h.min=n[f].min,h.max=h.min+m}):B2(a,t.layoutBox,n)&&br(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=Rt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=ys();ll(o,n,t.layoutBox);const l=ys();s?ll(l,e.applyTransform(i,!0),t.measuredBox):ll(l,n,t.layoutBox);const u=!D2(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Xe();Xd(p,t.layoutBox,h.layoutBox);const x=Xe();Xd(x,n,m.layoutBox),L2(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function YV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JV(e){e.clearSnapshot()}function Vj(e){e.clearMeasurements()}function Wj(e){e.isLayoutDirty=!1}function QV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ZV(e){e.resolveTargetDelta()}function e7(e){e.calcProjection()}function t7(e){e.resetSkewAndRotation()}function r7(e){e.removeLeadSnapshot()}function Kj(e,t,r){e.translate=Ce(t.translate,0,r),e.scale=Ce(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Hj(e,t,r,n){e.min=Ce(t.min,r.min,n),e.max=Ce(t.max,r.max,n)}function n7(e,t,r,n){Hj(e.x,t.x,r.x,n),Hj(e.y,t.y,r.y,n)}function i7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a7={duration:.45,ease:[.4,0,.1,1]},Gj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yj=Gj("applewebkit/")&&!Gj("chrome/")?Math.round:kr;function Xj(e){e.min=Yj(e.min),e.max=Yj(e.max)}function s7(e){Xj(e.x),Xj(e.y)}function B2(e,t,r){return e==="position"||e==="preserve-aspect"&&!fV(zj(t),zj(r),.2)}function o7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const l7=F2({attachResizeListener:(e,t)=>Fl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sp={current:void 0},z2=F2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sp.current){const e=new l7({});e.mount(window),e.setOptions({layoutScroll:!0}),Sp.current=e}return Sp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),c7={pan:{Feature:kV},drag:{Feature:EV,ProjectionNode:z2,MeasureLayout:I2}};function Jj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Se.postRender(()=>a(t,mc(t)))}class u7 extends zi{mount(){const{current:t}=this.node;t&&(this.unmount=Cz(t,(r,n)=>(Jj(this.node,n,"Start"),i=>Jj(this.node,i,"End"))))}unmount(){}}class d7 extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dc(Fl(this.node.current,"focus",()=>this.onFocus()),Fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Se.postRender(()=>a(t,mc(t)))}class f7 extends zi{mount(){const{current:t}=this.node;t&&(this.unmount=Rz(t,(r,n)=>(Qj(this.node,n,"Start"),(i,{success:a})=>Qj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R0=new WeakMap,Np=new WeakMap,h7=e=>{const t=R0.get(e.target);t&&t(e)},m7=e=>{e.forEach(h7)};function p7({root:e,...t}){const r=e||document;Np.has(r)||Np.set(r,{});const n=Np.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(m7,{root:e,...t})),n[i]}function g7(e,t,r){const n=p7(t);return R0.set(e,r),n.observe(e),()=>{R0.delete(e),n.unobserve(e)}}const y7={some:0,all:1};class v7 extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:y7[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return g7(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(x7(t,r))&&this.startObserver()}unmount(){}}function x7({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const b7={inView:{Feature:v7},tap:{Feature:f7},focus:{Feature:d7},hover:{Feature:u7}},w7={layout:{ProjectionNode:z2,MeasureLayout:I2}},_7={...sV,...b7,...c7,...w7},M0=_U(_7,MU);function j7(){const[e,t]=y.useState({name:"",email:"",phone:"",message:""}),[r,n]=y.useState({}),[i,a]=y.useState(!1),[s,o]=y.useState(null),l=()=>{const f={};return e.name.trim()||(f.name="Name is required"),e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(f.email="Invalid email format"):f.email="Email is required",e.message.trim()?e.message.trim().length<10&&(f.message="Message must be at least 10 characters"):f.message="Message is required",n(f),Object.keys(f).length===0},u=async f=>{if(f.preventDefault(),!!l()){a(!0),o(null);try{const{error:h}=await U.from("contact_messages").insert([{name:e.name.trim(),email:e.email.trim(),phone:e.phone.trim()||null,message:e.message.trim()}]);if(h)throw console.error("Supabase error:",h),new Error("Failed to save message.");const{data:m,error:p}=await U.functions.invoke("send-contact-email",{body:{name:e.name.trim(),email:e.email.trim(),phone:e.phone.trim()||null,message:e.message.trim()}});if(p)throw console.error("Edge Function Error:",p),new Error("Failed to send email.");o("success"),t({name:"",email:"",phone:"",message:""}),n({}),setTimeout(()=>o(null),5e3)}catch(h){console.error("Form submission error:",h),o("error"),setTimeout(()=>o(null),5e3)}finally{a(!1)}}},d=(f,h)=>{t(m=>({...m,[f]:h})),r[f]&&n(m=>({...m,[f]:null}))};return c.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans selection:bg-blue-600 selection:text-white",children:[c.jsx(Yn,{}),c.jsx("div",{className:"pt-32 pb-16 px-4",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-gray-900 tracking-tight",children:"Contact Us"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Send us a message and our team will reach out shortly."})]}),s==="success"&&c.jsxs(M0.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[c.jsx(sO,{className:"text-green-600",size:24}),c.jsx("p",{className:"text-green-700 font-semibold",children:"Your message has been sent!"})]}),s==="error"&&c.jsxs(M0.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[c.jsx(ph,{className:"text-red-600",size:24}),c.jsx("p",{className:"text-red-700 font-semibold",children:"Something went wrong. Please try again."})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-8",children:c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Full Name ",c.jsx("span",{className:"text-blue-600",children:"*"})]}),c.jsx("input",{type:"text",value:e.name,onChange:f=>d("name",f.target.value),autoComplete:"name",className:`w-full bg-white border ${r.name?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all`,placeholder:"John Doe",disabled:i}),r.name&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Email Address ",c.jsx("span",{className:"text-blue-600",children:"*"})]}),c.jsx("input",{type:"email",value:e.email,onChange:f=>d("email",f.target.value),autoComplete:"email",className:`w-full bg-white border ${r.email?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all`,placeholder:"john@example.com",disabled:i}),r.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.email})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Phone Number ",c.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),c.jsx("input",{type:"tel",value:e.phone,onChange:f=>d("phone",f.target.value),autoComplete:"tel",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"561-288-0528",disabled:i})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Message ",c.jsx("span",{className:"text-blue-600",children:"*"})]}),c.jsx("textarea",{value:e.message,onChange:f=>d("message",f.target.value),rows:"6",className:`w-full bg-white border ${r.message?"border-red-500":"border-gray-300"} rounded-lg px-4 py-3 text-gray-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all resize-none`,placeholder:"Tell us how we can help...",disabled:i}),r.message&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.message})]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-700 hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-lg transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:i?c.jsxs(c.Fragment,{children:[c.jsx(gh,{className:"animate-spin",size:20}),"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(fF,{size:20}),"Send Message"]})})]})}),c.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:[c.jsx("p",{children:"We typically respond within 24 business hours."}),c.jsxs("p",{className:"mt-2",children:["For urgent matters, please call us directly at ",c.jsx("span",{className:"text-blue-600 font-bold",children:"561-288-0528"})]})]})]})}),c.jsx(Xn,{})]})}function S7(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(null);y.useEffect(()=>{s()},[]);async function s(){try{const{data:o,error:l}=await U.from("carrier_applications").select("*").order("created_at",{ascending:!1});if(l)throw l;t(o||[])}catch(o){console.error("Error fetching applications:",o),a(o.message)}finally{n(!1)}}return r?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})}):c.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans flex flex-col",children:[c.jsx(Yn,{}),c.jsxs("main",{className:"flex-grow container mx-auto px-4 pt-24 pb-12",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-200",children:"Carrier Applications"}),c.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm transition border border-gray-700",children:"Result"})]}),i&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-200 p-4 rounded-xl mb-6",children:["Error: ",i]}),c.jsx("div",{className:"bg-gray-800/50 backdrop-blur-xl border border-gray-700 rounded-2xl overflow-hidden shadow-2xl",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-gray-800 text-gray-400 uppercase text-xs tracking-wider",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Company"}),c.jsx("th",{className:"px-6 py-4",children:"Contact"}),c.jsx("th",{className:"px-6 py-4",children:"MC / DOT"}),c.jsx("th",{className:"px-6 py-4",children:"Fleet"}),c.jsx("th",{className:"px-6 py-4",children:"Submitted"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-700/50",children:e.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No applications found."})}):e.map(o=>c.jsxs("tr",{className:"hover:bg-gray-700/30 transition duration-150",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-medium text-white",children:o.company_name}),c.jsx("div",{className:"text-sm text-gray-400",children:o.primary_email})]}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-gray-300",children:o.primary_contact_name}),c.jsx("div",{className:"text-sm text-gray-500",children:o.primary_phone})]}),c.jsxs("td",{className:"px-6 py-4 text-sm text-gray-400",children:[c.jsxs("div",{children:["MC: ",o.mc_number||""]}),c.jsxs("div",{children:["DOT: ",o.dot_number||""]})]}),c.jsxs("td",{className:"px-6 py-4 text-sm",children:[c.jsxs("div",{className:"text-gray-300",children:[o.number_of_trucks||0," Trucks"]}),c.jsx("div",{className:"text-gray-500 text-xs",children:[o.equipment_dryvan&&"Van",o.equipment_reefer&&"Reefer",o.equipment_flatbed&&"Flatbed"].filter(Boolean).join(", ")})]}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(o.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("button",{className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Details"})})]},o.id))})]})})})]}),c.jsx(Xn,{})]})}function N7(){return c.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans text-slate-900",children:[c.jsx(Yn,{}),c.jsx("div",{className:"flex-grow pt-32 pb-24 px-6 md:px-12",children:c.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-10 md:p-16 rounded-2xl shadow-sm border border-slate-200",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8 text-slate-900 tracking-tight",children:"Terms of Service"}),c.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600 leading-relaxed space-y-6",children:[c.jsx("p",{className:"text-slate-500 mb-8",children:"Effective Date: December 1, 2025"}),c.jsx("p",{children:"Welcome to Loyal Brokerage LLC (Company, we, us, or our). These Terms of Service govern your access to and use of our website, services, and freight brokerage operations."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"1. Nature of Services"}),c.jsx("p",{children:"Loyal Brokerage LLC is a licensed freight broker that arranges transportation services between shippers and authorized motor carriers. We do not operate trucks, employ drivers, or physically transport freight."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"2. No Carrier or Shipper Guarantee"}),c.jsx("p",{children:"While we work with vetted carriers and reliable partners, Loyal Brokerage LLC does not guarantee carrier performance, transit times, or shipment outcomes beyond the scope of brokerage services."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"3. Quotes & Pricing"}),c.jsx("p",{children:"All rate quotes are estimates unless confirmed in writing. Pricing may change due to market conditions, fuel surcharges, accessorials, detention, layover, or shipper/carrier-provided information."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"4. Limitation of Liability"}),c.jsx("p",{children:"Loyal Brokerage LLC shall not be liable for:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Cargo loss or damage"}),c.jsx("li",{children:"Delays or service failures"}),c.jsx("li",{children:"Acts of carriers, shippers, or third parties"}),c.jsx("li",{children:"Force majeure events"})]}),c.jsx("p",{className:"mt-4",children:"Carrier cargo insurance applies to freight claims, subject to carrier terms and federal regulations."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"5. User Responsibilities"}),c.jsx("p",{children:"Users agree to provide accurate shipment information, comply with applicable laws, and refrain from misuse of the website or services."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"6. Intellectual Property"}),c.jsx("p",{children:"All website content, branding, and materials are the property of Loyal Brokerage LLC and may not be copied or reused without written consent."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"7. Governing Law"}),c.jsx("p",{children:"These Terms are governed by the laws of the United States and the State in which Loyal Brokerage LLC is registered."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"8. Modifications"}),c.jsx("p",{children:"We reserve the right to update these Terms at any time. Continued use constitutes acceptance of revisions."})]})]})}),c.jsx(Xn,{})]})}function E7(){return c.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans text-slate-900",children:[c.jsx(Yn,{}),c.jsx("div",{className:"flex-grow pt-32 pb-24 px-6 md:px-12",children:c.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-10 md:p-16 rounded-2xl shadow-sm border border-slate-200",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-8 text-slate-900 tracking-tight",children:"Privacy Policy"}),c.jsxs("div",{className:"prose prose-slate max-w-none text-slate-600 leading-relaxed space-y-6",children:[c.jsx("p",{className:"text-slate-500 mb-8",children:"Effective Date: December 1, 2025"}),c.jsx("p",{children:"Loyal Brokerage LLC respects your privacy and is committed to protecting personal and business information."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"1. Information We Collect"}),c.jsx("p",{children:"We may collect:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Name, company name, email, phone number"}),c.jsx("li",{children:"Shipment and logistics details"}),c.jsx("li",{children:"Carrier onboarding information"}),c.jsx("li",{children:"Website usage data"})]}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"2. How Information Is Used"}),c.jsx("p",{children:"Information is used to:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Provide freight brokerage services"}),c.jsx("li",{children:"Communicate with shippers and carriers"}),c.jsx("li",{children:"Improve operations and customer experience"}),c.jsx("li",{children:"Comply with legal and regulatory requirements"})]}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"3. Information Sharing"}),c.jsx("p",{children:"We do not sell personal information. Data may be shared only with:"}),c.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[c.jsx("li",{children:"Carriers and shippers involved in shipments"}),c.jsx("li",{children:"Service providers supporting operations"}),c.jsx("li",{children:"Legal authorities if required by law"})]}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"4. Data Security"}),c.jsx("p",{children:"We use reasonable administrative and technical safeguards to protect information but cannot guarantee absolute security."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"5. Cookies & Analytics"}),c.jsx("p",{children:"Our website may use cookies or analytics tools to improve performance and user experience."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"6. Your Rights"}),c.jsx("p",{children:"You may request access, correction, or deletion of your information by contacting us."}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:"7. Policy Updates"}),c.jsx("p",{children:"This Privacy Policy may be updated periodically. Changes will be posted on this page."}),c.jsx("hr",{className:"my-10 border-slate-200"}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Contact Information"}),c.jsx("p",{className:"font-bold text-slate-800",children:"Loyal Brokerage LLC"}),c.jsx("p",{children:"Email: info@loyalbrokerage.com"}),c.jsx("p",{children:"Phone: 561-288-0528"}),c.jsx("p",{children:"United States"})]})]})}),c.jsx(Xn,{})]})}const U2=y.createContext();function k7({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState(!0);y.useEffect(()=>{U.auth.getSession().then(({data:{session:o}})=>{r((o==null?void 0:o.user)??null),i(!1)});const{data:{subscription:s}}=U.auth.onAuthStateChange((o,l)=>{r((l==null?void 0:l.user)??null),i(!1)});return()=>s.unsubscribe()},[]);const a={user:t,loading:n,signIn:s=>U.auth.signInWithPassword(s),signOut:()=>U.auth.signOut()};return c.jsx(U2.Provider,{value:a,children:!n&&e})}function P7(){return y.useContext(U2)}const Ei={async getCurrentUser(){try{const{data:{user:e},error:t}=await U.auth.getUser();return t?(console.error("Error getting current user:",t),null):e}catch(e){return console.error("Error in getCurrentUser:",e),null}},async getSession(){try{const{data:{session:e},error:t}=await U.auth.getSession();return t?(console.error("Error getting session:",t),null):e}catch(e){return console.error("Error in getSession:",e),null}},async signIn(e,t){try{const{data:r,error:n}=await U.auth.signInWithPassword({email:e,password:t});return n?{success:!1,error:n.message}:{success:!0,user:r.user,session:r.session}}catch(r){return console.error("Error in signIn:",r),{success:!1,error:r.message}}},async signOut(){try{const{error:e}=await U.auth.signOut();return e?(console.error("Error signing out:",e),{success:!1,error:e.message}):{success:!0}}catch(e){return console.error("Error in signOut:",e),{success:!1,error:e.message}}},isAdmin(e){var t;return e?((t=e.user_metadata)==null?void 0:t.role)==="admin":!1},isAgent(e){var t;return e?((t=e.user_metadata)==null?void 0:t.role)==="agent":!1},onAuthStateChange(e){return U.auth.onAuthStateChange((t,r)=>{e(t,r)})}};function A7(){var a;const[e,t]=y.useState(!0),[r,n]=y.useState(null);y.useEffect(()=>{i()},[]);const i=async()=>{const s=await Ei.getCurrentUser();n(s),t(!1)};return e?c.jsx("div",{className:"min-h-screen bg-[#0D0D0D] flex items-center justify-center",children:c.jsx(gh,{className:"animate-spin text-blue-500",size:48})}):!r||((a=r.user_metadata)==null?void 0:a.role)!=="admin"?c.jsx(IA,{to:"/tms-login",replace:!0}):c.jsx(zv,{})}function C7(){var a;const[e,t]=y.useState(!0),[r,n]=y.useState(null);y.useEffect(()=>{i()},[]);const i=async()=>{const s=await Ei.getCurrentUser();n(s),t(!1)};return e?c.jsx("div",{className:"min-h-screen bg-[#0D0D0D] flex items-center justify-center",children:c.jsx(gh,{className:"animate-spin text-blue-500",size:48})}):!r||((a=r.user_metadata)==null?void 0:a.role)!=="agent"?c.jsx(IA,{to:"/tms-login",replace:!0}):c.jsx(zv,{})}function O7(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[i,a]=y.useState(null),[s,o]=y.useState(!1),{signIn:l}=P7(),u=Fi();async function d(f){f.preventDefault(),o(!0),a(null);const{error:h}=await l({email:e,password:r});h?(a(h.message),o(!1)):u("/admin")}return c.jsxs("div",{className:"min-h-screen bg-gray-900 text-white font-sans flex flex-col",children:[c.jsx(Yn,{}),c.jsx("div",{className:"flex-grow flex items-center justify-center px-4",children:c.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-700",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),i&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-200 p-3 rounded mb-4 text-sm",children:i}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),c.jsx("input",{type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 transition"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Password"}),c.jsx("input",{type:"password",required:!0,value:r,onChange:f=>n(f.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 transition"})]}),c.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-700 hover:bg-blue-600 text-white font-bold py-2 rounded-lg transition disabled:opacity-50",children:s?"Signing In...":"Sign In"})]})]})}),c.jsx(Xn,{})]})}const Mx={async createLog(e){try{const{data:t,error:r}=await U.from("activity_logs").insert([{user_id:e.userId||null,user_email:e.userEmail||null,action:e.action,module:e.module,record_id:e.recordId||null,details:e.details||null,ip_address:e.ipAddress||null}]).select().single();if(r)throw r;return{success:!0,data:t}}catch(t){return console.error("Error creating activity log:",t),{success:!1,error:t.message}}},async fetchLogs(e={}){try{let t=U.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(e.limit||100);e.userEmail&&(t=t.eq("user_email",e.userEmail)),e.module&&(t=t.eq("module",e.module)),e.action&&(t=t.eq("action",e.action)),e.startDate&&(t=t.gte("created_at",e.startDate)),e.endDate&&(t=t.lte("created_at",e.endDate));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r||[]}}catch(t){return console.error("Error fetching activity logs:",t),{success:!1,error:t.message}}}},T7=()=>{const e=Fi(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState(""),u=async d=>{var f;d.preventDefault(),l(""),s(!0);try{const h=await Ei.signIn(t,n);if(!h.success){l(h.error||"Login failed"),s(!1);return}const m=(f=h.user.user_metadata)==null?void 0:f.role;if(!m||m!=="admin"&&m!=="agent"){l("Invalid user role. Contact administrator."),await Ei.signOut(),s(!1);return}if(await Mx.createLog({userEmail:h.user.email,action:"login",module:"auth",recordId:h.user.id,details:{login_type:"password",role:m}}),m==="admin"){const p={id:h.user.id,name:"Admin User",email:h.user.email,role:"Admin",avatar:"/avatars/default.png"};localStorage.setItem("brokerflow_current_user",JSON.stringify(p)),e("/tms")}else if(m==="agent"){const p={id:h.user.id,name:"Agent User",email:h.user.email,role:"Agent",avatar:"/avatars/default.png"};localStorage.setItem("brokerflow_current_user",JSON.stringify(p)),e("/tms/agent-dashboard")}}catch(h){console.error("Login error:",h),l("An unexpected error occurred"),s(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-[#0D0D0D] to-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent mb-2",children:"BrokerFlow Pro"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"TMS & CRM System - Portal Login"})]}),c.jsxs("div",{className:"bg-[#111827] border border-gray-800 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(R_,{className:"text-blue-400",size:24})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"TMS Login"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Enter your credentials"})]})]}),o&&c.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[c.jsx(ph,{className:"text-red-400 flex-shrink-0 mt-0.5",size:18}),c.jsx("p",{className:"text-red-400 text-sm",children:o})]}),c.jsxs("form",{onSubmit:u,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"you@loyalbrokerage.com",required:!0,disabled:a})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"",required:!0,disabled:a})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-600/20",children:a?c.jsxs(c.Fragment,{children:[c.jsx(gh,{className:"animate-spin",size:18}),c.jsx("span",{children:"Signing in..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(R_,{size:18}),c.jsx("span",{children:"Sign In"})]})})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800 text-center",children:c.jsx(ot,{to:"/",className:"text-sm text-gray-400 hover:text-white transition-colors",children:" Back to Home"})})]}),c.jsx("div",{className:"text-center mt-8 text-xs text-gray-500",children:" 2024 BrokerFlow Pro. All rights reserved."})]})})},I7=()=>{var s;const e=ao(),[t,r]=y.useState(null);y.useEffect(()=>{n()},[]);const n=async()=>{const o=await Ei.getCurrentUser();r(o)},a=((s=t==null?void 0:t.user_metadata)==null?void 0:s.role)==="agent"?[{path:"/tms/agent-dashboard",icon:Wd,label:"Agent Dashboard"},{path:"/tms/crm",icon:I_,label:"CRM"}]:[{path:"/tms",icon:Wd,label:"Dashboard"},{path:"/tms/loads",icon:zs,label:"Loads"},{path:"/tms/customers",icon:Il,label:"Customers"},{path:"/tms/carriers",icon:zs,label:"Carriers"},{path:"/tms/crm",icon:I_,label:"CRM"},{path:"/tms/agents",icon:IF,label:"Agents"},{path:"/tms/accounting",icon:An,label:"Accounting"},{path:"/tms/settings",icon:mF,label:"Settings"},{path:"/tms/activity-logs",icon:Cn,label:"Activity Logs"}];return c.jsxs("aside",{className:"w-64 bg-gradient-to-b from-[#111827] to-[#0D0D0D] border-r border-gray-800 flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-gray-800",children:[c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent",children:"BrokerFlow Pro"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"TMS & CRM System"})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(o=>{const l=o.icon,u=e.pathname===o.path;return c.jsxs(ot,{to:o.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${u?"bg-blue-600 text-white shadow-lg shadow-blue-600/50":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[c.jsx(l,{size:20}),c.jsx("span",{className:"font-medium",children:o.label})]},o.path)})}),c.jsx("div",{className:"p-4 border-t border-gray-800",children:c.jsxs("button",{onClick:async()=>{const o=await Ei.getCurrentUser();o&&await Mx.createLog({userEmail:o.email,action:"logout",module:"auth",recordId:o.id}),await Ei.signOut(),window.location.href="/tms-login"},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg transition-all duration-200 border border-red-500/30",children:[c.jsx(f0,{size:18}),c.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},D0=[{id:1,name:"Ozan Akdemir",role:"Admin",email:"ozan@adafleet.com",avatar:"OA",status:"Active"},{id:2,name:"Jane Smith",role:"Agent",email:"jane@brokerflow.com",avatar:"JS",status:"Active"},{id:3,name:"David Lopez",role:"Agent",email:"david@brokerflow.com",avatar:"DL",status:"Active"}],Ep=D0[0],Zj="brokerflow_current_user",Da=()=>{const[e,t]=y.useState(()=>{const l=localStorage.getItem(Zj);if(l)try{return JSON.parse(l)}catch{return Ep}return Ep});y.useEffect(()=>{localStorage.setItem(Zj,JSON.stringify(e))},[e]);const r=l=>{const u=D0.find(d=>d.id===l);return u?(t(u),!0):!1},n=()=>{t(Ep)},i=l=>r(l),a=()=>e.role==="Admin";return{currentUser:e,login:r,logout:n,switchUser:i,isAdmin:a,isAgent:()=>e.role==="Agent",hasAccess:l=>a()?!0:["dashboard","crm","customers"].includes(l.toLowerCase()),allUsers:D0}},R7=()=>{var o;const{currentUser:e,allUsers:t,switchUser:r}=Da(),[n,i]=y.useState(!1),a=y.useRef(null);y.useEffect(()=>{const l=u=>{a.current&&!a.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const s=l=>{r(l),i(!1)};return e?c.jsxs("div",{className:"relative",ref:a,children:[c.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-3 pl-2 pr-3 py-1.5 h-12 bg-[#111827] border border-gray-800 rounded-full hover:border-gray-700 hover:bg-gray-900 transition-all group shadow-sm",children:[c.jsx("div",{className:"w-8 h-8 min-w-[32px] rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center font-bold text-xs text-white shadow-inner overflow-hidden",children:e.avatar&&(e.avatar.startsWith("/")||e.avatar.startsWith("http"))?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover",onError:l=>{var u;l.target.style.display="none",l.target.parentElement.innerText=((u=e.name)==null?void 0:u.charAt(0))||"U"}}):e.avatar||((o=e.name)==null?void 0:o.charAt(0))||"U"}),c.jsxs("div",{className:"flex flex-col items-start min-w-[80px] max-w-[120px]",children:[c.jsx("span",{className:"text-sm font-semibold text-white truncate w-full text-left leading-tight",children:e.name||"User"}),c.jsx("span",{className:`text-[10px] uppercase tracking-wider font-medium mt-0.5 truncate ${e.role==="Admin"?"text-blue-400":"text-green-400"}`,children:e.role||"Agent"})]}),c.jsx("div",{className:"p-1 rounded-full text-gray-400 group-hover:text-white transition-colors duration-200",children:c.jsx(Qv,{size:14,className:`transition-transform duration-200 ${n?"rotate-180":""}`})})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-[#111827] border border-gray-800 rounded-xl shadow-2xl z-50 overflow-hidden ring-1 ring-black/5 animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[c.jsx("div",{className:"p-4 border-b border-gray-800 bg-gray-900/30",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-sm font-bold shadow-lg overflow-hidden",children:e.avatar&&(e.avatar.startsWith("/")||e.avatar.startsWith("http"))?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):e.avatar}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("div",{className:"text-sm font-bold text-white truncate",children:e.name}),c.jsx("div",{className:"text-xs text-gray-400 truncate",children:e.email})]})]})}),c.jsxs("div",{className:"p-2 space-y-0.5 max-h-[300px] overflow-y-auto custom-scrollbar",children:[c.jsx("div",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider px-3 py-2",children:"Switch Account (Demo)"}),t.map(l=>c.jsxs("button",{onClick:()=>s(l.id),disabled:l.id===e.id,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all ${l.id===e.id?"bg-blue-500/10 border border-blue-500/20 cursor-default":"hover:bg-gray-800 border border-transparent hover:border-gray-700"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs shadow-sm overflow-hidden ${l.role==="Admin"?"bg-gradient-to-br from-blue-500 to-cyan-400 text-white":"bg-gradient-to-br from-green-500 to-emerald-400 text-white"}`,children:l.avatar&&(l.avatar.startsWith("/")||l.avatar.startsWith("http"))?c.jsx("img",{src:l.avatar,alt:"User",className:"w-full h-full object-cover"}):l.avatar}),c.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[c.jsx("div",{className:`text-sm font-medium truncate ${l.id===e.id?"text-blue-400":"text-gray-200"}`,children:l.name}),c.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[l.role," ",l.id===e.id&&c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 ml-1"})]})]})]},l.id))]})]})]}):null},eS=()=>c.jsxs("div",{className:"flex min-h-screen bg-[#0D0D0D] text-white",children:[c.jsx(I7,{}),c.jsxs("main",{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-800 flex justify-end",children:c.jsx(R7,{})}),c.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:c.jsx(zv,{})})]})]}),xn={async getLoadsThisMonth(){try{const{data:e,error:t}=await U.rpc("get_loads_this_month");if(t)throw t;return{success:!0,data:e[0]||{total_count:0,total_revenue:0}}}catch(e){return console.error("Error fetching loads this month:",e),{success:!1,error:e.message}}},async getOutstandingReceivables(){try{const{data:e,error:t}=await U.rpc("get_outstanding_receivables");if(t)throw t;return{success:!0,data:e[0]||{total_outstanding:0,count_pending:0}}}catch(e){return console.error("Error fetching receivables:",e),{success:!1,error:e.message}}},async getAgedReceivables(){try{const{data:e,error:t}=await U.rpc("get_aged_receivables");if(t)throw t;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching aged receivables:",e),{success:!1,error:e.message}}},async getTopCustomers(e=5){try{const{data:t,error:r}=await U.rpc("get_top_customers",{limit_count:e});if(r)throw r;return{success:!0,data:t||[]}}catch(t){return console.error("Error fetching top customers:",t),{success:!1,error:t.message}}},async getTopCarriers(e=5){try{const{data:t,error:r}=await U.rpc("get_top_carriers",{limit_count:e});if(r)throw r;return{success:!0,data:t||[]}}catch(t){return console.error("Error fetching top carriers:",t),{success:!1,error:t.message}}},async getAgentLeaderboard(){try{const{data:e,error:t}=await U.rpc("get_agent_leaderboard");if(t)throw t;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching agent leaderboard:",e),{success:!1,error:e.message}}},async getWeeklyRevenue(e=12){try{const{data:t,error:r}=await U.rpc("get_weekly_revenue",{weeks_count:e});if(r)throw r;return{success:!0,data:t||[]}}catch(t){return console.error("Error fetching weekly revenue:",t),{success:!1,error:t.message}}},async getLoadStatusBreakdown(){try{const{data:e,error:t}=await U.rpc("get_load_status_breakdown");if(t)throw t;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching load status breakdown:",e),{success:!1,error:e.message}}},async getCarrierPayables(){try{const{data:e,error:t}=await U.rpc("get_carrier_payables");if(t)throw t;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching carrier payables:",e),{success:!1,error:e.message}}}};function V2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=V2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ue(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=V2(e))&&(n&&(n+=" "),n+=t);return n}var M7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dx(e){if(typeof e!="string")return!1;var t=M7;return t.includes(e)}var D7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L7=new Set(D7);function W2(e){return typeof e!="string"?!1:L7.has(e)}function q2(e){return typeof e=="string"&&e.startsWith("data-")}function Qr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(W2(r)||q2(r))&&(t[r]=e[r]);return t}function Bl(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qr(t)}return typeof e=="object"&&!Array.isArray(e)?Qr(e):null}function Cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(W2(r)||q2(r)||Dx(r))&&(t[r]=e[r]);return t}var $7=["children","width","height","viewBox","className","style","title","desc"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function F7(e,t){if(e==null)return{};var r,n,i=B7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K2=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=F7(e,$7),f=a||{width:n,height:i,x:0,y:0},h=ue("recharts-surface",s);return y.createElement("svg",L0({},Cr(d),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,u),r)}),z7=["children","className"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function U7(e,t){if(e==null)return{};var r,n,i=V7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lt=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=U7(e,z7),a=ue("recharts-layer",n);return y.createElement("g",$0({className:a},Cr(i),{ref:t}),r)}),W7=y.createContext(null);function ge(e){return function(){return e}}const H2=Math.cos,Jd=Math.sin,tn=Math.sqrt,Qd=Math.PI,_h=2*Qd,F0=Math.PI,B0=2*F0,ta=1e-6,q7=B0-ta;function G2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function K7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class H7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G2:K7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ta)if(!(Math.abs(f*l-u*d)>ta)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=i-o,x=l*l+u*u,v=m*m+p*p,g=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((F0-Math.acos((x+h-v)/(2*g*b)))/2),j=w/b,_=w/g;Math.abs(j-1)>ta&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+_*l},${this._y1=r+_*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ta||Math.abs(this._y1-d)>ta)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%B0+B0),h>q7?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ta&&this._append`A${n},${n},0,${+(h>=F0)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Lx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new H7(t)}function $x(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y2(e){this._context=e}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function jh(e){return new Y2(e)}function X2(e){return e[0]}function J2(e){return e[1]}function Q2(e,t){var r=ge(!0),n=null,i=jh,a=null,s=Lx(o);e=typeof e=="function"?e:e===void 0?X2:ge(e),t=typeof t=="function"?t:t===void 0?J2:ge(t);function o(l){var u,d=(l=$x(l)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ge(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ge(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ge(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function bu(e,t,r){var n=null,i=ge(!0),a=null,s=jh,o=null,l=Lx(u);e=typeof e=="function"?e:e===void 0?X2:ge(+e),t=typeof t=="function"?t:ge(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?J2:ge(+r);function u(f){var h,m,p,x=(f=$x(f)).length,v,g=!1,b,w=new Array(x),j=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===g)if(g=!g)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],j[p]);o.lineEnd(),o.areaEnd()}g&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return o=null,b+""||null}function d(){return Q2().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ge(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ge(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ge(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ge(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ge(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ge(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ge(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class Z2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function G7(e){return new Z2(e,!0)}function Y7(e){return new Z2(e,!1)}const Fx={draw(e,t){const r=tn(t/Qd);e.moveTo(r,0),e.arc(0,0,r,0,_h)}},X7={draw(e,t){const r=tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eT=tn(1/3),J7=eT*2,Q7={draw(e,t){const r=tn(t/J7),n=r*eT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Z7={draw(e,t){const r=tn(t),n=-r/2;e.rect(n,n,r,r)}},e9=.8908130915292852,tT=Jd(Qd/10)/Jd(7*Qd/10),t9=Jd(_h/10)*tT,r9=-H2(_h/10)*tT,n9={draw(e,t){const r=tn(t*e9),n=t9*r,i=r9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=_h*a/5,o=H2(s),l=Jd(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},kp=tn(3),i9={draw(e,t){const r=-tn(t/(kp*3));e.moveTo(0,r*2),e.lineTo(-kp*r,-r),e.lineTo(kp*r,-r),e.closePath()}},yr=-.5,vr=tn(3)/2,z0=1/tn(12),a9=(z0/2+1)*3,s9={draw(e,t){const r=tn(t/a9),n=r/2,i=r*z0,a=n,s=r*z0+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(yr*n-vr*i,vr*n+yr*i),e.lineTo(yr*a-vr*s,vr*a+yr*s),e.lineTo(yr*o-vr*l,vr*o+yr*l),e.lineTo(yr*n+vr*i,yr*i-vr*n),e.lineTo(yr*a+vr*s,yr*s-vr*a),e.lineTo(yr*o+vr*l,yr*l-vr*o),e.closePath()}};function o9(e,t){let r=null,n=Lx(i);e=typeof e=="function"?e:ge(e||Fx),t=typeof t=="function"?t:ge(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ge(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ge(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Zd(){}function ef(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rT(e){this._context=e}rT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ef(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l9(e){return new rT(e)}function nT(e){this._context=e}nT.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c9(e){return new nT(e)}function iT(e){this._context=e}iT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u9(e){return new iT(e)}function aT(e){this._context=e}aT.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d9(e){return new aT(e)}function tS(e){return e<0?-1:1}function rS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(tS(a)+tS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function nS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Pp(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function tf(e){this._context=e}tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pp(this,this._t0,nS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pp(this,nS(this,r=rS(this,e,t)),r);break;default:Pp(this,this._t0,r=rS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function sT(e){this._context=new oT(e)}(sT.prototype=Object.create(tf.prototype)).point=function(e,t){tf.prototype.point.call(this,t,e)};function oT(e){this._context=e}oT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function f9(e){return new tf(e)}function h9(e){return new sT(e)}function lT(e){this._context=e}lT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iS(e),i=iS(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function m9(e){return new lT(e)}function Sh(e,t){this._context=e,this._t=t}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function p9(e){return new Sh(e,.5)}function g9(e){return new Sh(e,0)}function y9(e){return new Sh(e,1)}function Ws(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function U0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function v9(e,t){return e[t]}function x9(e){const t=[];return t.key=e,t}function b9(){var e=ge([]),t=U0,r=Ws,n=v9;function i(a){var s=Array.from(e.apply(this,arguments),x9),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=$x(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ge(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ge(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?U0:typeof a=="function"?a:ge(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ws,i):r},i}function w9(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Ws(e,t)}}function _9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ws(e,t)}}function j9(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var x=e[t[p]],v=x[n][1]||0,g=x[n-1][1]||0;m+=v-g}l+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ws(e,t)}}var Nh={},cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cT);var Bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Bx);var Eh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Eh);var kh={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(uT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=Eh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=n})(kh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cT,r=Bx,n=Eh,i=kh;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(Nh);var S9=Nh.get;const ka=yn(S9);var ut=e=>e===0?0:e>0?1:-1,Zr=e=>typeof e=="number"&&e!=+e,Fn=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Y=e=>(typeof e=="number"||e instanceof Number)&&!Zr(e),mn=e=>Y(e)||typeof e=="string",N9=0,zl=e=>{var t=++N9;return"".concat(e||"").concat(t)},At=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&typeof t!="string")return n;var a;if(Fn(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Zr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},dT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Qe(e,t,r){return Y(e)&&Y(t)?e+r*(t-e):t}function E9(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ka(n,t))===r)}var ft=e=>e===null||typeof e>"u",pc=e=>ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function k9(e){return e!=null}function gc(){}var P9=["type","size","sizeType"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){A9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T9(e,t){if(e==null)return{};var r,n,i=I9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function I9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fT={symbolCircle:Fx,symbolCross:X7,symbolDiamond:Q7,symbolSquare:Z7,symbolStar:n9,symbolTriangle:i9,symbolWye:s9},R9=Math.PI/180,M9=e=>{var t="symbol".concat(pc(e));return fT[t]||Fx},D9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*R9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L9=(e,t)=>{fT["symbol".concat(pc(e))]=t},hT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=T9(e,P9),a=sS(sS({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=M9(s),m=o9().type(h).size(D9(r,n,s)),p=m();if(p!==null)return p},{className:l,cx:u,cy:d}=a,f=Cr(a);return Y(u)&&Y(d)&&Y(r)?y.createElement("path",V0({},f,{className:ue("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};hT.registerSymbol=L9;var mT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Dx(i)&&(n[i]=a=>r[i](r,a))}),n},F9=(e,t,r)=>n=>(e(t,r,n),null),Ph=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Dx(i)&&typeof a=="function"&&(n||(n={}),n[i]=F9(a,t,r))}),n};function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z9(e,t,r){return(t=U9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=V9(e,"string");return typeof t=="symbol"?t:t+""}function V9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t){var r=B9({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}var pT={},gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(gT);var zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(zx);var yT={},Ah={},vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ah);var xT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ah,r=xT;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(yT);var bT={},wT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(wT);var _T={},Ux={},jT={},Vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Vx);var Wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Wx);var qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(qx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vx,r=Wx,n=qx;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,x,v,g,b,w){const j=h(p,x,v,g,b,w);return j!==void 0?!!j:a(p,x,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(h(v,x,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let g=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let j=!1;if(h(w,v,x,d,f,m)&&(j=!0),j){p.add(b),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ux);var ST={},Kx={},NT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(NT);var Hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Hx);var Gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=N,e.int8ArrayTag=_,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(Gx);var ET={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NT,r=Hx,n=Gx,i=Wx,a=ET;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,b]of d)v.set(g,o(b,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(o(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=o(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),l(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),l(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),l(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,l(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),l(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),l(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),l(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),l(v,d,h,m,p),v}return d}function l(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const g=x[v],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=o(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Kx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux,r=ST;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(_T);var kT={},PT={},AT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx,r=Gx;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const d=a==null?void 0:a(s,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(AT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(PT);var CT={},Yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yx);var OT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bx,r=Yx,n=OT,i=kh;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(CT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux,r=Eh,n=PT,i=Nh,a=CT;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(kT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx,r=wT,n=_T,i=kT;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(bT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT,r=zx,n=yT,i=bT;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(pT);var W9=pT.uniqBy;const lS=yn(W9);function q9(e,t,r){return t===!0?lS(e,r):typeof t=="function"?lS(e,t):e}var TT={exports:{}},IT={},RT={exports:{}},MT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=y;function K9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H9=typeof Object.is=="function"?Object.is:K9,G9=qs.useState,Y9=qs.useEffect,X9=qs.useLayoutEffect,J9=qs.useDebugValue;function Q9(e,t){var r=t(),n=G9({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return X9(function(){i.value=r,i.getSnapshot=t,Ap(i)&&a({inst:i})},[e,r,t]),Y9(function(){return Ap(i)&&a({inst:i}),e(function(){Ap(i)&&a({inst:i})})},[e]),J9(r),r}function Ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!H9(e,r)}catch{return!0}}function Z9(e,t){return t()}var eW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Z9:Q9;MT.useSyncExternalStore=qs.useSyncExternalStore!==void 0?qs.useSyncExternalStore:eW;RT.exports=MT;var tW=RT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=y,rW=tW;function nW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iW=typeof Object.is=="function"?Object.is:nW,aW=rW.useSyncExternalStore,sW=Ch.useRef,oW=Ch.useEffect,lW=Ch.useMemo,cW=Ch.useDebugValue;IT.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=sW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=lW(function(){function l(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,iW(d,m))return p;var x=n(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=aW(e,a[0],a[1]);return oW(function(){s.hasValue=!0,s.value=o},[o]),cW(o),o};TT.exports=IT;var uW=TT.exports,Xx=y.createContext(null),dW=e=>e,ke=()=>{var e=y.useContext(Xx);return e?e.store.dispatch:dW},nd=()=>{},fW=()=>nd,hW=(e,t)=>e===t;function H(e){var t=y.useContext(Xx);return uW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fW,t?t.store.getState:nd,t?t.store.getState:nd,t?e:nd,hW)}function mW(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pW(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gW(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var cS=e=>Array.isArray(e)?e:[e];function yW(e){const t=Array.isArray(e[0])?e[0]:e;return gW(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function vW(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var xW=class{constructor(e){this.value=e}deref(){return this.value}},bW=typeof WeakRef<"u"?WeakRef:xW,wW=0,uS=1;function wu(){return{s:wW,v:void 0,o:null,p:null}}function DT(e,t={}){let r=wu();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(p);v===void 0?(o=wu(),x.set(p,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(p);v===void 0?(o=wu(),x.set(p,o)):o=v}}const u=o;let d;if(o.s===uS)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new bW(d):d}return u.s=uS,u.v=d,d}return s.clearCache=()=>{r=wu(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function _W(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),mW(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=DT,argsMemoizeOptions:p=[]}=d,x=cS(h),v=cS(p),g=yW(i),b=f(function(){return a++,u.apply(null,arguments)},...x),w=m(function(){s++;const _=vW(g,arguments);return o=b.apply(null,_),o},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var k=_W(DT),jW=Object.assign((e,t=k)=>{pW(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>jW}),LT={},$T={},FT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(FT);var BT={},Jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Jx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(BT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT,r=BT,n=kh;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(m.criteria[x],p.criteria[x],o[x]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=i})($T);var zT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(r,0),i}e.flatten=t})(zT);var Qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx,r=Ah,n=Vx,i=qx;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(Qx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T,r=zT,n=Qx;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(LT);var SW=LT.sortBy;const Oh=yn(SW);var UT=e=>e.legend.settings,NW=e=>e.legend.size,EW=e=>e.legend.payload;k([EW,UT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Oh(n,r):n});var _u=1;function kW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>_u||Math.abs(s.left-t.left)>_u||Math.abs(s.top-t.top)>_u||Math.abs(s.width-t.width)>_u)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PW=typeof Symbol=="function"&&Symbol.observable||"@@observable",dS=PW,Cp=()=>Math.random().toString(36).substring(7).split("").join("."),AW={INIT:`@@redux/INIT${Cp()}`,REPLACE:`@@redux/REPLACE${Cp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cp()}`},rf=AW;function Zx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VT(e,t,r){if(typeof e!="function")throw new Error(gt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gt(1));return r(VT)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((v,g)=>{s.set(g,v)}))}function d(){if(l)throw new Error(gt(3));return i}function f(v){if(typeof v!="function")throw new Error(gt(4));if(l)throw new Error(gt(5));let g=!0;u();const b=o++;return s.set(b,v),function(){if(g){if(l)throw new Error(gt(6));g=!1,u(),s.delete(b),a=null}}}function h(v){if(!Zx(v))throw new Error(gt(7));if(typeof v.type>"u")throw new Error(gt(8));if(typeof v.type!="string")throw new Error(gt(17));if(l)throw new Error(gt(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=s).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(gt(10));n=v,h({type:rf.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(gt(11));function b(){const j=g;j.next&&j.next(d())}return b(),{unsubscribe:v(b)}},[dS](){return this}}}return h({type:rf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[dS]:p}}function CW(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:rf.INIT})>"u")throw new Error(gt(12));if(typeof r(void 0,{type:rf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gt(13))})}function WT(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{CW(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(gt(14));u[f]=p,l=l||p!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function nf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function OW(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(gt(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=nf(...o)(i.dispatch),{...i,dispatch:a}}}function qT(e){return Zx(e)&&"type"in e&&typeof e.type=="string"}var KT=Symbol.for("immer-nothing"),fS=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,Ks=ur.getPrototypeOf,af="constructor",Th="prototype",W0="configurable",sf="enumerable",id="writable",Ul="value",Bn=e=>!!e&&!!e[$t];function en(e){var t;return e?HT(e)||Ih(e)||!!e[fS]||!!((t=e[af])!=null&&t[fS])||Rh(e)||Mh(e):!1}var TW=ur[Th][af].toString(),hS=new WeakMap;function HT(e){if(!e||!eb(e))return!1;const t=Ks(e);if(t===null||t===ur[Th])return!0;const r=ur.hasOwnProperty.call(t,af)&&t[af];if(r===Object)return!0;if(!es(r))return!1;let n=hS.get(r);return n===void 0&&(n=Function.toString.call(r),hS.set(r,n)),n===TW}function yc(e,t,r=!0){vc(e)===0?(r?Reflect.ownKeys(e):ur.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function vc(e){const t=e[$t];return t?t.type_:Ih(e)?1:Rh(e)?2:Mh(e)?3:0}var mS=(e,t,r=vc(e))=>r===2?e.has(t):ur[Th].hasOwnProperty.call(e,t),q0=(e,t,r=vc(e))=>r===2?e.get(t):e[t],of=(e,t,r,n=vc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function IW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ih=Array.isArray,Rh=e=>e instanceof Map,Mh=e=>e instanceof Set,eb=e=>typeof e=="object",es=e=>typeof e=="function",Op=e=>typeof e=="boolean",wn=e=>e.copy_||e.base_,tb=e=>e.modified_?e.copy_:e.base_;function K0(e,t){if(Rh(e))return new Map(e);if(Mh(e))return new Set(e);if(Ih(e))return Array[Th].slice.call(e);const r=HT(e);if(t===!0||t==="class_only"&&!r){const n=ur.getOwnPropertyDescriptors(e);delete n[$t];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[id]===!1&&(o[id]=!0,o[W0]=!0),(o.get||o.set)&&(n[s]={[W0]:!0,[id]:!0,[sf]:o[sf],[Ul]:e[s]})}return ur.create(Ks(e),n)}else{const n=Ks(e);if(n!==null&&r)return{...e};const i=ur.create(n);return ur.assign(i,e)}}function rb(e,t=!1){return Dh(e)||Bn(e)||!en(e)||(vc(e)>1&&ur.defineProperties(e,{set:ju,add:ju,clear:ju,delete:ju}),ur.freeze(e),t&&yc(e,(r,n)=>{rb(n,!0)},!1)),e}function RW(){qr(2)}var ju={[Ul]:RW};function Dh(e){return e===null||!eb(e)?!0:ur.isFrozen(e)}var lf="MapSet",H0="Patches",GT={};function Hs(e){const t=GT[e];return t||qr(0,e),t}var MW=e=>!!GT[e],Vl,YT=()=>Vl,DW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MW(lf)?Hs(lf):void 0});function pS(e,t){t&&(e.patchPlugin_=Hs(H0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function G0(e){Y0(e),e.drafts_.forEach(LW),e.drafts_=null}function Y0(e){e===Vl&&(Vl=e.parent_)}var gS=e=>Vl=DW(Vl,e);function LW(e){const t=e[$t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[$t].modified_&&(G0(t),qr(4)),en(e)&&(e=vS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[$t].base_,e,t)}else e=vS(t,r);return $W(t,e,!0),G0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KT?e:void 0}function vS(e,t){if(Dh(t))return t;const r=t[$t];if(!r)return nb(t,e.handledSet_,e);if(!Lh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);QT(r,e)}return r.copy_}function $W(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rb(t,r)}function XT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Lh=(e,t)=>e.scope_===t,FW=[];function JT(e,t,r,n){const i=wn(e),a=e.type_;if(n!==void 0&&q0(i,n,a)===t){of(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;yc(i,(l,u)=>{if(Bn(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const s=e.draftLocations_.get(t)??FW;for(const o of s)of(i,o,r,a)}function BW(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Lh(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=tb(a);JT(e,a.draft_??a,s,r),QT(a,i)})}function QT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}XT(e)}}function zW(e,t,r){const{scope_:n}=e;if(Bn(r)){const i=r[$t];Lh(i,n)&&i.callbacks_.push(function(){ad(e);const s=tb(i);JT(e,r,s,t)})}else en(r)&&e.callbacks_.push(function(){const a=wn(e);q0(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&nb(q0(e.copy_,t,e.type_),n.handledSet_,n)})}function nb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Bn(e)||t.has(e)||!en(e)||Dh(e)||(t.add(e),yc(e,(n,i)=>{if(Bn(i)){const a=i[$t];if(Lh(a,r)){const s=tb(a);of(e,n,s,e.type_),XT(a)}}else en(i)&&nb(i,t,r)})),e}function UW(e,t){const r=Ih(e),n={type_:r?1:0,scope_:t?t.scope_:YT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=ib;r&&(i=[n],a=Wl);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var ib={get(e,t){if(t===$t)return e;const r=wn(e);if(!mS(r,t,e.type_))return VW(e,r,t);const n=r[t];if(e.finalized_||!en(n))return n;if(n===Tp(e.base_,t)){ad(e);const i=e.type_===1?+t:t,a=J0(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=ZT(wn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Tp(wn(e),t),a=i==null?void 0:i[$t];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(IW(r,i)&&(r!==void 0||mS(e.base_,t,e.type_)))return!0;ad(e),X0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),zW(e,t,r)),!0},deleteProperty(e,t){return ad(e),Tp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),X0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[id]:!0,[W0]:e.type_!==1||t!=="length",[sf]:n[sf],[Ul]:r[t]}},defineProperty(){qr(11)},getPrototypeOf(e){return Ks(e.base_)},setPrototypeOf(){qr(12)}},Wl={};yc(ib,(e,t)=>{Wl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Wl.deleteProperty=function(e,t){return Wl.set.call(this,e,t,void 0)};Wl.set=function(e,t,r){return ib.set.call(this,e[0],t,r,e[0])};function Tp(e,t){const r=e[$t];return(r?wn(r):e)[t]}function VW(e,t,r){var i;const n=ZT(t,r);return n?Ul in n?n[Ul]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function ZT(e,t){if(!(t in e))return;let r=Ks(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ks(r)}}function X0(e){e.modified_||(e.modified_=!0,e.parent_&&X0(e.parent_))}function ad(e){e.copy_||(e.assigned_=new Map,e.copy_=K0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(es(r)&&!es(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,f=>n.call(this,f,...d))}}es(n)||qr(6),i!==void 0&&!es(i)&&qr(7);let a;if(en(r)){const s=gS(this),o=J0(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?G0(s):Y0(s)}return pS(s,i),yS(a,s)}else if(!r||!eb(r)){if(a=n(r),a===void 0&&(a=r),a===KT&&(a=void 0),this.autoFreeze_&&rb(a,!0),i){const s=[],o=[];Hs(H0).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else qr(1,r)},this.produceWithPatches=(r,n)=>{if(es(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},Op(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Op(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Op(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){en(t)||qr(8),Bn(t)&&(t=Xr(t));const r=gS(this),n=J0(r,t,void 0);return n[$t].isManual_=!0,Y0(r),n}finishDraft(t,r){const n=t&&t[$t];(!n||!n.isManual_)&&qr(9);const{scope_:i}=n;return pS(i,r),yS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Hs(H0).applyPatches_;return Bn(t)?i(t,r):this.produce(t,a=>i(a,r))}};function J0(e,t,r,n){const[i,a]=Rh(t)?Hs(lf).proxyMap_(t,r):Mh(t)?Hs(lf).proxySet_(t,r):UW(t,r);return((r==null?void 0:r.scope_)??YT()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?BW(r,a,n):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Xr(e){return Bn(e)||qr(10,e),eI(e)}function eI(e){if(!en(e)||Dh(e))return e;const t=e[$t];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=K0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=K0(e,!0);return yc(r,(i,a)=>{of(r,i,eI(a))},n),t&&(t.finalized_=!1),r}var qW=new WW,tI=qW.produce;function rI(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var KW=rI(),HW=rI,GW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nf:nf.apply(null,arguments)};function Or(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>qT(n)&&n.type===e,r}var nI=class Go extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Go.prototype)}static get[Symbol.species](){return Go}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Go(...t[0].concat(this)):new Go(...t.concat(this))}};function xS(e){return en(e)?tI(e,()=>{}):e}function Su(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YW(e){return typeof e=="boolean"}var XW=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new nI;return r&&(YW(r)?s.push(KW):s.push(HW(r.extraArgument))),s},iI="RTK_autoBatch",_e=()=>e=>({payload:e,meta:{[iI]:!0}}),bS=e=>t=>{setTimeout(t,e)},aI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bS(10):e.type==="callback"?e.queueNotification:bS(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[iI]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(d)}finally{i=!0}}})},JW=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new nI(e);return n&&i.push(aI(typeof n=="object"?n:void 0)),i};function QW(e){const t=XW(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Zx(r))o=WT(r);else throw new Error(fr(1));let l;typeof n=="function"?l=n(t):l=t();let u=nf;i&&(u=GW({trace:!1,...typeof i=="object"&&i}));const d=OW(...l),f=JW(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return VT(o,a,m)}function sI(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(fr(28));if(o in t)throw new Error(fr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function ZW(e){return typeof e=="function"}function eq(e,t){let[r,n,i]=sI(t),a;if(ZW(e))a=()=>xS(e());else{const o=xS(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Bn(d)){const m=f(d,l);return m===void 0?d:m}else{if(en(d))return tI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var tq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rq=(e=21)=>{let t="",r=e;for(;r--;)t+=tq[Math.random()*64|0];return t},nq=Symbol.for("rtk-slice-createasyncthunk");function iq(e,t){return`${e}/${t}`}function aq({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nq];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(fr(11));const o=(typeof i.reducers=="function"?i.reducers(oq()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(fr(12));if(S in u.sliceCaseReducersByType)throw new Error(fr(13));return u.sliceCaseReducersByType[S]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};l.forEach(j=>{const _=o[j],S={reducerName:j,type:iq(a,j),createNotation:typeof i.reducers=="function"};cq(_)?dq(S,_,d,t):lq(S,_,d)});function f(){const[j={},_=[],S=void 0]=typeof i.extraReducers=="function"?sI(i.extraReducers):[i.extraReducers],N={...j,...u.sliceCaseReducersByType};return eq(i.initialState,E=>{for(let A in N)E.addCase(A,N[A]);for(let A of u.sliceMatchers)E.addMatcher(A.matcher,A.reducer);for(let A of _)E.addMatcher(A.matcher,A.reducer);S&&E.addDefaultCase(S)})}const h=j=>j,m=new Map,p=new WeakMap;let x;function v(j,_){return x||(x=f()),x(j,_)}function g(){return x||(x=f()),x.getInitialState()}function b(j,_=!1){function S(E){let A=E[j];return typeof A>"u"&&_&&(A=Su(p,S,g)),A}function N(E=h){const A=Su(m,_,()=>new WeakMap);return Su(A,E,()=>{const O={};for(const[C,M]of Object.entries(i.selectors??{}))O[C]=sq(M,E,()=>Su(p,E,g),_);return O})}return{reducerPath:j,getSelectors:N,get selectors(){return N(S)},selectSlice:S}}const w={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...b(s),injectInto(j,{reducerPath:_,...S}={}){const N=_??s;return j.inject({reducerPath:N,reducer:v},S),{...w,...b(N,!0)}}};return w}}function sq(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Zt=aq();function oq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lq({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!uq(n))throw new Error(fr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Or(e,s):Or(e))}function cq(e){return e._reducerDefinitionType==="asyncThunk"}function uq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dq({type:e,reducerName:t},r,n,i){if(!i)throw new Error(fr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Nu,pending:o||Nu,rejected:l||Nu,settled:u||Nu})}function Nu(){}var fq="task",oI="listener",lI="completed",ab="cancelled",hq=`task-${ab}`,mq=`task-${lI}`,Q0=`${oI}-${ab}`,pq=`${oI}-${lI}`,$h=class{constructor(e){Am(this,"name","TaskAbortError");Am(this,"message");this.code=e,this.message=`${fq} ${ab} (reason: ${e})`}},sb=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},cf=()=>{},cI=(e,t=cf)=>(e.catch(t),e),uI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xa=e=>{if(e.aborted)throw new $h(e.reason)};function dI(e,t){let r=cf;return new Promise((n,i)=>{const a=()=>i(new $h(e.reason));if(e.aborted){a();return}r=uI(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=cf})}var gq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof $h?"cancelled":"rejected",error:r}}finally{t==null||t()}},uf=e=>t=>cI(dI(e,t).then(r=>(xa(e),r))),fI=e=>{const t=uf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:As}=Object,wS={},Fh="listenerMiddleware",yq=(e,t)=>{const r=n=>uI(e,()=>n.abort(e.reason));return(n,i)=>{sb(n);const a=new AbortController;r(a);const s=gq(async()=>{xa(e),xa(a.signal);const o=await n({pause:uf(a.signal),delay:fI(a.signal),signal:a.signal});return xa(a.signal),o},()=>a.abort(mq));return i!=null&&i.autoJoin&&t.push(s.catch(cf)),{result:uf(e)(s),cancel(){a.abort(hq)}}}},vq=(e,t)=>{const r=async(n,i)=>{xa(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await dI(t,Promise.race(o));return xa(t),l}finally{a()}};return(n,i)=>cI(r(n,i))},hI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Or(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(fr(21));return sb(a),{predicate:i,type:t,effect:a}},mI=As(e=>{const{type:t,predicate:r,effect:n}=hI(e);return{id:rq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>mI}),_S=(e,t)=>{const{type:r,effect:n,predicate:i}=hI(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Z0=e=>{e.pending.forEach(t=>{t.abort(Q0)})},xq=(e,t)=>()=>{for(const r of t.keys())Z0(r);e.clear()},jS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},pI=As(Or(`${Fh}/add`),{withTypes:()=>pI}),bq=Or(`${Fh}/removeAll`),gI=As(Or(`${Fh}/remove`),{withTypes:()=>gI}),wq=(...e)=>{console.error(`${Fh}/error`,...e)},xc=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},i=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:a,onError:s=wq}=e;sb(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Z0(m)}),l=m=>{const p=_S(t,m)??mI(m);return o(p)};As(l,{withTypes:()=>l});const u=m=>{const p=_S(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Z0(p)),!!p};As(u,{withTypes:()=>u});const d=async(m,p,x,v)=>{const g=new AbortController,b=vq(l,g.signal),w=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,As({},x,{getOriginalState:v,condition:(j,_)=>b(j,_).then(Boolean),take:b,delay:fI(g.signal),pause:uf(g.signal),extra:a,signal:g.signal,fork:yq(g.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,_,S)=>{j!==g&&(j.abort(Q0),S.delete(j))})},cancel:()=>{g.abort(Q0),m.pending.delete(g)},throwIfCancelled:()=>{xa(g.signal)}})))}catch(j){j instanceof $h||jS(s,j,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(pq),i(m),m.pending.delete(g)}},f=xq(t,r);return{middleware:m=>p=>x=>{if(!qT(x))return p(x);if(pI.match(x))return l(x.payload);if(bq.match(x)){f();return}if(gI.match(x))return u(x.payload);let v=m.getState();const g=()=>{if(v===wS)throw new Error(fr(23));return v};let b;try{if(b=p(x),t.size>0){const w=m.getState(),j=Array.from(t.values());for(const _ of j){let S=!1;try{S=_.predicate(x,w,v)}catch(N){S=!1,jS(s,N,{raisedBy:"predicate"})}S&&d(_,x,m,g)}}}finally{v=wS}return b},startListening:l,stopListening:u,clearListeners:f}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _q={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yI=Zt({name:"chartLayout",initialState:_q,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jq,setLayout:Sq,setChartSize:Nq,setScale:Eq}=yI.actions,kq=yI.reducer;function vI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ne(e,t,r){return ft(e)||ft(t)?r:mn(t)?ka(e,t,r):typeof t=="function"?t(e):r}var Oq=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Y(e[a]))return vs(vs({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Y(e[s]))return vs(vs({},e),{},{[s]:e[s]+(i||0)})}return e},La=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xI=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},bI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(x=m==="angleAxis"&&a&&a.length>=2?ut(a[0]-a[1])*2*x:x,f||h){var v=(f||h||[]).map((g,b)=>{var w=n?n.indexOf(g):g;return{coordinate:s(w)+x,value:g,offset:x,index:b}});return v.filter(g=>!Zr(g.coordinate))}return l&&u?u.map((g,b)=>({coordinate:s(g)+x,value:g,index:b,offset:x})):s.ticks&&d!=null?s.ticks(d).map((g,b)=>({coordinate:s(g)+x,value:g,offset:x,index:b})):s.domain().map((g,b)=>({coordinate:s(g)+x,value:n?n[g]:g,index:b,offset:x}))},NS=1e-4,Tq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-NS,a=Math.max(n[0],n[1])+NS,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},Iq=(e,t)=>{if(!t||t.length!==2||!Y(t[0])||!Y(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Y(e[0])||e[0]<r)&&(i[0]=r),(!Y(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Rq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=Zr(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},Mq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Zr(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Dq={sign:Rq,expand:w9,none:Ws,silhouette:_9,wiggle:j9,positive:Mq},Lq=(e,t,r)=>{var n=Dq[r],i=b9().keys(t).value((a,s)=>Number(Ne(a,s,0))).order(U0).offset(n);return i(e)};function $q(e){return e==null?void 0:String(e)}var ES=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ne(a,t.dataKey,t.scale.domain()[s]);return ft(o)?null:t.scale(o)-i/2+n},Fq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Bq=e=>{var t=e.flat(2).filter(Y);return[Math.min(...t),Math.max(...t)]},zq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Uq=(e,t,r)=>{if(e!=null)return zq(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,u)=>{var d=vI(u,t,r),f=Bq(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},kS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,df=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Oh(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function AS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return vs(vs({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Bh(e,t){if(e)return String(e);if(typeof t=="string")return t}var Vq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Wq=(e,t)=>t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Qn=e=>e.layout.height,qq=e=>e.layout.scale,wI=e=>e.layout.margin,zh=k(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Uh=k(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_I="data-recharts-item-index",jI="data-recharts-item-data-key",bc=60;function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return(t=Hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yq=e=>e.brush.height;function Xq(e){var t=Uh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bc;return r+i}return r},0)}function Jq(e){var t=Uh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bc;return r+i}return r},0)}function Qq(e){var t=zh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Zq(e){var t=zh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tt=k([Jn,Qn,wI,Yq,Xq,Jq,Qq,Zq,UT,NW],(e,t,r,n,i,a,s,o,l,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Eu(Eu({},f),d),m=h.bottom;h.bottom+=n,h=Oq(h,l,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return Eu(Eu({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),eK=k(tt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ob=k(Jn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),tK=y.createContext(null),er=()=>y.useContext(tK)!=null,Vh=e=>e.brush,Wh=k([Vh,tt,wI],(e,t,r)=>({height:e.height,x:Y(e.x)?e.x:t.left,y:Y(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Y(e.width)?e.width:t.width})),SI={},NI={},EI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),s=void 0,o=null},v=()=>{d()},g=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=x,g.flush=v,i==null||i.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),m=function(...x){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(NI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(SI);var rK=SI.throttle;const nK=yn(rK);var ff=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},kI=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Fn(n)?e:Number(n),l=Fn(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},iK={width:0,height:0,overflow:"visible"},aK={width:0,overflowX:"visible"},sK={height:0,overflowY:"visible"},oK={},lK=e=>{var{width:t,height:r}=e,n=Fn(t),i=Fn(r);return n&&i?iK:n?aK:i?sK:oK};function cK(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Be(e){return Number.isFinite(e)}function pn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){uK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uK(e,t,r){return(t=dK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PI=y.createContext({width:-1,height:-1});function hK(e){return pn(e.width)&&pn(e.height)}function AI(e){var{children:t,width:r,height:n}=e,i=y.useMemo(()=>({width:r,height:n}),[r,n]);return hK(i)?y.createElement(PI.Provider,{value:i},t):null}var lb=()=>y.useContext(PI),mK=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=y.useRef(null),v=y.useRef();v.current=m,y.useImperativeHandle(t,()=>x.current);var[g,b]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((E,A)=>{b(O=>{var C=Math.round(E),M=Math.round(A);return O.containerWidth===C&&O.containerHeight===M?O:{containerWidth:C,containerHeight:M}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return gc;var E=M=>{var K,{width:T,height:z}=M[0].contentRect;w(T,z),(K=v.current)===null||K===void 0||K.call(v,T,z)};d>0&&(E=nK(E,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:O,height:C}=x.current.getBoundingClientRect();return w(O,C),A.observe(x.current),()=>{A.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:_}=g;ff(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:N}=kI(j,_,{width:i,height:a,aspect:r,maxHeight:l});return ff(S!=null&&S>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,N,i,a,s,o,r),y.createElement("div",{id:f?"".concat(f):void 0,className:ue("recharts-responsive-container",h),style:TS(TS({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:x},y.createElement("div",{style:lK({width:i,height:a})},y.createElement(AI,{width:S,height:N},u)))}),ty=y.forwardRef((e,t)=>{var r=lb();if(pn(r.width)&&pn(r.height))return e.children;var{width:n,height:i}=cK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=kI(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Y(a)&&Y(s)?y.createElement(AI,{width:a,height:s},e.children):y.createElement(mK,ey({},e,{width:n,height:i,ref:t}))});function CI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var qh=()=>{var e,t=er(),r=H(eK),n=H(Wh),i=(e=H(Vh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},pK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OI=()=>{var e;return(e=H(tt))!==null&&e!==void 0?e:pK},TI=()=>H(Jn),II=()=>H(Qn),ae=e=>e.layout.layoutType,Kh=()=>H(ae),gK=()=>{var e=Kh();return e!==void 0},Hh=e=>{var t=ke(),r=er(),{width:n,height:i}=e,a=lb(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),y.useEffect(()=>{!r&&pn(s)&&pn(o)&&t(Nq({width:s,height:o}))},[t,r,s,o]),null},RI=Symbol.for("immer-nothing"),IS=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ql=Object.getPrototypeOf;function Gs(e){return!!e&&!!e[mr]}function Pa(e){var t;return e?MI(e)||Array.isArray(e)||!!e[IS]||!!((t=e.constructor)!=null&&t[IS])||wc(e)||Yh(e):!1}var yK=Object.prototype.constructor.toString(),RS=new WeakMap;function MI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=RS.get(r);return n===void 0&&(n=Function.toString.call(r),RS.set(r,n)),n===yK}function hf(e,t,r=!0){Gh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Gh(e){const t=e[mr];return t?t.type_:Array.isArray(e)?1:wc(e)?2:Yh(e)?3:0}function ry(e,t){return Gh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DI(e,t,r){const n=Gh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function vK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wc(e){return e instanceof Map}function Yh(e){return e instanceof Set}function ra(e){return e.copy_||e.base_}function ny(e,t){if(wc(e))return new Map(e);if(Yh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=MI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[mr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(ql(e),n)}else{const n=ql(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function cb(e,t=!1){return Xh(e)||Gs(e)||!Pa(e)||(Gh(e)>1&&Object.defineProperties(e,{set:ku,add:ku,clear:ku,delete:ku}),Object.freeze(e),t&&Object.values(e).forEach(r=>cb(r,!0))),e}function xK(){Kr(2)}var ku={value:xK};function Xh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var bK={};function Aa(e){const t=bK[e];return t||Kr(0,e),t}var Kl;function LI(){return Kl}function wK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MS(e,t){t&&(Aa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iy(e){ay(e),e.drafts_.forEach(_K),e.drafts_=null}function ay(e){e===Kl&&(Kl=e.parent_)}function DS(e){return Kl=wK(Kl,e)}function _K(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[mr].modified_&&(iy(t),Kr(4)),Pa(e)&&(e=mf(t,e),t.parent_||pf(t,e)),t.patches_&&Aa("Patches").generateReplacementPatches_(r[mr].base_,e,t.patches_,t.inversePatches_)):e=mf(t,r,[]),iy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RI?e:void 0}function mf(e,t,r){if(Xh(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[mr];if(!i)return hf(t,(a,s)=>$S(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return pf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),hf(s,(l,u)=>$S(e,i,a,l,u,r,o),n),pf(e,a,!1),r&&e.patches_&&Aa("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function $S(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Xh(i);if(!(o&&!s)){if(Gs(i)){const l=a&&t&&t.type_!==3&&!ry(t.assigned_,n)?a.concat(n):void 0,u=mf(e,i,l);if(DI(r,n,u),Gs(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Pa(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;mf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(wc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&pf(e,i)}}}function pf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cb(t,r)}function jK(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ub;r&&(i=[n],a=Hl);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ub={get(e,t){if(t===mr)return e;const r=ra(e);if(!ry(r,t))return SK(e,r,t);const n=r[t];return e.finalized_||!Pa(n)?n:n===Ip(e.base_,t)?(Rp(e),e.copy_[t]=oy(n,e)):n},has(e,t){return t in ra(e)},ownKeys(e){return Reflect.ownKeys(ra(e))},set(e,t,r){const n=$I(ra(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ip(ra(e),t),a=i==null?void 0:i[mr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(vK(r,i)&&(r!==void 0||ry(e.base_,t)))return!0;Rp(e),sy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ip(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rp(e),sy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return ql(e.base_)},setPrototypeOf(){Kr(12)}},Hl={};hf(ub,(e,t)=>{Hl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hl.deleteProperty=function(e,t){return Hl.set.call(this,e,t,void 0)};Hl.set=function(e,t,r){return ub.set.call(this,e[0],t,r,e[0])};function Ip(e,t){const r=e[mr];return(r?ra(r):e)[t]}function SK(e,t,r){var i;const n=$I(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function $I(e,t){if(!(t in e))return;let r=ql(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ql(r)}}function sy(e){e.modified_||(e.modified_=!0,e.parent_&&sy(e.parent_))}function Rp(e){e.copy_||(e.copy_=ny(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&Kr(6),n!==void 0&&typeof n!="function"&&Kr(7);let i;if(Pa(t)){const a=DS(this),s=oy(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?iy(a):ay(a)}return MS(a,n),LS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===RI&&(i=void 0),this.autoFreeze_&&cb(i,!0),n){const a=[],s=[];Aa("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Kr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Pa(e)||Kr(8),Gs(e)&&(e=EK(e));const t=DS(this),r=oy(e,void 0);return r[mr].isManual_=!0,ay(t),r}finishDraft(e,t){const r=e&&e[mr];(!r||!r.isManual_)&&Kr(9);const{scope_:n}=r;return MS(n,t),LS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Aa("Patches").applyPatches_;return Gs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function oy(e,t){const r=wc(e)?Aa("MapSet").proxyMap_(e,t):Yh(e)?Aa("MapSet").proxySet_(e,t):jK(e,t);return(t?t.scope_:LI()).drafts_.push(r),r}function EK(e){return Gs(e)||Kr(10,e),FI(e)}function FI(e){if(!Pa(e)||Xh(e))return e;const t=e[mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ny(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ny(e,!0);return hf(r,(i,a)=>{DI(r,i,FI(a))},n),t&&(t.finalized_=!1),r}var kK=new NK;kK.produce;var PK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BI=Zt({name:"legend",initialState:PK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_e()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Xr(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:_e()},removeLegendPayload:{reducer(e,t){var r=Xr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:_e()}}}),{setLegendSize:sle,setLegendSettings:ole,addLegendPayload:zI,replaceLegendPayload:UI,removeLegendPayload:VI}=BI.actions,AK=BI.reducer;function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IK(e){return Array.isArray(e)&&mn(e[0])&&mn(e[1])?e.join(" ~ "):e}var RK=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var _={padding:0,margin:0},S=(o?Oh(a,o):a).map((N,E)=>{if(N.type==="none")return null;var A=N.formatter||s||IK,{value:O,name:C}=N,M=O,K=C;if(A){var T=A(O,C,N,E,a);if(Array.isArray(T))[M,K]=T;else if(T!=null)M=T;else return null}var z=Mp({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:z},mn(K)?y.createElement("span",{className:"recharts-tooltip-item-name"},K):null,mn(K)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},M),y.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:_},S)}return null},p=Mp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Mp({margin:0},i),v=!ft(d),g=v?d:"",b=ue("recharts-default-tooltip",l),w=ue("recharts-tooltip-label",u);v&&f&&a!==void 0&&a!==null&&(g=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",ly({className:b,style:p},j),y.createElement("p",{className:w,style:x},y.isValidElement(g)?g:"".concat(g)),m())},Io="recharts-tooltip-wrapper",MK={visibility:"hidden"};function DK(e){var{coordinate:t,translateX:r,translateY:n}=e;return ue(Io,{["".concat(Io,"-right")]:Y(r)&&t&&Y(t.x)&&r>=t.x,["".concat(Io,"-left")]:Y(r)&&t&&Y(t.x)&&r<t.x,["".concat(Io,"-bottom")]:Y(n)&&t&&Y(t.y)&&n>=t.y,["".concat(Io,"-top")]:Y(n)&&t&&Y(t.y)&&n<t.y})}function BS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Y(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=l[n];if(h==null)return 0;if(s[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function LK(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $K(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=BS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=BS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=LK({translateX:d,translateY:f,useTranslate3d:o})):u=MK,{cssProperties:u,cssClasses:DK({translateX:d,translateY:f,coordinate:r})}}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cy(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zK extends y.PureComponent{constructor(){super(...arguments),cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=$K({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=g?{}:Pu(Pu({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=Pu(Pu({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:v},a)}}var WI=()=>{var e;return(e=H(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){UK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UK(e,t,r){return(t=VK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WS={curveBasisClosed:c9,curveBasisOpen:u9,curveBasis:l9,curveBumpX:G7,curveBumpY:Y7,curveLinearClosed:d9,curveLinear:jh,curveMonotoneX:f9,curveMonotoneY:h9,curveNatural:m9,curveStep:p9,curveStepAfter:y9,curveStepBefore:g9},gf=e=>Be(e.x)&&Be(e.y),qS=e=>e.base!=null&&gf(e.base)&&gf(e),Ro=e=>e.x,Mo=e=>e.y,qK=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(pc(e));return(r==="curveMonotone"||r==="curveBump")&&t?WS["".concat(r).concat(t==="vertical"?"Y":"X")]:WS[r]||jh},KK=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=qK(t,i),o=a?r.filter(gf):r,l;if(Array.isArray(n)){var u=r.map((m,p)=>VS(VS({},m),{},{base:n[p]}));i==="vertical"?l=bu().y(Mo).x1(Ro).x0(m=>m.base.x):l=bu().x(Ro).y1(Mo).y0(m=>m.base.y);var d=l.defined(qS).curve(s),f=a?u.filter(qS):u;return d(f)}i==="vertical"&&Y(n)?l=bu().y(Mo).x1(Ro).x0(n):Y(n)?l=bu().x(Ro).y1(Mo).y0(n):l=Q2().x(Ro).y(Mo);var h=l.defined(gf).curve(s);return h(o)},db=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?KK(e):n;return y.createElement("path",uy({},Qr(e),$9(e),{className:ue("recharts-curve",t),d:a===null?void 0:a,ref:i}))},HK=["x","y","top","left","width","height","className"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e,t){if(e==null)return{};var r,n,i=ZK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eH=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),tH=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=QK(e,HK),u=GK({x:t,y:r,top:n,left:i,width:a,height:s},l);return!Y(t)||!Y(r)||!Y(a)||!Y(s)||!Y(n)||!Y(i)?null:y.createElement("path",dy({},Cr(u),{className:ue("recharts-cross",o),d:eH(t,r,a,s,n,i)}))};function rH(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qI=(e,t,r)=>e.map(n=>"".concat(sH(n)," ").concat(t,"ms ").concat(r)).join(","),oH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Gl=(e,t)=>Object.keys(t).reduce((r,n)=>GS(GS({},r),{},{[n]:e(n,t[n])}),{});function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){lH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lH(e,t,r){return(t=cH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=uH(e,"string");return typeof t=="symbol"?t:t+""}function uH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf=(e,t,r)=>e+(t-e)*r,fy=e=>{var{from:t,to:r}=e;return t!==r},KI=(e,t,r)=>{var n=Gl((i,a)=>{if(fy(a)){var[s,o]=e(a.from,a.to,a.velocity);return Ze(Ze({},a),{},{from:s,velocity:o})}return a},t);return r<1?Gl((i,a)=>fy(a)?Ze(Ze({},a),{},{velocity:yf(a.velocity,n[i].velocity,r),from:yf(a.from,n[i].from,r)}):a,t):KI(e,n,r-1)};function dH(e,t,r,n,i,a){var s,o=n.reduce((h,m)=>Ze(Ze({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Gl((h,m)=>m.from,o),u=()=>!Object.values(o).filter(fy).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;o=KI(r,o,p),i(Ze(Ze(Ze({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function fH(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,h)=>Ze(Ze({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Gl((x,v)=>yf(...v,r(h)),l);if(a(Ze(Ze(Ze({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Gl((x,v)=>yf(...v,r(1)),l);a(Ze(Ze(Ze({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const hH=(e,t,r,n,i,a)=>{var s=oH(e,t);return r==null?()=>(i(Ze(Ze({},e),t)),()=>{}):r.isStepper===!0?dH(e,t,r,s,i,a):fH(e,t,r,n,s,i,a)};var vf=1e-4,HI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),XS=(e,t)=>r=>{var n=HI(e,t);return GI(n,r)},mH=(e,t)=>r=>{var n=HI(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return GI(i,r)},pH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},gH=(e,t,r,n)=>{var i=XS(e,r),a=XS(t,n),s=mH(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<vf||p<vf)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},JS=function(){return gH(...pH(...arguments))},yH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,d=l*n,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<vf&&Math.abs(f)<vf?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},vH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JS(e);case"spring":return yH();default:if(e.split("(")[0]==="cubic-bezier")return JS(e)}return typeof e=="function"?e:null};function xH(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class bH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function wH(){return xH(new bH)}var _H=y.createContext(wH);function jH(e,t){var r=y.useContext(_H);return y.useMemo(()=>t??r(e),[e,t,r])}var SH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_c={devToolsEnabled:!1,isSsr:SH()},NH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},QS={t:0},Dp={t:1};function Jh(e){var t=Ot(e,NH),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=r==="auto"?!_c.isSsr:r,f=jH(t.animationId,t.animationManager),[h,m]=y.useState(d?QS:Dp),p=y.useRef(null);return y.useEffect(()=>{d||m(Dp)},[d]),y.useEffect(()=>{if(!d||!n)return gc;var x=hH(QS,Dp,vH(a),i,m,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([l,s,v,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,n,i,a,s,l,o,f]),u(h.t)}function Qh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(zl(t)),n=y.useRef(e);return n.current!==e&&(r.current=zl(t),n.current=e),r.current}var EH=["radius"],kH=["radius"];function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(null,arguments)}function tN(e,t){if(e==null)return{};var r,n,i=OH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rN=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},nN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YI=e=>{var t=Ot(e,nN),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=y.useRef(o),g=y.useRef(l),b=y.useRef(a),w=y.useRef(s),j=y.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),_=Qh(j,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=ue("recharts-rectangle",d);if(!x){var N=Cr(t),{radius:E}=N,A=tN(N,EH);return y.createElement("path",xf({},A,{radius:typeof u=="number"?u:void 0,className:S,d:rN(a,s,o,l,u)}))}var O=v.current,C=g.current,M=b.current,K=w.current,T="0px ".concat(n===-1?1:n,"px"),z="".concat(n,"px 0px"),D=qI(["strokeDasharray"],h,typeof f=="string"?f:nN.animationEasing);return y.createElement(Jh,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},R=>{var P=Qe(O,o,R),I=Qe(C,l,R),L=Qe(M,a,R),Q=Qe(K,s,R);r.current&&(v.current=P,g.current=I,b.current=L,w.current=Q);var se;p?R>0?se={transition:D,strokeDasharray:z}:se={strokeDasharray:T}:se={strokeDasharray:z};var zt=Cr(t),{radius:ze}=zt,Mr=tN(zt,kH);return y.createElement("path",xf({},Mr,{radius:typeof u=="number"?u:void 0,className:S,d:rN(L,Q,P,I,u),ref:r,style:eN(eN({},se),t.style)}))})};function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bf=Math.PI/180,MH=e=>e*180/Math.PI,He=(e,t,r,n)=>({x:e+Math.cos(-bf*n)*r,y:t+Math.sin(-bf*n)*r}),XI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},DH=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},LH=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=DH({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:MH(l),angleInRadian:l}},$H=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},FH=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},BH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=LH({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=$H(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?aN(aN({},t),{},{radius:i,angle:FH(d,t)}):null};function JI(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=He(t,r,n,i),o=He(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}var zH=(e,t)=>{var r=ut(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Au=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/bf,f=l?i:i+a*d,h=He(t,r,u,f),m=He(t,r,n,f),p=l?i-a*d:i,x=He(t,r,u*Math.cos(d*bf),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},QI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=zH(a,s),l=a+o,u=He(t,r,i,a),d=He(t,r,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=He(t,r,n,a),m=He(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},UH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=ut(u-l),{circleTangency:f,lineTangency:h,theta:m}=Au({cx:t,cy:r,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:x,theta:v}=Au({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),g=o?Math.abs(l-u):Math.abs(l-u)-m-v;if(g<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):QI({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:_}=Au({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:N,theta:E}=Au({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(l-u):Math.abs(l-u)-_-E;if(A<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},VH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZI=e=>{var t=Ot(e,VH),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=ue("recharts-sector",f),m=a-i,p=At(s,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=UH({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):x=QI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),y.createElement("path",hy({},Cr(t),{className:h,d:x}))};function WH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(mT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=He(n,i,a,o),u=He(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return JI(t)}}var eR={},tR={},rR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qx,r=tR;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(eR);var qH=eR.range;const nR=yn(qH);function ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fb(e){let t,r,n;e.length!==2?(t=ki,r=(o,l)=>ki(e(o),l),n=(o,l)=>e(o)-l):(t=e===ki||e===KH?e:HH,r=e,n=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function HH(){return 0}function iR(e){return e===null?NaN:+e}function*GH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YH=fb(ki),jc=YH.right;fb(iR).center;class sN extends Map{constructor(t,r=QH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(oN(this,t))}has(t){return super.has(oN(this,t))}set(t,r){return super.set(XH(this,t),r)}delete(t){return super.delete(JH(this,t))}}function oN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZH(e=ki){if(e===ki)return aR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eG=Math.sqrt(50),tG=Math.sqrt(10),rG=Math.sqrt(2);function wf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=eG?10:a>=tG?5:a>=rG?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?wf(e,t,r*2):[o,l,u]}function my(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?wf(t,e,r):wf(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function py(e,t,r){return t=+t,e=+e,r=+r,wf(e,t,r)[2]}function gy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?py(t,e,r):py(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function lN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sR(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?aR:ZH(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+h)),p=Math.min(n,Math.floor(t+(l-u)*f/l+h));sR(e,t,m,p,i)}const a=e[t];let s=r,o=n;for(Do(e,r,t),i(e[n],a)>0&&Do(e,r,n);s<o;){for(Do(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Do(e,r,o):(++o,Do(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Do(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nG(e,t,r){if(e=Float64Array.from(GH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return cN(e);if(t>=1)return lN(e);var n,i=(n-1)*t,a=Math.floor(i),s=lN(sR(e,a).subarray(0,a+1)),o=cN(e.subarray(a+1));return s+(o-s)*(i-a)}}function iG(e,t,r=iR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function aG(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yy=Symbol("implicit");function hb(){var e=new sN,t=[],r=[],n=yy;function i(a){let s=e.get(a);if(s===void 0){if(n!==yy)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new sN;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hb(t,r).unknown(n)},Ir.apply(i,arguments),i}function mb(){var e=hb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,x=m?n:i;a=(x-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(x-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=aG(h).map(function(g){return p+a*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mb(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Ir.apply(f(),arguments)}function oR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oR(t())},e}function sG(){return oR(mb.apply(null,arguments).paddingInner(1))}function pb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sc(){}var Yl=.7,_f=1/Yl,Cs="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oG=/^#([0-9a-f]{3,8})$/,lG=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),cG=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),uG=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${Xl}\\)$`),dG=new RegExp(`^rgba\\(${hn},${hn},${hn},${Xl}\\)$`),fG=new RegExp(`^hsl\\(${Xl},${hn},${hn}\\)$`),hG=new RegExp(`^hsla\\(${Xl},${hn},${hn},${Xl}\\)$`),uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pb(Sc,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dN,formatHex:dN,formatHex8:mG,formatHsl:pG,formatRgb:fN,toString:fN});function dN(){return this.rgb().formatHex()}function mG(){return this.rgb().formatHex8()}function pG(){return cR(this).formatHsl()}function fN(){return this.rgb().formatRgb()}function Jl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hN(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Cu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Cu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lG.exec(e))?new Yt(t[1],t[2],t[3],1):(t=cG.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uG.exec(e))?Cu(t[1],t[2],t[3],t[4]):(t=dG.exec(e))?Cu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fG.exec(e))?gN(t[1],t[2]/100,t[3]/100,1):(t=hG.exec(e))?gN(t[1],t[2]/100,t[3]/100,t[4]):uN.hasOwnProperty(e)?hN(uN[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function hN(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function Cu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function gG(e){return e instanceof Sc||(e=Jl(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function vy(e,t,r,n){return arguments.length===1?gG(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pb(Yt,vy,lR(Sc,{brighter(e){return e=e==null?_f:Math.pow(_f,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(ba(this.r),ba(this.g),ba(this.b),jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mN,formatHex:mN,formatHex8:yG,formatRgb:pN,toString:pN}));function mN(){return`#${fa(this.r)}${fa(this.g)}${fa(this.b)}`}function yG(){return`#${fa(this.r)}${fa(this.g)}${fa(this.b)}${fa((isNaN(this.opacity)?1:this.opacity)*255)}`}function pN(){const e=jf(this.opacity);return`${e===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${e===1?")":`, ${e})`}`}function jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fa(e){return e=ba(e),(e<16?"0":"")+e.toString(16)}function gN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,r,n)}function cR(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof Sc||(e=Jl(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Hr(s,o,l,e.opacity)}function vG(e,t,r,n){return arguments.length===1?cR(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pb(Hr,vG,lR(Sc,{brighter(e){return e=e==null?_f:Math.pow(_f,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yt(Lp(e>=240?e-240:e+120,i,n),Lp(e,i,n),Lp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Hr(yN(this.h),Ou(this.s),Ou(this.l),jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jf(this.opacity);return`${e===1?"hsl(":"hsla("}${yN(this.h)}, ${Ou(this.s)*100}%, ${Ou(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yN(e){return e=(e||0)%360,e<0?e+360:e}function Ou(e){return Math.max(0,Math.min(1,e||0))}function Lp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gb=e=>()=>e;function xG(e,t){return function(r){return e+r*t}}function bG(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wG(e){return(e=+e)==1?uR:function(t,r){return r-t?bG(t,r,e):gb(isNaN(t)?r:t)}}function uR(e,t){var r=t-e;return r?xG(e,r):gb(isNaN(e)?t:e)}const vN=function e(t){var r=wG(t);function n(i,a){var s=r((i=vy(i)).r,(a=vy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=uR(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function _G(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function jG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SG(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=mo(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function NG(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EG(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=mo(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var xy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$p=new RegExp(xy.source,"g");function kG(e){return function(){return e}}function PG(e){return function(t){return e(t)+""}}function AG(e,t){var r=xy.lastIndex=$p.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=xy.exec(e))&&(i=$p.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Sf(n,i)})),r=$p.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?PG(l[0].x):kG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function mo(e,t){var r=typeof t,n;return t==null||r==="boolean"?gb(t):(r==="number"?Sf:r==="string"?(n=Jl(t))?(t=n,vN):AG:t instanceof Jl?vN:t instanceof Date?NG:jG(t)?_G:Array.isArray(t)?SG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EG:Sf)(e,t)}function yb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function CG(e,t){t===void 0&&(t=e,e=mo);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function OG(e){return function(){return e}}function Nf(e){return+e}var xN=[0,1];function Mt(e){return e}function by(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:OG(isNaN(t)?NaN:.5)}function TG(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function IG(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=by(i,n),a=r(s,a)):(n=by(n,i),a=r(a,s)),function(o){return a(n(o))}}function RG(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=by(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=jc(e,o,1,n)-1;return a[l](i[l](o))}}function Nc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zh(){var e=xN,t=xN,r=mo,n,i,a,s=Mt,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==Mt&&(s=TG(e[0],e[h-1])),o=h>2?RG:IG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),Sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Nf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=yb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Mt,d()):s!==Mt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function vb(){return Zh()(Mt,Mt)}function MG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ef(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ys(e){return e=Ef(Math.abs(e)),e?e[1]:NaN}function DG(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function LG(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $G=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(e){if(!(t=$G.exec(e)))throw new Error("invalid format: "+e);var t;return new xb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ql.prototype=xb.prototype;function xb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FG(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var dR;function BG(e,t){var r=Ef(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(dR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ef(e,Math.max(0,t+a-1))[0]}function bN(e,t){var r=Ef(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const wN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bN(e*100,t),r:bN,s:BG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _N(e){return e}var jN=Array.prototype.map,SN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zG(e){var t=e.grouping===void 0||e.thousands===void 0?_N:DG(jN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_N:LG(jN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ql(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,v=f.zero,g=f.width,b=f.comma,w=f.precision,j=f.trim,_=f.type;_==="n"?(b=!0,_="g"):wN[_]||(w===void 0&&(w=12),j=!0,_="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=x==="$"?n:/[%p]/.test(_)?s:"",E=wN[_],A=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(C){var M=S,K=N,T,z,D;if(_==="c")K=E(C)+K,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?l:E(Math.abs(C),w),j&&(C=FG(C)),R&&+C==0&&p!=="+"&&(R=!1),M=(R?p==="("?p:o:p==="-"||p==="("?"":p)+M,K=(_==="s"?SN[8+dR/3]:"")+K+(R&&p==="("?")":""),A){for(T=-1,z=C.length;++T<z;)if(D=C.charCodeAt(T),48>D||D>57){K=(D===46?i+C.slice(T+1):C.slice(T))+K,C=C.slice(0,T);break}}}b&&!v&&(C=t(C,1/0));var P=M.length+C.length+K.length,I=P<g?new Array(g-P+1).join(h):"";switch(b&&v&&(C=t(I+C,I.length?g-K.length:1/0),I=""),m){case"<":C=M+C+K+I;break;case"=":C=M+I+C+K;break;case"^":C=I.slice(0,P=I.length>>1)+M+C+K+I.slice(P);break;default:C=I+M+C+K;break}return a(C)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=Ql(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ys(h)/3)))*3,x=Math.pow(10,-p),v=SN[8+p/3];return function(g){return m(x*g)+v}}return{format:u,formatPrefix:d}}var Tu,bb,fR;UG({thousands:",",grouping:[3],currency:["$",""]});function UG(e){return Tu=zG(e),bb=Tu.format,fR=Tu.formatPrefix,Tu}function VG(e){return Math.max(0,-Ys(Math.abs(e)))}function WG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ys(t)/3)))*3-Ys(Math.abs(e)))}function qG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ys(t)-Ys(e))+1}function hR(e,t,r,n){var i=gy(e,t,r),a;switch(n=Ql(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=WG(i,s))&&(n.precision=a),fR(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=qG(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=VG(i))&&(n.precision=a-(n.type==="%")*2);break}}return bb(n)}function Ui(e){var t=e.domain;return e.ticks=function(r){var n=t();return my(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return hR(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=py(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function mR(){var e=vb();return e.copy=function(){return Nc(e,mR())},Ir.apply(e,arguments),Ui(e)}function pR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pR(e).unknown(t)},e=arguments.length?Array.from(e,Nf):[0,1],Ui(r)}function gR(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function NN(e){return Math.log(e)}function EN(e){return Math.exp(e)}function KG(e){return-Math.log(-e)}function HG(e){return-Math.exp(-e)}function GG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YG(e){return e===10?GG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kN(e){return(t,r)=>-e(-t,r)}function wb(e){const t=e(NN,EN),r=t.domain;let n=10,i,a;function s(){return i=XG(n),a=YG(n),r()[0]<0?(i=kN(i),a=kN(a),e(KG,HG)):e(NN,EN),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,x;const v=o==null?10:+o;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<v&&(g=my(u,d,v))}else g=my(h,m,Math.min(m-h,v)).map(a);return f?g.reverse():g},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ql(l)).precision==null&&(l.trim=!0),l=bb(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(gR(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function yR(){const e=wb(Zh()).domain([1,10]);return e.copy=()=>Nc(e,yR()).base(e.base()),Ir.apply(e,arguments),e}function PN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _b(e){var t=1,r=e(PN(t),AN(t));return r.constant=function(n){return arguments.length?e(PN(t=+n),AN(t)):t},Ui(r)}function vR(){var e=_b(Zh());return e.copy=function(){return Nc(e,vR()).constant(e.constant())},Ir.apply(e,arguments)}function CN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QG(e){return e<0?-e*e:e*e}function jb(e){var t=e(Mt,Mt),r=1;function n(){return r===1?e(Mt,Mt):r===.5?e(JG,QG):e(CN(r),CN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ui(t)}function Sb(){var e=jb(Zh());return e.copy=function(){return Nc(e,Sb()).exponent(e.exponent())},Ir.apply(e,arguments),e}function ZG(){return Sb.apply(null,arguments).exponent(.5)}function ON(e){return Math.sign(e)*e*e}function eY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xR(){var e=vb(),t=[0,1],r=!1,n;function i(a){var s=eY(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(ON(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Nf)).map(ON)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return xR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ir.apply(i,arguments),Ui(i)}function bR(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=iG(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[jc(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ki),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return bR().domain(e).range(t).unknown(n)},Ir.apply(a,arguments)}function wR(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[jc(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return wR().domain([e,t]).range(i).unknown(a)},Ir.apply(Ui(s),arguments)}function _R(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[jc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _R().domain(e).range(t).unknown(r)},Ir.apply(i,arguments)}const Fp=new Date,Bp=new Date;function rt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>rt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Fp.setTime(+a),Bp.setTime(+s),e(Fp),e(Bp),Math.floor(r(Fp,Bp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kf=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kf);kf.range;const En=1e3,Nr=En*60,kn=Nr*60,zn=kn*24,Nb=zn*7,TN=zn*30,zp=zn*365,ha=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCSeconds());ha.range;const Eb=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*En)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());Eb.range;const kb=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());kb.range;const Pb=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*En-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());Pb.range;const Ab=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());Ab.range;const Ec=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/zn,e=>e.getDate()-1);Ec.range;const em=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>e.getUTCDate()-1);em.range;const jR=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zn,e=>Math.floor(e/zn));jR.range;function $a(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Nb)}const tm=$a(0),Pf=$a(1),tY=$a(2),rY=$a(3),Xs=$a(4),nY=$a(5),iY=$a(6);tm.range;Pf.range;tY.range;rY.range;Xs.range;nY.range;iY.range;function Fa(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nb)}const rm=Fa(0),Af=Fa(1),aY=Fa(2),sY=Fa(3),Js=Fa(4),oY=Fa(5),lY=Fa(6);rm.range;Af.range;aY.range;sY.range;Js.range;oY.range;lY.range;const Cb=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cb.range;const Ob=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ob.range;const Un=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Un.range;const Vn=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function SR(e,t,r,n,i,a){const s=[[ha,1,En],[ha,5,5*En],[ha,15,15*En],[ha,30,30*En],[a,1,Nr],[a,5,5*Nr],[a,15,15*Nr],[a,30,30*Nr],[i,1,kn],[i,3,3*kn],[i,6,6*kn],[i,12,12*kn],[n,1,zn],[n,2,2*zn],[r,1,Nb],[t,1,TN],[t,3,3*TN],[e,1,zp]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=fb(([,,v])=>v).right(s,h);if(m===s.length)return e.every(gy(u/zp,d/zp,f));if(m===0)return kf.every(Math.max(gy(u,d,f),1));const[p,x]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(x)}return[o,l]}const[cY,uY]=SR(Vn,Ob,rm,jR,Ab,kb),[dY,fY]=SR(Un,Cb,tm,Ec,Pb,Eb);function Up(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hY(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=$o(i),d=Fo(i),f=$o(a),h=Fo(a),m=$o(s),p=Fo(s),x=$o(o),v=Fo(o),g=$o(l),b=Fo(l),w={a:R,A:P,b:I,B:L,c:null,d:$N,e:$N,f:DY,g:KY,G:GY,H:IY,I:RY,j:MY,L:NR,m:LY,M:$Y,p:Q,q:se,Q:zN,s:UN,S:FY,u:BY,U:zY,V:UY,w:VY,W:WY,x:null,X:null,y:qY,Y:HY,Z:YY,"%":BN},j={a:zt,A:ze,b:Mr,B:tr,c:null,d:FN,e:FN,f:ZY,g:cX,G:dX,H:XY,I:JY,j:QY,L:kR,m:eX,M:tX,p:Ye,q:Pm,Q:zN,s:UN,S:rX,u:nX,U:iX,V:aX,w:sX,W:oX,x:null,X:null,y:lX,Y:uX,Z:fX,"%":BN},_={a:O,A:C,b:M,B:K,c:T,d:DN,e:DN,f:AY,g:MN,G:RN,H:LN,I:LN,j:NY,L:PY,m:SY,M:EY,p:A,q:jY,Q:OY,s:TY,S:kY,u:vY,U:xY,V:bY,w:yY,W:wY,x:z,X:D,y:MN,Y:RN,Z:_Y,"%":CY};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S($,te){return function(ne){var B=[],Ut=-1,he=0,rr=$.length,nr,qi,Ww;for(ne instanceof Date||(ne=new Date(+ne));++Ut<rr;)$.charCodeAt(Ut)===37&&(B.push($.slice(he,Ut)),(qi=IN[nr=$.charAt(++Ut)])!=null?nr=$.charAt(++Ut):qi=nr==="e"?" ":"0",(Ww=te[nr])&&(nr=Ww(ne,qi)),B.push(nr),he=Ut+1);return B.push($.slice(he,Ut)),B.join("")}}function N($,te){return function(ne){var B=Lo(1900,void 0,1),Ut=E(B,$,ne+="",0),he,rr;if(Ut!=ne.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(te&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(he=Vp(Lo(B.y,0,1)),rr=he.getUTCDay(),he=rr>4||rr===0?Af.ceil(he):Af(he),he=em.offset(he,(B.V-1)*7),B.y=he.getUTCFullYear(),B.m=he.getUTCMonth(),B.d=he.getUTCDate()+(B.w+6)%7):(he=Up(Lo(B.y,0,1)),rr=he.getDay(),he=rr>4||rr===0?Pf.ceil(he):Pf(he),he=Ec.offset(he,(B.V-1)*7),B.y=he.getFullYear(),B.m=he.getMonth(),B.d=he.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),rr="Z"in B?Vp(Lo(B.y,0,1)).getUTCDay():Up(Lo(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(rr+5)%7:B.w+B.U*7-(rr+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Vp(B)):Up(B)}}function E($,te,ne,B){for(var Ut=0,he=te.length,rr=ne.length,nr,qi;Ut<he;){if(B>=rr)return-1;if(nr=te.charCodeAt(Ut++),nr===37){if(nr=te.charAt(Ut++),qi=_[nr in IN?te.charAt(Ut++):nr],!qi||(B=qi($,ne,B))<0)return-1}else if(nr!=ne.charCodeAt(B++))return-1}return B}function A($,te,ne){var B=u.exec(te.slice(ne));return B?($.p=d.get(B[0].toLowerCase()),ne+B[0].length):-1}function O($,te,ne){var B=m.exec(te.slice(ne));return B?($.w=p.get(B[0].toLowerCase()),ne+B[0].length):-1}function C($,te,ne){var B=f.exec(te.slice(ne));return B?($.w=h.get(B[0].toLowerCase()),ne+B[0].length):-1}function M($,te,ne){var B=g.exec(te.slice(ne));return B?($.m=b.get(B[0].toLowerCase()),ne+B[0].length):-1}function K($,te,ne){var B=x.exec(te.slice(ne));return B?($.m=v.get(B[0].toLowerCase()),ne+B[0].length):-1}function T($,te,ne){return E($,t,te,ne)}function z($,te,ne){return E($,r,te,ne)}function D($,te,ne){return E($,n,te,ne)}function R($){return s[$.getDay()]}function P($){return a[$.getDay()]}function I($){return l[$.getMonth()]}function L($){return o[$.getMonth()]}function Q($){return i[+($.getHours()>=12)]}function se($){return 1+~~($.getMonth()/3)}function zt($){return s[$.getUTCDay()]}function ze($){return a[$.getUTCDay()]}function Mr($){return l[$.getUTCMonth()]}function tr($){return o[$.getUTCMonth()]}function Ye($){return i[+($.getUTCHours()>=12)]}function Pm($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var te=S($+="",w);return te.toString=function(){return $},te},parse:function($){var te=N($+="",!1);return te.toString=function(){return $},te},utcFormat:function($){var te=S($+="",j);return te.toString=function(){return $},te},utcParse:function($){var te=N($+="",!0);return te.toString=function(){return $},te}}}var IN={"-":"",_:" ",0:"0"},ht=/^\s*\d+/,mY=/^%/,pY=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function gY(e){return e.replace(pY,"\\$&")}function $o(e){return new RegExp("^(?:"+e.map(gY).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yY(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vY(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function RN(e,t,r){var n=ht.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function MN(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _Y(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jY(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function SY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function DN(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NY(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LN(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kY(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function PY(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function AY(e,t,r){var n=ht.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CY(e,t,r){var n=mY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function OY(e,t,r){var n=ht.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function TY(e,t,r){var n=ht.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $N(e,t){return ie(e.getDate(),t,2)}function IY(e,t){return ie(e.getHours(),t,2)}function RY(e,t){return ie(e.getHours()%12||12,t,2)}function MY(e,t){return ie(1+Ec.count(Un(e),e),t,3)}function NR(e,t){return ie(e.getMilliseconds(),t,3)}function DY(e,t){return NR(e,t)+"000"}function LY(e,t){return ie(e.getMonth()+1,t,2)}function $Y(e,t){return ie(e.getMinutes(),t,2)}function FY(e,t){return ie(e.getSeconds(),t,2)}function BY(e){var t=e.getDay();return t===0?7:t}function zY(e,t){return ie(tm.count(Un(e)-1,e),t,2)}function ER(e){var t=e.getDay();return t>=4||t===0?Xs(e):Xs.ceil(e)}function UY(e,t){return e=ER(e),ie(Xs.count(Un(e),e)+(Un(e).getDay()===4),t,2)}function VY(e){return e.getDay()}function WY(e,t){return ie(Pf.count(Un(e)-1,e),t,2)}function qY(e,t){return ie(e.getFullYear()%100,t,2)}function KY(e,t){return e=ER(e),ie(e.getFullYear()%100,t,2)}function HY(e,t){return ie(e.getFullYear()%1e4,t,4)}function GY(e,t){var r=e.getDay();return e=r>=4||r===0?Xs(e):Xs.ceil(e),ie(e.getFullYear()%1e4,t,4)}function YY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function FN(e,t){return ie(e.getUTCDate(),t,2)}function XY(e,t){return ie(e.getUTCHours(),t,2)}function JY(e,t){return ie(e.getUTCHours()%12||12,t,2)}function QY(e,t){return ie(1+em.count(Vn(e),e),t,3)}function kR(e,t){return ie(e.getUTCMilliseconds(),t,3)}function ZY(e,t){return kR(e,t)+"000"}function eX(e,t){return ie(e.getUTCMonth()+1,t,2)}function tX(e,t){return ie(e.getUTCMinutes(),t,2)}function rX(e,t){return ie(e.getUTCSeconds(),t,2)}function nX(e){var t=e.getUTCDay();return t===0?7:t}function iX(e,t){return ie(rm.count(Vn(e)-1,e),t,2)}function PR(e){var t=e.getUTCDay();return t>=4||t===0?Js(e):Js.ceil(e)}function aX(e,t){return e=PR(e),ie(Js.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function sX(e){return e.getUTCDay()}function oX(e,t){return ie(Af.count(Vn(e)-1,e),t,2)}function lX(e,t){return ie(e.getUTCFullYear()%100,t,2)}function cX(e,t){return e=PR(e),ie(e.getUTCFullYear()%100,t,2)}function uX(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function dX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Js(e):Js.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function fX(){return"+0000"}function BN(){return"%"}function zN(e){return+e}function UN(e){return Math.floor(+e/1e3)}var Ya,AR,CR;hX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hX(e){return Ya=hY(e),AR=Ya.format,Ya.parse,CR=Ya.utcFormat,Ya.utcParse,Ya}function mX(e){return new Date(e)}function pX(e){return e instanceof Date?+e:+new Date(+e)}function Tb(e,t,r,n,i,a,s,o,l,u){var d=vb(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function _(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?x:a(S)<S?v:n(S)<S?i(S)<S?g:b:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,pX)):h().map(mX)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?_:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(gR(N,S)):d},d.copy=function(){return Nc(d,Tb(e,t,r,n,i,a,s,o,l,u))},d}function gX(){return Ir.apply(Tb(dY,fY,Un,Cb,tm,Ec,Pb,Eb,ha,AR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yX(){return Ir.apply(Tb(cY,uY,Vn,Ob,rm,em,Ab,kb,ha,CR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nm(){var e=0,t=1,r,n,i,a,s=Mt,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(mo),u.rangeRound=d(yb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Vi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OR(){var e=Ui(nm()(Mt));return e.copy=function(){return Vi(e,OR())},Zn.apply(e,arguments)}function TR(){var e=wb(nm()).domain([1,10]);return e.copy=function(){return Vi(e,TR()).base(e.base())},Zn.apply(e,arguments)}function IR(){var e=_b(nm());return e.copy=function(){return Vi(e,IR()).constant(e.constant())},Zn.apply(e,arguments)}function Ib(){var e=jb(nm());return e.copy=function(){return Vi(e,Ib()).exponent(e.exponent())},Zn.apply(e,arguments)}function vX(){return Ib.apply(null,arguments).exponent(.5)}function RR(){var e=[],t=Mt;function r(n){if(n!=null&&!isNaN(n=+n))return t((jc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>nG(e,a/n))},r.copy=function(){return RR(t).domain(e)},Zn.apply(r,arguments)}function im(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=Mt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-a)*(n*x<n*a?o:l),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var g,b,w;return arguments.length?([g,b,w]=v,u=CG(x,[g,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(mo),m.rangeRound=p(yb),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),a=x(t),s=x(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function MR(){var e=Ui(im()(Mt));return e.copy=function(){return Vi(e,MR())},Zn.apply(e,arguments)}function DR(){var e=wb(im()).domain([.1,1,10]);return e.copy=function(){return Vi(e,DR()).base(e.base())},Zn.apply(e,arguments)}function LR(){var e=_b(im());return e.copy=function(){return Vi(e,LR()).constant(e.constant())},Zn.apply(e,arguments)}function Rb(){var e=jb(im());return e.copy=function(){return Vi(e,Rb()).exponent(e.exponent())},Zn.apply(e,arguments)}function xX(){return Rb.apply(null,arguments).exponent(.5)}const Yo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mb,scaleDiverging:MR,scaleDivergingLog:DR,scaleDivergingPow:Rb,scaleDivergingSqrt:xX,scaleDivergingSymlog:LR,scaleIdentity:pR,scaleImplicit:yy,scaleLinear:mR,scaleLog:yR,scaleOrdinal:hb,scalePoint:sG,scalePow:Sb,scaleQuantile:bR,scaleQuantize:wR,scaleRadial:xR,scaleSequential:OR,scaleSequentialLog:TR,scaleSequentialPow:Ib,scaleSequentialQuantile:RR,scaleSequentialSqrt:vX,scaleSequentialSymlog:IR,scaleSqrt:ZG,scaleSymlog:vR,scaleThreshold:_R,scaleTime:gX,scaleUtc:yX,tickFormat:hR},Symbol.toStringTag,{value:"Module"}));var Wi=e=>e.chartData,Mb=k([Wi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Db=(e,t,r,n)=>n?Mb(e):Wi(e);function Ii(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Be(t)&&Be(r))return!0}return!1}function VN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $R(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Be(r))i=r;else if(typeof r=="function")return;if(Be(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Ii(s))return s}}function bX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ii(n))return VN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Y(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&kS.test(i)){var l=kS.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Y(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&PS.test(a)){var d=PS.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Ii(h))return t==null?h:VN(h,t,r)}}}var po=1e9,wX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$b,Ee=!0,Tr="[DecimalError] ",wa=Tr+"Invalid argument: ",Lb=Tr+"Exponent out of range: ",go=Math.floor,na=Math.pow,_X=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,lt=1e7,xe=7,FR=9007199254740991,Cf=go(FR/xe),W={};W.absoluteValue=W.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};W.comparedTo=W.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};W.decimalPlaces=W.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};W.dividedBy=W.div=function(e){return On(this,new this.constructor(e))};W.dividedToIntegerBy=W.idiv=function(e){var t=this,r=t.constructor;return de(On(t,new r(e),0,1),r.precision)};W.equals=W.eq=function(e){return!this.cmp(e)};W.exponent=function(){return Ge(this)};W.greaterThan=W.gt=function(e){return this.cmp(e)>0};W.greaterThanOrEqualTo=W.gte=function(e){return this.cmp(e)>=0};W.isInteger=W.isint=function(){return this.e>this.d.length-2};W.isNegative=W.isneg=function(){return this.s<0};W.isPositive=W.ispos=function(){return this.s>0};W.isZero=function(){return this.s===0};W.lessThan=W.lt=function(e){return this.cmp(e)<0};W.lessThanOrEqualTo=W.lte=function(e){return this.cmp(e)<1};W.logarithm=W.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ee=!1,t=On(Zl(r,a),Zl(e,a),a),Ee=!0,de(t,i))};W.minus=W.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UR(t,e):BR(t,(e.s=-e.s,e))};W.modulo=W.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?(Ee=!1,t=On(r,e,0,1).times(e),Ee=!0,r.minus(t)):de(new n(r),i)};W.naturalExponential=W.exp=function(){return zR(this)};W.naturalLogarithm=W.ln=function(){return Zl(this)};W.negated=W.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};W.plus=W.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BR(t,e):UR(t,(e.s=-e.s,e))};W.precision=W.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wa+e);if(t=Ge(i)+1,n=i.d.length-1,r=n*xe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};W.squareRoot=W.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Tr+"NaN")}for(e=Ge(o),Ee=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ln(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=go((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(On(o,a,s+2)).times(.5),ln(a.d).slice(0,s)===(t=ln(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(de(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Ee=!0,de(n,r)};W.times=W.mul=function(e){var t,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*h[i-n-1]+t,a[i--]=o%lt|0,t=o/lt|0;a[i]=(a[i]+t)%lt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ee?de(e,f.precision):e};W.toDecimalPlaces=W.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gn(e,0,po),t===void 0?t=n.rounding:gn(t,0,8),de(r,e+Ge(r)+1,t))};W.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ca(n,!0):(gn(e,0,po),t===void 0?t=i.rounding:gn(t,0,8),n=de(new i(n),e+1,t),r=Ca(n,!0,e+1)),r};W.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ca(i):(gn(e,0,po),t===void 0?t=a.rounding:gn(t,0,8),n=de(new a(i),e+Ge(i)+1,t),r=Ca(n.abs(),!1,e+Ge(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};W.toInteger=W.toint=function(){var e=this,t=e.constructor;return de(new t(e),Ge(e)+1,t.rounding)};W.toNumber=function(){return+this};W.toPower=W.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(lr);if(o=new l(o),!o.s){if(e.s<1)throw Error(Tr+"Infinity");return o}if(o.eq(lr))return o;if(n=l.precision,e.eq(lr))return de(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=FR){for(i=new l(lr),t=Math.ceil(n/xe+4),Ee=!1;r%2&&(i=i.times(o),qN(i.d,t)),r=go(r/2),r!==0;)o=o.times(o),qN(o.d,t);return Ee=!0,e.s<0?new l(lr).div(i):de(i,n)}}else if(a<0)throw Error(Tr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ee=!1,i=e.times(Zl(o,n+u)),Ee=!0,i=zR(i),i.s=a,i};W.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ge(i),n=Ca(i,r<=a.toExpNeg||r>=a.toExpPos)):(gn(e,1,po),t===void 0?t=a.rounding:gn(t,0,8),i=de(new a(i),e,t),r=Ge(i),n=Ca(i,e<=r||r<=a.toExpNeg,e)),n};W.toSignificantDigits=W.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gn(e,1,po),t===void 0?t=n.rounding:gn(t,0,8)),de(new n(r),e,t)};W.toString=W.valueOf=W.val=W.toJSON=W[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ge(e),r=e.constructor;return Ca(e,t<=r.toExpNeg||t>=r.toExpPos)};function BR(e,t){var r,n,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ee?de(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/xe),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/lt|0,l[a]%=lt;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Ee?de(t,f):t}function gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wa+e)}function ln(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=xe-n.length,r&&(a+=oi(r)),a+=n;s=e[t],n=s+"",r=xe-n.length,r&&(a+=oi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var On=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%lt|0,s=a/lt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*lt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,m,p,x,v,g,b,w,j,_,S,N,E,A=n.constructor,O=n.s==i.s?1:-1,C=n.d,M=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Tr+"Division by zero");for(l=n.e-i.e,N=M.length,_=C.length,m=new A(O),p=m.d=[],u=0;M[u]==(C[u]||0);)++u;if(M[u]>(C[u]||0)&&--l,a==null?b=a=A.precision:s?b=a+(Ge(n)-Ge(i))+1:b=a,b<0)return new A(0);if(b=b/xe+2|0,u=0,N==1)for(d=0,M=M[0],b++;(u<_||d)&&b--;u++)w=d*lt+(C[u]||0),p[u]=w/M|0,d=w%M|0;else{for(d=lt/(M[0]+1)|0,d>1&&(M=e(M,d),C=e(C,d),N=M.length,_=C.length),j=N,x=C.slice(0,N),v=x.length;v<N;)x[v++]=0;E=M.slice(),E.unshift(0),S=M[0],M[1]>=lt/2&&++S;do d=0,o=t(M,x,N,v),o<0?(g=x[0],N!=v&&(g=g*lt+(x[1]||0)),d=g/S|0,d>1?(d>=lt&&(d=lt-1),f=e(M,d),h=f.length,v=x.length,o=t(f,x,h,v),o==1&&(d--,r(f,N<h?E:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),o==-1&&(v=x.length,o=t(M,x,N,v),o<1&&(d++,r(x,N<v?E:M,v))),v=x.length):o===0&&(d++,x=[0]),p[u++]=d,o&&x[0]?x[v++]=C[j]||0:(x=[C[j]],v=1);while((j++<_||x[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,de(m,s?a+Ge(m)+1:a)}}();function zR(e,t){var r,n,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Ge(e)>16)throw Error(Lb+Ge(e));if(!e.s)return new d(lr);for(Ee=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(na(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(lr),d.precision=o;;){if(i=de(i.times(e),o),r=r.times(++l),s=a.plus(On(i,r,o)),ln(s.d).slice(0,o)===ln(a.d).slice(0,o)){for(;u--;)a=de(a.times(a),o);return d.precision=f,t==null?(Ee=!0,de(a,f)):a}a=s}}function Ge(e){for(var t=e.e*xe,r=e.d[0];r>=10;r/=10)t++;return t}function Wp(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return de(new e(e.LN10),t)}function oi(e){for(var t="";e--;)t+="0";return t}function Zl(e,t){var r,n,i,a,s,o,l,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(Tr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new x(0);if(t==null?(Ee=!1,u=v):u=t,m.eq(10))return t==null&&(Ee=!0),Wp(x,u);if(u+=h,x.precision=u,r=ln(p),n=r.charAt(0),a=Ge(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ln(m.d),n=r.charAt(0),f++;a=Ge(m),n>1?(m=new x("0."+r),a++):m=new x(n+"."+r.slice(1))}else return l=Wp(x,u+2,v).times(a+""),m=Zl(new x(n+"."+r.slice(1)),u-h).plus(l),x.precision=v,t==null?(Ee=!0,de(m,v)):m;for(o=s=m=On(m.minus(lr),m.plus(lr),u),d=de(m.times(m),u),i=3;;){if(s=de(s.times(d),u),l=o.plus(On(s,new x(i),u)),ln(l.d).slice(0,u)===ln(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Wp(x,u+2,v).times(a+""))),o=On(o,new x(f),u),x.precision=v,t==null?(Ee=!0,de(o,v)):o;o=l,i+=2}}function WN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=go(r/xe),e.d=[],n=(r+1)%xe,r<0&&(n+=xe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xe;n<i;)e.d.push(+t.slice(n,n+=xe));t=t.slice(n),n=xe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>Cf||e.e<-Cf))throw Error(Lb+r)}else e.s=0,e.e=0,e.d=[0];return e}function de(e,t,r){var n,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=xe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/xe),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=xe,i=n-xe+s}if(r!==void 0&&(a=na(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/na(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Ge(e),f.length=1,t=t-a-1,f[0]=na(10,(xe-t%xe)%xe),e.e=go(-t/xe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=na(10,xe-n),f[d]=i>0?(u/na(10,s-i)%na(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==lt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=lt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>Cf||e.e<-Cf))throw Error(Lb+Ge(e));return e}function UR(e,t){var r,n,i,a,s,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ee?de(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(m/xe),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=lt-1;--l[a],l[i]+=lt}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ee?de(t,m):t):new h(0)}function Ca(e,t,r){var n,i=Ge(e),a=ln(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+oi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oi(-i-1)+a,r&&(n=r-s)>0&&(a+=oi(n))):i>=s?(a+=oi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+oi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=oi(n))),e.s<0?"-"+a:a}function qN(e,t){if(e.length>t)return e.length=t,!0}function VR(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return WN(s,a.toString())}else if(typeof a!="string")throw Error(wa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,_X.test(a))WN(s,a);else throw Error(wa+a)}if(i.prototype=W,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VR,i.config=i.set=jX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function jX(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,i=["precision",1,po,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(go(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wa+r+": "+n);return this}var $b=VR(wX);lr=new $b(1);const le=$b;var SX=e=>e,WR={},qR=e=>e===WR,KN=e=>function t(){return arguments.length===0||arguments.length===1&&qR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KR=(e,t)=>e===1?t:KN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==WR).length;return a>=e?t(...n):KR(e-a,KN(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(d=>qR(d)?o.shift():d);return t(...u,...o)}))}),NX=e=>KR(e.length,e),wy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},EX=NX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),kX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SX;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},_y=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function HR(e){var t;return e===0?t=1:t=Math.floor(new le(e).abs().log(10).toNumber())+1,t}function GR(e,t,r){for(var n=new le(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var YR=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},XR=(e,t,r)=>{if(e.lte(0))return new le(0);var n=HR(e.toNumber()),i=new le(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new le(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new le(l.toNumber()):new le(Math.ceil(l.toNumber()))},PX=(e,t,r)=>{var n=new le(1),i=new le(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new le(10).pow(HR(e)-1),i=new le(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new le(Math.floor(e)))}else e===0?i=new le(Math.floor((t-1)/2)):r||(i=new le(Math.floor(e)));var s=Math.floor((t-1)/2),o=kX(EX(l=>i.add(new le(l-s).mul(n)).toNumber()),wy);return o(0,t)},JR=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new le(0),tickMin:new le(0),tickMax:new le(0)};var s=XR(new le(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new le(0):(o=new le(t).add(r).div(2),o=o.sub(new le(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new le(r).sub(o).div(s).toNumber()),d=l+u+1;return d>n?JR(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new le(l).mul(s)),tickMax:o.add(new le(u).mul(s))})},AX=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=YR([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...wy(0,i-1).map(()=>1/0)]:[...wy(0,i-1).map(()=>-1/0),l];return r>n?_y(u):u}if(o===l)return PX(o,i,a);var{step:d,tickMin:f,tickMax:h}=JR(o,l,s,a,0),m=GR(f,h.add(new le(.1).mul(d)),d);return r>n?_y(m):m},CX=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=YR([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=XR(new le(o).sub(s).div(l-1),a,0),d=[...GR(new le(s),new le(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?_y(d):d},QR=e=>e.rootProps.maxBarSize,OX=e=>e.rootProps.barGap,ZR=e=>e.rootProps.barCategoryGap,TX=e=>e.rootProps.barSize,kc=e=>e.rootProps.stackOffset,eM=e=>e.rootProps.reverseStackOrder,Fb=e=>e.options.chartName,Bb=e=>e.rootProps.syncId,tM=e=>e.rootProps.syncMethod,zb=e=>e.options.eventEmitter,xt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_n={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},am=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:_n.type,unit:void 0},RX={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:sr.type,unit:void 0},MX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DX={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:"category",unit:void 0},Ub=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MX:IX,Vb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DX:RX,sm=e=>e.polarOptions,Wb=k([Jn,Qn,tt],XI),rM=k([sm,Wb],(e,t)=>{if(e!=null)return At(e.innerRadius,t,0)}),nM=k([sm,Wb],(e,t)=>{if(e!=null)return At(e.outerRadius,t,t*.8)}),LX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},iM=k([sm],LX);k([Ub,iM],am);var aM=k([Wb,rM,nM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});k([Vb,aM],am);var sM=k([ae,sm,rM,nM,Jn,Qn],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:At(s,i,i/2),cy:At(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Pe=(e,t)=>t,Pc=(e,t,r)=>r;function qb(e){return e==null?void 0:e.id}function oM(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=qb(o);u.forEach((f,h)=>{var m=a==null||i?h:String(Ne(f,a,null)),p=Ne(f,o.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[d]:p}),s.set(m,x)})}}),Array.from(s.values())}function om(e){return e.stackId!=null&&e.dataKey!=null}var lm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $X(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var nt=e=>{var t=ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yo=e=>e.tooltip.settings.axisId;function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=[0,"auto"],at={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lM=(e,t)=>e.cartesianAxis.xAxis[t],ei=(e,t)=>{var r=lM(e,t);return r??at},st={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bc},cM=(e,t)=>e.cartesianAxis.yAxis[t],ti=(e,t)=>{var r=cM(e,t);return r??st},UX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??UX},Ie=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"zAxis":return Kb(e,r);case"angleAxis":return Ub(e,r);case"radiusAxis":return Vb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VX=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ac=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"angleAxis":return Ub(e,r);case"radiusAxis":return Vb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Hb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Gb=e=>e.graphicalItems.cartesianItems,WX=k([Pe,Pc],Hb),Yb=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Cc=k([Gb,Ie,WX],Yb,{memoizeOptions:{resultEqualityCheck:cm}}),dM=k([Cc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(om)),fM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qX=k([Cc],fM),Xb=e=>e.map(t=>t.data).filter(Boolean).flat(1),KX=k([Cc],Xb,{memoizeOptions:{resultEqualityCheck:cm}}),Jb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Qb=k([KX,Db],Jb),Zb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ne(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ne(i,n)}))):e.map(n=>({value:n})),um=k([Qb,Ie,Cc],Zb);function hM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sd(e){if(mn(e)||e instanceof Date){var t=Number(e);if(Be(t))return t}}function GN(e){if(Array.isArray(e)){var t=[sd(e[0]),sd(e[1])];return Ii(t)?t:void 0}var r=sd(e);if(r!=null)return[r,r]}function Wn(e){return e.map(sd).filter(k9)}function HX(e,t,r){return!r||typeof t!="number"||Zr(t)?[]:r.length?Wn(r.flatMap(n=>{var i=Ne(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Be(a)||!Be(s)))return[t-a,t+s]})):[]}var it=e=>{var t=nt(e),r=yo(e);return Ac(e,t,r)},Oc=k([it],e=>e==null?void 0:e.dataKey),GX=k([dM,Db,it],oM),mM=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,d=u.map(qb);return[o,{stackedData:Lq(e,d,r),graphicalItems:u}]}))},Sy=k([GX,dM,kc,eM],mM),pM=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=Uq(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},YX=k([Ie],e=>e.allowDataOverflow),ew=e=>{var t;if(e==null||!("domain"in e))return jy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Wn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:jy},tw=k([Ie],ew),rw=k([tw,YX],$R),XX=k([Sy,Wi,Pe,rw],pM,{memoizeOptions:{resultEqualityCheck:lm}}),dm=e=>e.errorBars,JX=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>hM(r,n)),Tf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},nw=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,d,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(g=>hM(i,g)),h=Ne(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=HX(o,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||x>s)&&(s=x)}var v=GN(h);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=GN(Ne(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Be(a)&&Be(s))return[a,s]},QX=k([Qb,Ie,qX,dm,Pe],nw,{memoizeOptions:{resultEqualityCheck:lm}});function ZX(e){var{value:t}=e;if(mn(t)||t instanceof Date)return t}var eJ=(e,t,r)=>{var n=e.map(ZX).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&dT(n))?nR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},gM=e=>e.referenceElements.dots,vo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tJ=k([gM,Pe,Pc],vo),yM=e=>e.referenceElements.areas,rJ=k([yM,Pe,Pc],vo),vM=e=>e.referenceElements.lines,nJ=k([vM,Pe,Pc],vo),xM=(e,t)=>{var r=Wn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iJ=k(tJ,Pe,xM),bM=(e,t)=>{var r=Wn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aJ=k([rJ,Pe],bM);function sJ(e){var t;if(e.x!=null)return Wn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Wn(r)}function oJ(e){var t;if(e.y!=null)return Wn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Wn(r)}var wM=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?sJ(n):oJ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lJ=k([nJ,Pe],wM),cJ=k(iJ,lJ,aJ,(e,t,r)=>Tf(e,r,t)),iw=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Tf(n,a,i):Tf(a,i);return bX(t,u,e.allowDataOverflow)},uJ=k([Ie,tw,rw,XX,QX,cJ,ae,Pe],iw,{memoizeOptions:{resultEqualityCheck:lm}}),dJ=[0,1],aw=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=La(t,a);if(u&&o==null){var d;return nR(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?eJ(n,e,u):i==="expand"?dJ:s}},sw=k([Ie,ae,Qb,um,kc,Pe,uJ],aw),_M=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(pc(a));return o in Yo?o:"point"}}},xo=k([Ie,ae,uM,Fb,Pe],_M);function fJ(e){if(e!=null){if(e in Yo)return Yo[e]();var t="scale".concat(pc(e));if(t in Yo)return Yo[t]()}}function ow(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=fJ(t);if(i!=null){var a=i.domain(r).range(n);return Tq(a),a}}}var lw=(e,t,r)=>{var n=ew(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ii(e))return AX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ii(e))return CX(e,t.tickCount,t.allowDecimals)}},cw=k([sw,Ac,xo],lw),uw=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ii(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},hJ=k([Ie,sw,cw,Pe],uw),mJ=k(um,Ie,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Wn(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),jM=k(mJ,ae,ZR,tt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Be(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=At(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),pJ=(e,t)=>{var r=ei(e,t);return r==null||typeof r.padding!="string"?0:jM(e,"xAxis",t,r.padding)},gJ=(e,t)=>{var r=ti(e,t);return r==null||typeof r.padding!="string"?0:jM(e,"yAxis",t,r.padding)},yJ=k(ei,pJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),vJ=k(ti,gJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),xJ=k([tt,yJ,Wh,Vh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),bJ=k([tt,ae,vJ,Wh,Vh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Tc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return xJ(e,r,n);case"yAxis":return bJ(e,r,n);case"zAxis":return(i=Kb(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return iM(e);case"radiusAxis":return aM(e,r);default:return}},SM=k([Ie,Tc],am),bo=k([Ie,xo,hJ,SM],ow);k([Cc,dm,Pe],JX);function NM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fm=(e,t)=>t,hm=(e,t,r)=>r,wJ=k(zh,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NM)),_J=k(Uh,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NM)),EM=(e,t)=>({width:e.width,height:t.height}),jJ=(e,t)=>{var r=typeof t.width=="number"?t.width:bc;return{width:r,height:e.height}},kM=k(tt,ei,EM),SJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},NJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},EJ=k(Qn,tt,wJ,fm,hm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=EM(t,o);s==null&&(s=SJ(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),kJ=k(Jn,tt,_J,fm,hm,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=jJ(t,o);s==null&&(s=NJ(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),PJ=(e,t)=>{var r=ei(e,t);if(r!=null)return EJ(e,r.orientation,r.mirror)},AJ=k([tt,ei,PJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),CJ=(e,t)=>{var r=ti(e,t);if(r!=null)return kJ(e,r.orientation,r.mirror)},OJ=k([tt,ti,CJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),PM=k(tt,ti,(e,t)=>{var r=typeof t.width=="number"?t.width:bc;return{width:r,height:e.height}}),YN=(e,t,r)=>{switch(t){case"xAxis":return kM(e,r).width;case"yAxis":return PM(e,r).height;default:return}},AM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=La(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&dT(l))return l}},dw=k([ae,um,Ie,Pe],AM),CM=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=La(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},fw=k([ae,um,Ac,Pe],CM),XN=k([ae,VX,xo,bo,dw,fw,Tc,cw,Pe],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=La(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),TJ=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=La(e,l),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?ut(a[0]-a[1])*2*p:p;var x=f||i;if(x){var v=x.map((g,b)=>{var w=s?s.indexOf(g):g;return{index:b,coordinate:n(w)+p,value:g,offset:p}});return v.filter(g=>Be(g.coordinate))}return u&&o?o.map((g,b)=>({coordinate:n(g)+p,value:g,index:b,offset:p})).filter(g=>Be(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,b)=>({coordinate:n(g)+p,value:s?s[g]:g,index:b,offset:p}))}},OM=k([ae,Ac,xo,bo,cw,Tc,dw,fw,Pe],TJ),IJ=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=La(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ut(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Qs=k([ae,Ac,bo,Tc,dw,fw,Pe],IJ),Zs=k(Ie,bo,(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})}),RJ=k([Ie,xo,sw,SM],ow);k((e,t,r)=>Kb(e,r),RJ,(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})});var MJ=k([ae,zh,Uh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TM=e=>e.options.defaultTooltipEventType,IM=e=>e.options.validateTooltipEventTypes;function RM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function hw(e,t){var r=TM(e),n=IM(e);return RM(t,r,n)}function DJ(e){return H(t=>hw(t,e))}var MM=(e,t)=>{var r,n=Number(t);if(!(Zr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LJ=e=>e.tooltip.settings,hi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$J={itemInteraction:{click:hi,hover:hi},axisInteraction:{click:hi,hover:hi},keyboardInteraction:hi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DM=Zt({name:"tooltip",initialState:$J,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_e()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Xr(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:_e()},removeTooltipEntrySettings:{reducer(e,t){var r=Xr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:_e()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FJ,replaceTooltipEntrySettings:BJ,removeTooltipEntrySettings:zJ,setTooltipSettingsState:UJ,setActiveMouseOverItemIndex:LM,mouseLeaveItem:VJ,mouseLeaveChart:$M,setActiveClickItemIndex:WJ,setMouseOverAxisIndex:FM,setMouseClickAxisIndex:qJ,setSyncInteraction:Ny,setKeyboardInteraction:Ey}=DM.actions,KJ=DM.reducer;function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JJ(e){return e.index!=null}var BM=(e,t,r,n)=>{if(t==null)return hi;var i=XJ(e,t,r);if(i==null)return hi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(JJ(i)){if(a)return Iu(Iu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Iu(Iu({},hi),{},{coordinate:i.coordinate})};function QJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function ZJ(e,t){var r=QJ(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function eQ(e,t,r){if(r==null||t==null)return!0;var n=Ne(e,t);return n==null||!Ii(r)?!0:ZJ(n,r)}var mw=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Be(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||eQ(u,r,n)?String(l):null},zM=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},UM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Ic=e=>e.options.tooltipPayloadSearcher,wo=e=>e.tooltip;function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){tQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tQ(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e,t){return e??t}var VM=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,g=iQ(x,o),b=Array.isArray(g)?vI(g,u,d):g,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,_;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?_=E9(b,n,i):_=a(b,t,l,j),Array.isArray(_))_.forEach(N=>{var E=ZN(ZN({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(AS({tooltipEntrySettings:E,dataKey:N.dataKey,payload:N.payload,value:Ne(N.payload,N.dataKey),name:N.name}))});else{var S;h.push(AS({tooltipEntrySettings:v,dataKey:w,payload:_,value:Ne(_,w),name:(S=Ne(_,j))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return h},f)}},pw=k([it,ae,uM,Fb,nt],_M),aQ=k([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sQ=k([nt,yo],Hb),Rc=k([aQ,it,sQ],Yb,{memoizeOptions:{resultEqualityCheck:cm}}),oQ=k([Rc],e=>e.filter(om)),lQ=k([Rc],Xb,{memoizeOptions:{resultEqualityCheck:cm}}),_o=k([lQ,Wi],Jb),cQ=k([oQ,Wi,it],oM),gw=k([_o,it,Rc],Zb),WM=k([it],ew),uQ=k([it],e=>e.allowDataOverflow),qM=k([WM,uQ],$R),dQ=k([Rc],e=>e.filter(om)),fQ=k([cQ,dQ,kc,eM],mM),hQ=k([fQ,Wi,nt,qM],pM),mQ=k([Rc],fM),pQ=k([_o,it,mQ,dm,nt],nw,{memoizeOptions:{resultEqualityCheck:lm}}),gQ=k([gM,nt,yo],vo),yQ=k([gQ,nt],xM),vQ=k([yM,nt,yo],vo),xQ=k([vQ,nt],bM),bQ=k([vM,nt,yo],vo),wQ=k([bQ,nt],wM),_Q=k([yQ,wQ,xQ],Tf),jQ=k([it,WM,qM,hQ,pQ,_Q,ae,nt],iw),Mc=k([it,ae,_o,gw,kc,nt,jQ],aw),SQ=k([Mc,it,pw],lw),NQ=k([it,Mc,SQ,nt],uw),KM=e=>{var t=nt(e),r=yo(e),n=!1;return Tc(e,t,r,n)},HM=k([it,KM],am),GM=k([it,pw,NQ,HM],ow),EQ=k([ae,gw,it,nt],AM),kQ=k([ae,gw,it,nt],CM),PQ=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=La(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ut(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},ri=k([ae,it,pw,GM,KM,EQ,kQ,nt],PQ),yw=k([TM,IM,LJ],(e,t,r)=>RM(r.shared,e,t)),YM=e=>e.tooltip.settings.trigger,vw=e=>e.tooltip.settings.defaultIndex,Dc=k([wo,yw,YM,vw],BM),Oa=k([Dc,_o,Oc,Mc],mw),XM=k([ri,Oa],MM),xw=k([Dc],e=>{if(e)return e.dataKey}),AQ=k([Dc],e=>{if(e)return e.graphicalItemId}),JM=k([wo,yw,YM,vw],UM),CQ=k([Jn,Qn,ae,tt,ri,vw,JM,Ic],zM),OQ=k([Dc,CQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TQ=k([Dc],e=>e.active),IQ=k([JM,Oa,Wi,Oc,XM,Ic,yw],VM);k([IQ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LQ=()=>H(it),$Q=()=>{var e=LQ(),t=H(ri),r=H(GM);return df(!e||!r?void 0:tE(tE({},e),{},{scale:r}),t)};function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},VQ=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Xa(Xa(Xa({},n),He(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Xa(Xa(Xa({},n),He(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function WQ(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var QM=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(ut(d-u)!==ut(f-d)){var m=[];if(ut(f-d)===ut(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var g=Math.min(u,f),b=Math.max(u,f);if(e>(g+d)/2&&e<=(b+d)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},qQ=()=>H(Fb),bw=(e,t)=>t,ZM=(e,t,r)=>r,ww=(e,t,r,n)=>n,KQ=k(ri,e=>Oh(e,t=>t.coordinate)),_w=k([wo,bw,ZM,ww],BM),jw=k([_w,_o,Oc,Mc],mw),HQ=(e,t,r)=>{if(t!=null){var n=wo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eD=k([wo,bw,ZM,ww],UM),If=k([Jn,Qn,ae,tt,ri,ww,eD,Ic],zM),GQ=k([_w,If],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tD=k([ri,jw],MM),YQ=k([eD,jw,Wi,Oc,tD,Ic,bw],VM),XQ=k([_w,jw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JQ=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&WQ(e,s)){var o=Vq(e,t),l=QM(o,a,i,r,n),u=UQ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},QQ=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=BH(e,r);if(o){var l=Wq(o,t),u=QM(l,s,a,n,i),d=VQ(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},ZQ=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?JQ(e,t,n,i,a,s,o):QQ(e,t,r,n,i,a,s)},eZ=k(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),tZ=k(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(xt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:$X}});function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){rZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rZ(e,t,r){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aZ={},sZ={zIndexMap:Object.values(xt).reduce((e,t)=>iE(iE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aZ)},oZ=new Set(Object.values(xt));function lZ(e){return oZ.has(e)}var rD=Zt({name:"zIndex",initialState:sZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_e()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lZ(r)&&delete e.zIndexMap[r])},prepare:_e()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:_e()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:_e()}}}),{registerZIndexPortal:cZ,unregisterZIndexPortal:uZ,registerZIndexPortalId:dZ,unregisterZIndexPortalId:fZ}=rD.actions,hZ=rD.reducer;function rn(e){var{zIndex:t,children:r}=e,n=gK(),i=n&&t!==void 0&&t!==0,a=er(),s=ke();y.useLayoutEffect(()=>i?(s(cZ({zIndex:t})),()=>{s(uZ({zIndex:t}))}):gc,[s,t,i]);var o=H(u=>eZ(u,t,a));if(!i)return r;if(!o)return null;var l=document.getElementById(o);return l?Mv.createPortal(r,l):null}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function vZ(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=tH,v=xt.cursorLine;else if(d==="BarChart")p=rH(o,f,a,s),x=YI,v=xt.cursorRectangle;else if(o==="radial"&&mT(f)){var{cx:g,cy:b,radius:w,startAngle:j,endAngle:_}=JI(f);p={cx:g,cy:b,startAngle:j,endAngle:_,innerRadius:w,outerRadius:w},x=ZI,v=xt.cursorLine}else p={points:WH(o,f,a)},x=db,v=xt.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,N=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},a),p),Bl(l)),{},{payload:h,payloadIndex:m,className:ue("recharts-tooltip-cursor",S)});return y.createElement(rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},y.createElement(yZ,{cursor:l,cursorComp:x,cursorProps:N}))}function xZ(e){var t=$Q(),r=OI(),n=Kh(),i=qQ();return t==null||r==null||n==null||i==null?null:y.createElement(vZ,ky({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var nD=y.createContext(null),bZ=()=>y.useContext(nD),iD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,_;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(g-1);_<g;_++)b[_-1]=arguments[_];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var x=0,v=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(iD);var wZ=iD.exports;const _Z=yn(wZ);var ec=new _Z,Py="recharts.syncEvent.tooltip",sE="recharts.syncEvent.brush";function aD(e,t){if(t){var r=Number.parseInt(t,10);if(!Zr(r))return e==null?void 0:e[r]}}var jZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sD=Zt({name:"options",initialState:jZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),SZ=sD.reducer,{createEventEmitter:NZ}=sD.actions;function EZ(e){return e.tooltip.syncInteraction}var kZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oD=Zt({name:"chartData",initialState:kZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:oE,setDataStartEndIndexes:PZ,setComputedData:lle}=oD.actions,AZ=oD.reducer,CZ=["x","y"];function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return(t=TZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RZ(e,t){if(e==null)return{};var r,n,i=MZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DZ(){var e=H(Bb),t=H(zb),r=ke(),n=H(tM),i=H(ri),a=Kh(),s=qh(),o=H(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return gc;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,v=RZ(m,CZ),{x:g,y:b,width:w,height:j}=d.payload.sourceViewBox,_=Ja(Ja({},v),{},{x:s.x+(w?(p-g)/w:0)*s.width,y:s.y+(j?(x-b)/j:0)*s.height});r(Ja(Ja({},d),{},{payload:Ja(Ja({},d.payload),{},{coordinate:_})}))}else r(d);return}if(i!=null){var S;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(i,N);S=i[E]}else n==="value"&&(S=i.find(D=>String(D.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||s==null){r(Ny({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:C}=A,M=Math.min(O,s.x+s.width),K=Math.min(C,s.y+s.height),T={x:a==="horizontal"?S.coordinate:M,y:a==="horizontal"?K:S.coordinate},z=Ny({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(z)}}};return ec.on(Py,l),()=>{ec.off(Py,l)}},[o,r,t,e,n,i,a,s])}function LZ(){var e=H(Bb),t=H(zb),r=ke();y.useEffect(()=>{if(e==null)return gc;var n=(i,a,s)=>{t!==s&&e===i&&r(PZ(a))};return ec.on(sE,n),()=>{ec.off(sE,n)}},[r,t,e])}function $Z(){var e=ke();y.useEffect(()=>{e(NZ())},[e]),DZ(),LZ()}function FZ(e,t,r,n,i,a){var s=H(m=>HQ(m,e,t)),o=H(zb),l=H(Bb),u=H(tM),d=H(EZ),f=d==null?void 0:d.active,h=qh();y.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Ny({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});ec.emit(Py,l,m,o)}},[f,r,s,i,n,o,l,u,a,h])}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VZ(e){return e.dataKey}function WZ(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(RK,t)}var dE=[],qZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ay(e){var t,r,n=Ot(e,qZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:g,shared:b,trigger:w,defaultIndex:j,portal:_,axisId:S}=n,N=ke(),E=typeof j=="number"?String(j):j;y.useEffect(()=>{N(UJ({shared:b,trigger:w,axisId:S,active:i,defaultIndex:E}))},[N,b,w,S,i,E]);var A=qh(),O=WI(),C=DJ(b),{activeIndex:M,isActive:K}=(t=H(Ye=>XQ(Ye,C,w,E)))!==null&&t!==void 0?t:{},T=H(Ye=>YQ(Ye,C,w,E)),z=H(Ye=>tD(Ye,C,w,E)),D=H(Ye=>GQ(Ye,C,w,E)),R=T,P=bZ(),I=(r=i??K)!==null&&r!==void 0?r:!1,[L,Q]=kW([R,I]),se=C==="axis"?z:void 0;FZ(C,w,D,se,M,I);var zt=_??P;if(zt==null||A==null||C==null)return null;var ze=R??dE;I||(ze=dE),u&&ze.length&&(ze=q9(ze.filter(Ye=>Ye.value!=null&&(Ye.hide!==!0||n.includeHidden)),h,VZ));var Mr=ze.length>0,tr=y.createElement(zK,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:I,coordinate:D,hasPayload:Mr,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:A,wrapperStyle:v,lastBoundingBox:L,innerRef:Q,hasPortalFromProps:!!_},WZ(l,uE(uE({},n),{},{payload:ze,label:se,active:I,activeIndex:M,coordinate:D,accessibilityLayer:O})));return y.createElement(y.Fragment,null,Mv.createPortal(tr,zt),I&&y.createElement(xZ,{cursor:g,tooltipEventType:C,coordinate:D,payload:ze,index:M}))}var Lc=e=>null;Lc.displayName="Cell";function KZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class YZ{constructor(t){KZ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){JZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eee={cacheSize:2e3,enableCache:!0},lD=XZ({},eee),hE=new YZ(lD.cacheSize),tee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mE="recharts_measurement_span";function ree(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var pE=(e,t)=>{try{var r=document.getElementById(mE);r||(r=document.createElement("span"),r.setAttribute("id",mE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tee,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},cl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_c.isSsr)return{width:0,height:0};if(!lD.enableCache)return pE(t,r);var n=ree(t,r),i=hE.get(n);if(i)return i;var a=pE(t,r);return hE.set(n,a),a},gE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aee=Object.keys(cD),xs="NaN";function see(e,t){return e*cD[t]}class Wt{static parse(t){var r,[,n,i]=(r=iee.exec(t))!==null&&r!==void 0?r:[];return new Wt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zr(t)&&(this.unit=""),r!==""&&!nee.test(r)&&(this.num=NaN,this.unit=""),aee.includes(r)&&(this.num=see(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zr(this.num)}}function uD(e){if(e.includes(xs))return xs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=gE.exec(t))!==null&&r!==void 0?r:[],s=Wt.parse(n??""),o=Wt.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return xs;t=t.replace(gE,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=yE.exec(t))!==null&&u!==void 0?u:[],m=Wt.parse(d??""),p=Wt.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return xs;t=t.replace(yE,x.toString())}return t}var vE=/\(([^()]*)\)/;function oee(e){for(var t=e,r;(r=vE.exec(t))!=null;){var[,n]=r;t=t.replace(vE,uD(n))}return t}function lee(e){var t=e.replace(/\s+/g,"");return t=oee(t),t=uD(t),t}function cee(e){try{return lee(e)}catch{return xs}}function qp(e){var t=cee(e.slice(5,-1));return t===xs?"":t}var uee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dee=["dx","dy","angle","className","breakAll"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function xE(e,t){if(e==null)return{};var r,n,i=fee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dD=/[ \f\n\r\t\v\u2028\u2029]+/,fD=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ft(t)||(r?i=t.toString().split(""):i=t.toString().split(dD));var a=i.map(o=>({word:o,width:cl(o,n).width})),s=r?0:cl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function hee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hD=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),mD=e=>e.reduce((t,r)=>t.width>r.width?t:r),mee="",bE=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=fD({breakAll:r,style:n,children:l+mee});if(!u)return[!1,[]];var d=hD(u.wordsWithComputedWidth,a,s,o),f=d.length>i||mD(d).width>Number(a);return[f,d]},pee=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Y(a),d=String(s),f=hD(t,n,r,i);if(!u||i)return f;var h=f.length>a||mD(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,x=0,v;m<=p&&x<=d.length-1;){var g=Math.floor((m+p)/2),b=g-1,[w,j]=bE(d,b,l,o,a,n,r,i),[_]=bE(d,g,l,o,a,n,r,i);if(!w&&!_&&(m=g+1),w&&_&&(p=g-1),!w&&_){v=j;break}x++}return v||f},wE=e=>{var t=ft(e)?[]:e.toString().split(dD);return[{words:t,width:void 0}]},gee=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!_c.isSsr){var o,l,u=fD({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return wE(n);return pee({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return wE(n)},pD="#808080",yee={angle:0,breakAll:!1,capHeight:"0.71em",fill:pD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},mm=y.forwardRef((e,t)=>{var r=Ot(e,yee),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=r,f=xE(r,uee),h=y.useMemo(()=>gee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:x,className:v,breakAll:g}=f,b=xE(f,dee);if(!mn(n)||!mn(i)||h.length===0)return null;var w=Number(n)+(Y(m)?m:0),j=Number(i)+(Y(p)?p:0);if(!Be(w)||!Be(j))return null;var _;switch(d){case"start":_=qp("calc(".concat(s,")"));break;case"middle":_=qp("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:_=qp("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var N=h[0].width,{width:E}=f;S.push("scale(".concat(Y(E)&&Y(N)?E/N:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(w,", ").concat(j,")")),S.length&&(b.transform=S.join(" ")),y.createElement("text",Cy({},Cr(b),{ref:t,x:w,y:j,className:ue("recharts-text",v),textAnchor:u,fill:o.includes("url")?pD:o}),h.map((A,O)=>{var C=A.words.join(g?"":" ");return y.createElement("tspan",{x:w,dy:O===0?_:a,key:"".concat(C,"-").concat(O)},C)}))});mm.displayName="Text";var vee=["labelRef"];function xee(e,t){if(e==null)return{};var r,n,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t,r){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(null,arguments)}var gD=y.createContext(null),See=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return y.createElement(gD.Provider,{value:l},o)},yD=()=>{var e=y.useContext(gD),t=qh();return e||CI(t)},Nee=y.createContext(null),Eee=()=>{var e=y.useContext(Nee),t=H(sM);return e||t},kee=e=>{var{value:t,formatter:r}=e,n=ft(e.children)?t:e.children;return typeof r=="function"?r(n):n},Sw=e=>e!=null&&typeof e=="function",Pee=(e,t)=>{var r=ut(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Aee=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,x=Pee(f,h),v=x>=0?1:-1,g,b;switch(t){case"insideStart":g=f+v*a,b=m;break;case"insideEnd":g=h-v*a,b=!m;break;case"end":g=h+v*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var w=He(o,l,p,g),j=He(o,l,p,g+(b?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),S=ft(e.id)?zl("recharts-radial-line-"):e.id;return y.createElement("text",jn({},n,{dominantBaseline:"central",className:ue("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:S,d:_})),y.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Cee=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=He(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=He(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Oy=e=>"cx"in e&&Y(e.cx),Oee=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Oy(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,m=(f+h)/2,p=(l+u)/2,x=f+l/2,v=d>=0?1:-1,g=v*n,b=v>0?"end":"start",w=v>0?"start":"end",j=l>=0?1:-1,_=j*n,S=j>0?"end":"start",N=j>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-g,textAnchor:"middle",verticalAnchor:b};return Le(Le({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var A={x:h+u/2,y:o+d+g,textAnchor:"middle",verticalAnchor:w};return Le(Le({},A),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var O={x:m-_,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Le(Le({},O),a?{width:Math.max(O.x-a.x,0),height:d}:{})}if(i==="right"){var C={x:m+p+_,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Le(Le({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:d}:{})}var M=a?{width:p,height:d}:{};return i==="insideLeft"?Le({x:m+_,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideRight"?Le({x:m+p-_,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?Le({x:f+l/2,y:o+g,textAnchor:"middle",verticalAnchor:w},M):i==="insideBottom"?Le({x:h+u/2,y:o+d-g,textAnchor:"middle",verticalAnchor:b},M):i==="insideTopLeft"?Le({x:f+_,y:o+g,textAnchor:N,verticalAnchor:w},M):i==="insideTopRight"?Le({x:f+l-_,y:o+g,textAnchor:S,verticalAnchor:w},M):i==="insideBottomLeft"?Le({x:h+_,y:o+d-g,textAnchor:N,verticalAnchor:b},M):i==="insideBottomRight"?Le({x:h+u-_,y:o+d-g,textAnchor:S,verticalAnchor:b},M):i&&typeof i=="object"&&(Y(i.x)||Fn(i.x))&&(Y(i.y)||Fn(i.y))?Le({x:s+At(i.x,p),y:o+At(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Le({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Tee={angle:0,offset:5,zIndex:xt.label,position:"middle",textBreakAll:!1};function li(e){var t=Ot(e,Tee),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=Eee(),f=yD(),h=n==="center"?f:d??f,m,p,x;if(r==null?m=h:Oy(r)?m=r:m=CI(r),!m||ft(i)&&ft(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var v=Le(Le({},t),{},{viewBox:m});if(y.isValidElement(s)){var{labelRef:g}=v,b=xee(v,vee);return y.cloneElement(s,b)}if(typeof s=="function"){if(p=y.createElement(s,v),y.isValidElement(p))return p}else p=kee(t);var w=Cr(t);if(Oy(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Aee(t,n,p,w,m);x=Cee(m,t.offset,t.position)}else x=Oee(t,m);return y.createElement(rn,{zIndex:t.zIndex},y.createElement(mm,jn({ref:u,className:ue("recharts-label",o)},w,x,{textAnchor:hee(w.textAnchor)?w.textAnchor:x.textAnchor,breakAll:l}),p))}li.displayName="Label";var Iee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(li,jn({key:"label-implicit"},n)):mn(e)?y.createElement(li,jn({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===li?y.cloneElement(e,Le({key:"label-implicit"},n)):y.createElement(li,jn({key:"label-implicit",content:e},n)):Sw(e)?y.createElement(li,jn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(li,jn({},e,{key:"label-implicit"},n)):null};function Ree(e){var{label:t,labelRef:r}=e,n=yD();return Iee(t,n,r)||null}var vD={},xD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(xD);var bD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(bD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xD,r=bD,n=Ah;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(vD);var Mee=vD.last;const Dee=yn(Mee);var Lee=["valueAccessor"],$ee=["dataKey","clockWise","id","textBreakAll","zIndex"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function jE(e,t){if(e==null)return{};var r,n,i=Fee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bee=e=>Array.isArray(e.value)?Dee(e.value):e.value,wD=y.createContext(void 0),zee=wD.Provider,_D=y.createContext(void 0),Uee=_D.Provider;function Vee(){return y.useContext(wD)}function Wee(){return y.useContext(_D)}function od(e){var{valueAccessor:t=Bee}=e,r=jE(e,Lee),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=jE(r,$ee),u=Vee(),d=Wee(),f=u||d;return!f||!f.length?null:y.createElement(rn,{zIndex:o??xt.label},y.createElement(Lt,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=ft(n)?t(h,m):Ne(h&&h.payload,n),v=ft(a)?{}:{id:"".concat(a,"-").concat(m)};return y.createElement(li,Rf({key:"label-".concat(m)},Cr(h),l,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}od.displayName="LabelList";function jD(e){var{label:t}=e;return t?t===!0?y.createElement(od,{key:"labelList-implicit"}):y.isValidElement(t)||Sw(t)?y.createElement(od,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(od,Rf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var SD=e=>e.graphicalItems.polarItems,qee=k([Pe,Pc],Hb),pm=k([SD,Ie,qee],Yb),Kee=k([pm],Xb),gm=k([Kee,Mb],Jb),Hee=k([gm,Ie,pm],Zb);k([gm,Ie,pm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Ne(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ne(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var SE=()=>{},Gee=k([gm,Ie,pm,dm,Pe],nw),Yee=k([Ie,tw,rw,SE,Gee,SE,ae,Pe],iw),ND=k([Ie,ae,gm,Hee,kc,Pe,Yee],aw),Xee=k([ND,Ie,xo],lw);k([Ie,ND,Xee,Pe],uw);var Jee={radiusAxis:{},angleAxis:{}},ED=Zt({name:"polarAxis",initialState:Jee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:cle,removeRadiusAxis:ule,addAngleAxis:dle,removeAngleAxis:fle}=ED.actions,Qee=ED.reducer;function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){Zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zee(e,t,r){return(t=ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=(e,t)=>t,Nw=k([SD,rte],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nte=[],Ew=(e,t,r)=>(r==null?void 0:r.length)===0?nte:r,kD=k([Mb,Nw,Ew],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>EE(EE({},t.presentationProps),a.props))),i!=null)return i}}),ite=k([kD,Nw,Ew],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Ne(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Bh(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),ate=k([kD,Nw,Ew,tt],(e,t,r,n)=>{if(!(t==null||e==null))return sre({offset:n,pieSettings:t,displayedData:e,cells:r})}),PD={exports:{}},fe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=Symbol.for("react.transitional.element"),Pw=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),bm=Symbol.for("react.consumer"),wm=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),ste=Symbol.for("react.view_transition"),ote=Symbol.for("react.client.reference");function Rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kw:switch(e=e.type,e){case ym:case xm:case vm:case jm:case Sm:case ste:return e;default:switch(e=e&&e.$$typeof,e){case wm:case _m:case Em:case Nm:return e;case bm:return e;default:return t}}case Pw:return t}}}fe.ContextConsumer=bm;fe.ContextProvider=wm;fe.Element=kw;fe.ForwardRef=_m;fe.Fragment=ym;fe.Lazy=Em;fe.Memo=Nm;fe.Portal=Pw;fe.Profiler=xm;fe.StrictMode=vm;fe.Suspense=jm;fe.SuspenseList=Sm;fe.isContextConsumer=function(e){return Rr(e)===bm};fe.isContextProvider=function(e){return Rr(e)===wm};fe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kw};fe.isForwardRef=function(e){return Rr(e)===_m};fe.isFragment=function(e){return Rr(e)===ym};fe.isLazy=function(e){return Rr(e)===Em};fe.isMemo=function(e){return Rr(e)===Nm};fe.isPortal=function(e){return Rr(e)===Pw};fe.isProfiler=function(e){return Rr(e)===xm};fe.isStrictMode=function(e){return Rr(e)===vm};fe.isSuspense=function(e){return Rr(e)===jm};fe.isSuspenseList=function(e){return Rr(e)===Sm};fe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ym||e===xm||e===vm||e===jm||e===Sm||typeof e=="object"&&e!==null&&(e.$$typeof===Em||e.$$typeof===Nm||e.$$typeof===wm||e.$$typeof===bm||e.$$typeof===_m||e.$$typeof===ote||e.getModuleId!==void 0)};fe.typeOf=Rr;PD.exports=fe;var lte=PD.exports,kE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",PE=null,Kp=null,AD=e=>{if(e===PE&&Array.isArray(Kp))return Kp;var t=[];return y.Children.forEach(e,r=>{ft(r)||(lte.isFragment(r)?t=t.concat(AD(r.props.children)):t.push(r))}),Kp=t,PE=e,t};function Aw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>kE(i)):n=[kE(t)],AD(e).forEach(i=>{var a=ka(i,"type.displayName")||ka(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var CD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(CD);var cte=CD.isPlainObject;const ute=yn(cte);function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(null,arguments)}var OE=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},mte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pte=e=>{var t=Ot(e,mte),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[m,p]=y.useState(-1),x=y.useRef(i),v=y.useRef(a),g=y.useRef(s),b=y.useRef(r),w=y.useRef(n),j=Qh(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var T=h.current.getTotalLength();T&&p(T)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var _=ue("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",Mf({},Cr(t),{className:_,d:OE(r,n,i,a,s)})));var S=x.current,N=v.current,E=g.current,A=b.current,O=w.current,C="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),K=qI(["strokeDasharray"],u,l);return y.createElement(Jh,{animationId:j,key:j,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},T=>{var z=Qe(S,i,T),D=Qe(N,a,T),R=Qe(E,s,T),P=Qe(A,r,T),I=Qe(O,n,T);h.current&&(x.current=z,v.current=D,g.current=R,b.current=P,w.current=I);var L=T>0?{transition:K,strokeDasharray:M}:{strokeDasharray:C};return y.createElement("path",Mf({},Cr(t),{className:_,d:OE(P,I,z,D,R),ref:h,style:CE(CE({},L),t.style)}))})},gte=["option","shapeType","propTransformer","activeClassName"];function yte(e,t){if(e==null)return{};var r,n,i=vte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xte(e,t,r){return(t=bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e,t){return Df(Df({},t),e)}function jte(e,t){return e==="symbols"}function IE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(YI,r);case"trapezoid":return y.createElement(pte,r);case"sector":return y.createElement(ZI,r);case"symbols":if(jte(t))return y.createElement(hT,r);break;case"curve":return y.createElement(db,r);default:return null}}function Ste(e){return y.isValidElement(e)?e.props:e}function OD(e){var{option:t,shapeType:r,propTransformer:n=_te,activeClassName:i="recharts-active-shape"}=e,a=yte(e,gte),s;if(y.isValidElement(t))s=y.cloneElement(t,Df(Df({},a),Ste(t)));else if(typeof t=="function")s=t(a,a.index);else if(ute(t)&&typeof t!="boolean"){var o=n(t,a);s=y.createElement(IE,{shapeType:r,elementProps:o})}else{var l=a;s=y.createElement(IE,{shapeType:r,elementProps:l})}return a.isActive?y.createElement(Lt,{className:i},s):s}var Cw=(e,t,r)=>{var n=ke();return(i,a)=>s=>{e==null||e(i,a,s),n(LM({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Ow=e=>{var t=ke();return(r,n)=>i=>{e==null||e(r,n,i),t(VJ())}},Tw=(e,t,r)=>{var n=ke();return(i,a)=>s=>{e==null||e(i,a,s),n(WJ({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function TD(e){var{tooltipEntrySettings:t}=e,r=ke(),n=er(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(FJ(t)):i.current!==t&&r(BJ({prev:i.current,next:t})),i.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{i.current&&(r(zJ(i.current)),i.current=null)},[r]),null}function Nte(e){var{legendPayload:t}=e,r=ke(),n=er(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(zI(t)):i.current!==t&&r(UI({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(VI(i.current)),i.current=null)},[r]),null}function Ete(e){var{legendPayload:t}=e,r=ke(),n=H(ae),i=y.useRef(null);return y.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(zI(t)):i.current!==t&&r(UI({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(VI(i.current)),i.current=null)},[r]),null}var Hp,kte=()=>{var[e]=y.useState(()=>zl("uid-"));return e},Pte=(Hp=wk.useId)!==null&&Hp!==void 0?Hp:kte;function ID(e,t){var r=Pte();return t||(e?"".concat(e,"-").concat(r):r)}var Ate=y.createContext(void 0),RD=e=>{var{id:t,type:r,children:n}=e,i=ID("recharts-".concat(r),t);return y.createElement(Ate.Provider,{value:i},n(i))},Cte={cartesianItems:[],polarItems:[]},MD=Zt({name:"graphicalItems",initialState:Cte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_e()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Xr(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:_e()},removeCartesianGraphicalItem:{reducer(e,t){var r=Xr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:_e()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_e()},removePolarGraphicalItem:{reducer(e,t){var r=Xr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:_e()}}}),{addCartesianGraphicalItem:Ote,replaceCartesianGraphicalItem:Tte,removeCartesianGraphicalItem:Ite,addPolarGraphicalItem:Rte,removePolarGraphicalItem:Mte}=MD.actions,Dte=MD.reducer,Lte=e=>{var t=ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Ote(e)):r.current!==e&&t(Tte({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Ite(r.current)),r.current=null)},[t]),null},$te=y.memo(Lte);function Fte(e){var t=ke();return y.useLayoutEffect(()=>(t(Rte(e)),()=>{t(Mte(e))}),[t,e]),null}var Bte=["key"],zte=["onMouseEnter","onClick","onMouseLeave"],Ute=["id"],Vte=["id"];function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){Wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t,r){return(t=qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function km(e,t){if(e==null)return{};var r,n,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gte(e){var t=y.useMemo(()=>Aw(e.children,Lc),[e.children]),r=H(n=>ite(n,e.id,t));return r==null?null:y.createElement(Ete,{legendPayload:r})}var Yte=y.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u}=e,d={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Bh(o,t),hide:l,type:u,color:s,unit:""}};return y.createElement(TD,{tooltipEntrySettings:d})}),Xte=(e,t)=>e>t?"start":e<t?"end":"middle",Jte=(e,t,r)=>At(typeof t=="function"?t(e):t,r,r*.8),Qte=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=XI(a,s),l=i+At(e.cx,a,a/2),u=n+At(e.cy,s,s/2),d=At(e.innerRadius,o,0),f=Jte(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Zte=(e,t)=>{var r=ut(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function ere(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var tre=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ue("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=km(t,Bte);return y.createElement(db,Ri({},i,{type:"linear",className:r}))},rre=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=ue("recharts-pie-label-text",ere(e));return y.createElement(mm,Ri({},t,{alignmentBaseline:"middle",className:i}),n)};function nre(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Qr(r),l=Bl(i),u=Bl(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=He(h.cx,h.cy,h.outerRadius+d,p),v=De(De(De(De({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Xte(x.x,h.cx)},x),g=De(De(De(De({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[He(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return y.createElement(rn,{zIndex:xt.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},y.createElement(Lt,null,a&&tre(a,g),rre(i,v,Ne(h,s))))});return y.createElement(Lt,{className:"recharts-pie-labels"},f)}function ire(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(jD,{label:i}):y.createElement(nre,{sectors:t,props:r,showLabels:n})}function are(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=H(Oa),l=H(xw),u=H(AQ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=km(i,zte),p=Cw(d,i.dataKey,s),x=Ow(h),v=Tw(f,i.dataKey,s);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=u==null||u===s,j=String(b)===o&&(l==null||i.dataKey===l)&&w,_=o?n:null,S=r&&j?r:_,N=De(De({},g),{},{stroke:g.stroke,tabIndex:-1,[_I]:b,[jI]:i.dataKey});return y.createElement(Lt,Ri({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Ph(m,g,b),{onMouseEnter:p(g,b),onMouseLeave:x(g,b),onClick:v(g,b)}),y.createElement(OD,Ri({option:a??S,index:b,shapeType:"sector",isActive:j},N)))}))}function sre(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Zte(o,l),p=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(S=>Ne(S,u,0)!==0).length,g=(p>=360?v:v-1)*x,b=p-v*h-g,w=n.reduce((S,N)=>{var E=Ne(N,u,0);return S+(Y(E)?E:0)},0),j;if(w>0){var _;j=n.map((S,N)=>{var E=Ne(S,u,0),A=Ne(S,d,N),O=Qte(r,a,S),C=(Y(E)?E:0)/w,M,K=De(De({},S),i&&i[N]&&i[N].props);N?M=_.endAngle+ut(m)*x*(E!==0?1:0):M=o;var T=M+ut(m)*((E!==0?h:0)+C*b),z=(M+T)/2,D=(O.innerRadius+O.outerRadius)/2,R=[{name:A,value:E,payload:K,dataKey:u,type:f}],P=He(O.cx,O.cy,D,z);return _=De(De(De(De({},r.presentationProps),{},{percent:C,cornerRadius:typeof s=="string"?parseFloat(s):s,name:A,tooltipPayload:R,midAngle:z,middleRadius:D,tooltipPosition:P},K),O),{},{value:E,dataKey:u,startAngle:M,endAngle:T,payload:K,paddingAngle:ut(m)*x}),_})}return j}function ore(e){var{showLabels:t,sectors:r,children:n}=e,i=y.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return y.createElement(Uee,{value:t?i:void 0},n)}function lre(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Qh(t,"recharts-pie-"),p=r.current,[x,v]=y.useState(!1),g=y.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),b=y.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return y.createElement(ore,{showLabels:!x,sectors:i},y.createElement(Jh,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var j=[],_=i&&i[0],S=_==null?void 0:_.startAngle;return i==null||i.forEach((N,E)=>{var A=p&&p[E],O=E>0?ka(N,"paddingAngle",0):0;if(A){var C=Qe(A.endAngle-A.startAngle,N.endAngle-N.startAngle,w),M=De(De({},N),{},{startAngle:S+O,endAngle:S+C+O});j.push(M),S=M.endAngle}else{var{endAngle:K,startAngle:T}=N,z=Qe(0,K-T,w),D=De(De({},N),{},{startAngle:S+O,endAngle:S+z+O});j.push(D),S=D.endAngle}}),r.current=j,y.createElement(Lt,null,y.createElement(are,{sectors:j,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),y.createElement(ire,{showLabels:!x,sectors:i,props:t}),t.children)}var cre={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xt.area};function ure(e){var{id:t}=e,r=km(e,Ute),{hide:n,className:i,rootTabIndex:a}=e,s=y.useMemo(()=>Aw(e.children,Lc),[e.children]),o=H(d=>ate(d,t,s)),l=y.useRef(null),u=ue("recharts-pie",i);return n||o==null?(l.current=null,y.createElement(Lt,{tabIndex:a,className:u})):y.createElement(rn,{zIndex:e.zIndex},y.createElement(Yte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(Lt,{tabIndex:a,className:u},y.createElement(lre,{props:De(De({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function DD(e){var t=Ot(e,cre),{id:r}=t,n=km(t,Vte),i=Qr(n);return y.createElement(RD,{id:r,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement(Fte,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),y.createElement(Gte,Ri({},n,{id:a})),y.createElement(ure,Ri({},n,{id:a}))))}DD.displayName="Pie";function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t,r){return(t=fre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mre={xAxis:{},yAxis:{},zAxis:{}},LD=Zt({name:"cartesianAxis",initialState:mre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_e()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:_e()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_e()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_e()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:_e()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_e()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_e()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:_e()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_e()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=DE(DE({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:pre,replaceXAxis:gre,removeXAxis:yre,addYAxis:vre,replaceYAxis:xre,removeYAxis:bre,addZAxis:hle,replaceZAxis:mle,removeZAxis:ple,updateYAxisWidth:wre}=LD.actions,_re=LD.reducer,jre=k([tt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sre=k([jre,Jn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$D=()=>H(Sre),Nre="Invariant failed";function Ere(e,t){throw new Error(Nre)}var kre=["x","y"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return(t=Are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e,t){if(e==null)return{};var r,n,i=Tre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ire(e,t){var{x:r,y:n}=e,i=Ore(e,kre),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Bo(Bo(Bo(Bo(Bo({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Lf(e){return y.createElement(OD,Ty({shapeType:"rectangle",propTransformer:Ire,activeClassName:"recharts-active-bar"},e))}var Rre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Y(t))return t;var a=Y(n)||ft(n);return a?t(n,i):(a||Ere(),r)}},Mre={},FD=Zt({name:"errorBars",initialState:Mre,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:gle,replaceErrorBar:yle,removeErrorBar:vle}=FD.actions,Dre=FD.reducer,Lre=["children"];function $re(e,t){if(e==null)return{};var r,n,i=Fre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zre=y.createContext(Bre);function Ure(e){var{children:t}=e,r=$re(e,Lre);return y.createElement(zre.Provider,{value:r},t)}function BD(e,t){var r,n,i=H(u=>ei(u,e)),a=H(u=>ti(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:at.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:st.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Vre(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$D(),{needClipX:a,needClipY:s,needClip:o}=BD(t,r);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}function Wre(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Be(e.zIndex)?e.zIndex:t}var qre={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=y;function Kre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hre=typeof Object.is=="function"?Object.is:Kre,Gre=$c.useSyncExternalStore,Yre=$c.useRef,Xre=$c.useEffect,Jre=$c.useMemo,Qre=$c.useDebugValue;qre.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Yre(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Jre(function(){function l(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,Hre(d,m))return p;var x=n(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var o=Gre(e,a[0],a[1]);return Xre(function(){s.hasValue=!0,s.value=o},[o]),Qre(o),o};function Zre(e){e()}function ene(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zre(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $E={notify(){},get:()=>[]};function tne(e,t){let r,n=$E,i=0,a=!1;function s(x){d();const v=n.subscribe(x);let g=!1;return()=>{g||(g=!0,v(),f())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(l),n=ene())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$E)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var rne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nne=rne(),ine=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ane=ine(),sne=()=>nne||ane?y.useLayoutEffect:y.useEffect,one=sne();function FE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function lne(e,t){if(FE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!FE(e[r[i]],t[r[i]]))return!1;return!0}var Gp=Symbol.for("react-redux-context"),Yp=typeof globalThis<"u"?globalThis:{};function cne(){if(!y.createContext)return{};const e=Yp[Gp]??(Yp[Gp]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var une=cne();function dne(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const l=tne(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=y.useMemo(()=>i.getState(),[i]);one(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||une;return y.createElement(o.Provider,{value:a},t)}var fne=dne,hne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function mne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Iw(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(hne.has(n)){if(e[n]==null&&t[n]==null)continue;if(!lne(e[n],t[n]))return!1}else if(!mne(e[n],t[n]))return!1;return!0}var pne=["onMouseEnter","onMouseLeave","onClick"],gne=["value","background","tooltipPosition"],yne=["id"],vne=["onMouseEnter","onClick","onMouseLeave"];function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qn.apply(null,arguments)}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xne(e,t,r){return(t=bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(e,t){if(e==null)return{};var r,n,i=_ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _ne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jne=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Bh(r,t),payload:e}]},Sne=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Bh(a,t),hide:s,type:l,color:i,unit:o}};return y.createElement(TD,{tooltipEntrySettings:u})});function Nne(e){var t=H(Oa),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=$f(a,pne),d=Cw(s,n),f=Ow(o),h=Tw(l,n);if(!i||r==null)return null;var m=Bl(i);return y.createElement(rn,{zIndex:Wre(i,xt.barBackground)},r.map((p,x)=>{var{value:v,background:g,tooltipPosition:b}=p,w=$f(p,gne);if(!g)return null;var j=d(p,x),_=f(p,x),S=h(p,x),N=It(It(It(It(It({option:i,isActive:String(x)===t},w),{},{fill:"#eee"},g),m),Ph(u,p,x)),{},{onMouseEnter:j,onMouseLeave:_,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(Lf,qn({key:"background-bar-".concat(x)},N))}))}function Ene(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return It(It({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return y.createElement(zee,{value:t?i:void 0},r)}function kne(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=H(Oa),l=H(xw),u=r&&String(a)===o&&(l==null||s===l),d=u?r:t;return u?y.createElement(rn,{zIndex:xt.activeBar},y.createElement(Lf,qn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):y.createElement(Lf,qn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Pne(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return y.createElement(Lf,qn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Ane(e){var t,{data:r,props:n}=e,i=(t=Qr(n))!==null&&t!==void 0?t:{},{id:a}=i,s=$f(i,yne),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=$f(n,vne),p=Cw(d,l),x=Ow(h),v=Tw(f,l);return r?y.createElement(y.Fragment,null,r.map((g,b)=>y.createElement(Lt,qn({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b),className:"recharts-bar-rectangle"},Ph(m,g,b),{onMouseEnter:p(g,b),onMouseLeave:x(g,b),onClick:v(g,b)}),u?y.createElement(kne,{shape:o,activeBar:u,baseProps:s,entry:g,index:b,dataKey:l}):y.createElement(Pne,{shape:o,baseProps:s,entry:g,index:b,dataKey:l})))):null}function Cne(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Qh(t,"recharts-bar-"),[m,p]=y.useState(!1),x=!m,v=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(Ene,{showLabels:x,rects:n},y.createElement(Jh,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:g,key:h},b=>{var w=b===1?n:n==null?void 0:n.map((j,_)=>{var S=f&&f[_];if(S)return It(It({},j),{},{x:Qe(S.x,j.x,b),y:Qe(S.y,j.y,b),width:Qe(S.width,j.width,b),height:Qe(S.height,j.height,b)});if(i==="horizontal"){var N=Qe(0,j.height,b),E=Qe(j.stackedBarStart,j.y,b);return It(It({},j),{},{y:E,height:N})}var A=Qe(0,j.width,b),O=Qe(j.stackedBarStart,j.x,b);return It(It({},j),{},{width:A,x:O})});return b>0&&(r.current=w??null),w==null?null:y.createElement(Lt,null,y.createElement(Ane,{props:t,data:w}))}),y.createElement(jD,{label:t.label}),t.children)}function One(e){var t=y.useRef(null);return y.createElement(Cne,{previousRectanglesRef:t,props:e})}var zD=0,Tne=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ne(e,t)}};class Ine extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var d=ue("recharts-bar",i),f=u;return y.createElement(Lt,{className:d,id:u},o&&y.createElement("defs",null,y.createElement(Vre,{clipPathId:f,xAxisId:a,yAxisId:s})),y.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},y.createElement(Nne,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),y.createElement(One,this.props)))}}var Rne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:zD,xAxisId:0,yAxisId:0,zIndex:xt.bar};function Mne(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=BD(t,r),h=Kh(),m=er(),p=Aw(e.children,Lc),x=H(b=>cie(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,y.createElement(Ure,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Tne,errorBarOffset:v},y.createElement(Ine,qn({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function Dne(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?o:s,g=d?v.scale.domain():null,b=Fq({numericAxis:v}),w=v.scale(b);return f.map((j,_)=>{var S,N,E,A,O,C;d?S=Iq(d[_+x],g):(S=Ne(j,r),Array.isArray(S)||(S=[b,S]));var M=Rre(n,zD)(S[1],_);if(t==="horizontal"){var K,[T,z]=[o.scale(S[0]),o.scale(S[1])];N=ES({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:j,index:_}),E=(K=z??T)!==null&&K!==void 0?K:void 0,A=i.size;var D=T-z;if(O=Zr(D)?0:D,C={x:N,y:h.top,width:A,height:h.height},Math.abs(M)>0&&Math.abs(O)<Math.abs(M)){var R=ut(O||M)*(Math.abs(M)-Math.abs(O));E-=R,O+=R}}else{var[P,I]=[s.scale(S[0]),s.scale(S[1])];if(N=P,E=ES({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:j,index:_}),A=I-P,O=i.size,C={x:h.left,y:E,width:h.width,height:O},Math.abs(M)>0&&Math.abs(A)<Math.abs(M)){var L=ut(A||M)*(Math.abs(M)-Math.abs(A));A+=L}}if(N==null||E==null||A==null||O==null)return null;var Q=It(It({},j),{},{stackedBarStart:w,x:N,y:E,width:A,height:O,value:d?S:S[1],payload:j,background:C,tooltipPosition:{x:N+A/2,y:E+O/2},parentViewBox:p},m&&m[_]&&m[_].props);return Q}).filter(Boolean)}function Lne(e){var t=Ot(e,Rne),r=er();return y.createElement(RD,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(Nte,{legendPayload:jne(t)}),y.createElement(Sne,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement($te,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:$q(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(rn,{zIndex:t.zIndex},y.createElement(Mne,qn({},t,{id:n})))))}var Rw=y.memo(Lne,Iw);Rw.displayName="Bar";function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){$ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ne(e,t,r){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zne=(e,t)=>t,Une=(e,t,r)=>r,Vne=(e,t,r,n)=>n,Wne=(e,t,r,n,i)=>i,Fc=k([Gb,Wne],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qne=k([Fc],e=>e==null?void 0:e.maxBarSize),Kne=(e,t,r,n,i,a)=>a,UE=(e,t,r)=>{var n=r??e;if(!ft(n))return At(n,t,0)},Hne=k([ae,Gb,zne,Une,Vne],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Gne=(e,t,r,n)=>{var i=ae(e);return i==="horizontal"?Sy(e,"yAxis",r,n):Sy(e,"xAxis",t,n)},Yne=(e,t,r)=>{var n=ae(e);return n==="horizontal"?YN(e,"xAxis",t):YN(e,"yAxis",r)},Xne=(e,t,r)=>{var n={},i=e.filter(om),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=UE(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),l=a.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=UE(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},Jne=k([Hne,TX,Yne],Xne),Qne=(e,t,r,n,i)=>{var a,s,o=Fc(e,t,r,n,i);if(o!=null){var l=ae(e),u=QR(e),{maxBarSize:d}=o,f=ft(d)?u:d,h,m;return l==="horizontal"?(h=Zs(e,"xAxis",t,n),m=Qs(e,"xAxis",t,n)):(h=Zs(e,"yAxis",r,n),m=Qs(e,"yAxis",r,n)),(a=(s=df(h,m,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},UD=(e,t,r,n)=>{var i=ae(e),a,s;return i==="horizontal"?(a=Zs(e,"xAxis",t,n),s=Qs(e,"xAxis",t,n)):(a=Zs(e,"yAxis",r,n),s=Qs(e,"yAxis",r,n)),df(a,s)};function Zne(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=At(e,r,0,!0),o,l=[];if(Be(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((g,b)=>g+(b.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var h=(r-f)/2>>0,m={offset:h-s,size:0};o=n.reduce((g,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+s,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},_=[...g,j];return m=_[_.length-1].position,_},l)}else{var p=At(t,r,0,!0);r-2*p-(a-1)*s<=0&&(s=0);var x=(r-2*p-(a-1)*s)/a;x>1&&(x>>=0);var v=Be(i)?Math.min(x,i):x;o=n.reduce((g,b,w)=>[...g,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+s)*w+(x-v)/2,size:v}}],l)}return o}}var eie=(e,t,r,n,i,a,s)=>{var o=ft(s)?t:s,l=Zne(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Mu(Mu({},u),{},{position:Mu(Mu({},u.position),{},{offset:u.position.offset-i/2})}))),l},tie=k([Jne,QR,OX,ZR,Qne,UD,qne],eie),rie=(e,t,r,n)=>Zs(e,"xAxis",t,n),nie=(e,t,r,n)=>Zs(e,"yAxis",r,n),iie=(e,t,r,n)=>Qs(e,"xAxis",t,n),aie=(e,t,r,n)=>Qs(e,"yAxis",r,n),sie=k([tie,Fc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),oie=(e,t)=>{var r=qb(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},lie=k([Gne,Fc],oie),cie=k([tt,ob,rie,nie,iie,aie,sie,ae,Db,UD,lie,Fc,Kne],(e,t,r,n,i,a,s,o,l,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,x+1),g!=null)return Dne({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),VD=e=>{var{chartData:t}=e,r=ke(),n=er();return y.useEffect(()=>n?()=>{}:(r(oE(t)),()=>{r(oE(void 0))}),[t,r,n]),null},VE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},WD=Zt({name:"brush",initialState:VE,reducers:{setBrushSettings(e,t){return t.payload==null?VE:t.payload}}}),{setBrushSettings:xle}=WD.actions,uie=WD.reducer;function die(e,t,r){return(t=fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mw{static create(t){return new Mw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}die(Mw,"EPS",1e-4);function mie(e){return(e%180+180)%180}var pie=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mie(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},gie={dots:[],areas:[],lines:[]},qD=Zt({name:"referenceElements",initialState:gie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Xr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Xr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Xr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ble,removeDot:wle,addArea:_le,removeArea:jle,addLine:Sle,removeLine:Nle}=qD.actions,yie=qD.reducer,vie=y.createContext(void 0),xie=e=>{var{children:t}=e,[r]=y.useState("".concat(zl("recharts"),"-clip")),n=$D();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return y.createElement(vie.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function KD(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function bie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pie(n,r)}function wie(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Ff(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function _ie(e,t){return KD(e,t+1)}function jie(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:KD(n,u)};var x=l,v,g=()=>(v===void 0&&(v=r(p,x)),v),b=p.coordinate,w=l===0||Ff(e,b,g,d,o);w||(l=0,d=s,u+=1),w&&(d=b+e*(g()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){Sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t,r){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kie(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var m=a[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*x()/2-l);a[h]=m=St(St({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[h]=m=St(St({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Ff(e,m.tickCoord,x,o,l);g&&(l=m.tickCoord-e*(x()/2+i),a[h]=St(St({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function Pie(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=St(St({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Ff(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=St(St({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,x=function(b){var w=s[b],j,_=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var S=e*(w.coordinate-e*_()/2-l);s[b]=w=St(St({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else s[b]=w=St(St({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=Ff(e,w.tickCoord,_,l,u);N&&(l=w.tickCoord+e*(_()/2+i),s[b]=St(St({},w),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return s}function Dw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(Y(l)||_c.isSsr){var h;return(h=_ie(i,Y(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",x=d&&p==="width"?cl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var _=typeof u=="function"?u(w.value,j):w.value;return p==="width"?bie(cl(_,{fontSize:t,letterSpacing:r}),x,f):cl(_,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?ut(i[1].coordinate-i[0].coordinate):1,b=wie(a,g,p);return l==="equidistantPreserveStart"?jie(g,b,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Pie(g,b,v,i,s,l==="preserveStartEnd"):m=kie(g,b,v,i,s),m.filter(w=>w.isShow))}var Aie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},Cie=["axisLine","width","height","className","hide","ticks","axisType"];function Oie(e,t){if(e==null)return{};var r,n,i=Tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:xt.axis};function Die(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=qe(qe(qe({},l),Qr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=qe(qe({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=qe(qe({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return y.createElement("line",Ta({},u,{className:ue("recharts-cartesian-axis-line",ka(o,"className"))}))}function Lie(e,t,r,n,i,a,s,o,l){var u,d,f,h,m,p,x=o?-1:1,v=e.tickSize||s,g=Y(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!o*i,f=h-x*v,p=f-x*l,m=g;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-x*v,m=u-x*l,p=g;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+x*v,m=u+x*l,p=g;break;default:u=d=e.coordinate,h=r+ +o*i,f=h+x*v,p=f+x*l,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function $ie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Fie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Bie(e){var{option:t,tickProps:r,value:n}=e,i,a=ue(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,qe(qe({},r),{},{className:a}));else if(typeof t=="function")i=t(qe(qe({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ue(s,t==null?void 0:t.className)),i=y.createElement(mm,Ta({},r,{className:s}),n)}return i}var zie=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:v,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:j,events:_,axisType:S}=e,N=Dw(qe(qe({},j),{},{ticks:r}),b,w),E=$ie(d,f),A=Fie(d,f),O=Qr(j),C=Bl(n),M={};typeof i=="object"&&(M=i);var K=qe(qe({},O),{},{fill:"none"},M),T=N.map(R=>qe({entry:R},Lie(R,h,m,p,x,d,v,f,g))),z=T.map(R=>{var{entry:P,line:I}=R;return y.createElement(Lt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},i&&y.createElement("line",Ta({},K,I,{className:ue("recharts-cartesian-axis-tick-line",ka(i,"className"))})))}),D=T.map((R,P)=>{var{entry:I,tick:L}=R,Q=qe(qe(qe(qe({textAnchor:E,verticalAnchor:A},O),{},{stroke:"none",fill:a},C),L),{},{index:P,payload:I,visibleTicksCount:N.length,tickFormatter:s,padding:l},u);return y.createElement(Lt,Ta({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Ph(_,I,P)),n&&y.createElement(Bie,{option:n,tickProps:Q,value:"".concat(typeof s=="function"?s(I.value,P):I.value).concat(o||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},D.length>0&&y.createElement(rn,{zIndex:xt.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},D)),z.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},z))}),Uie=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Oie(e,Cie),[d,f]=y.useState(""),[h,m]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Aie({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=y.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),j=w.fontSize,_=w.letterSpacing;(j!==d||_!==h)&&(f(j),m(_))}}},[d,h]);return s||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(rn,{zIndex:e.zIndex},y.createElement(Lt,{className:ue("recharts-cartesian-axis",a)},y.createElement(Die,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qr(e)}),y.createElement(zie,{ref:x,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(See,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(Ree,{label:e.label,labelRef:e.labelRef}),e.children)))}),Lw=y.forwardRef((e,t)=>{var r=Ot(e,Tn);return y.createElement(Uie,Ta({},r,{ref:t}))});Lw.displayName="CartesianAxis";var Vie=["x1","y1","x2","y2","key"],Wie=["offset"],qie=["xAxisId","yAxisId"],Kie=["xAxisId","yAxisId"];function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){Hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t,r){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}function Bf(e,t){if(e==null)return{};var r,n,i=Xie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return y.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HD(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,d=Bf(r,Vie),f=(i=Qr(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Bf(f,Wie);n=y.createElement("line",ma({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function Qie(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Bf(e,qie),l=i.map((u,d)=>{var f=kt(kt({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y.createElement(HD,{key:"line-".concat(d),option:n,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Zie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Bf(e,Kie),l=i.map((u,d)=>{var f=kt(kt({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y.createElement(HD,{option:n,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function eae(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tae(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var rae=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return xI(Dw(kt(kt(kt({},Tn),r),{},{ticks:bI(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},nae=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return xI(Dw(kt(kt(kt({},Tn),r),{},{ticks:bI(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},iae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:xt.grid};function $w(e){var t=TI(),r=II(),n=OI(),i=kt(kt({},Ot(e,iae)),{},{x:Y(e.x)?e.x:n.left,y:Y(e.y)?e.y:n.top,width:Y(e.width)?e.width:n.width,height:Y(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=er(),x=H(A=>XN(A,"xAxis",a,p)),v=H(A=>XN(A,"yAxis",s,p));if(!pn(u)||!pn(d)||!Y(o)||!Y(l))return null;var g=i.verticalCoordinatesGenerator||rae,b=i.horizontalCoordinatesGenerator||nae,{horizontalPoints:w,verticalPoints:j}=i;if((!w||!w.length)&&typeof b=="function"){var _=h&&h.length,S=b({yAxis:v?kt(kt({},v),{},{ticks:_?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:f);ff(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,E=g({xAxis:x?kt(kt({},x),{},{ticks:N?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);ff(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return y.createElement(rn,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Jie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(eae,ma({},i,{horizontalPoints:w})),y.createElement(tae,ma({},i,{verticalPoints:j})),y.createElement(Qie,ma({},i,{offset:n,horizontalPoints:w,xAxis:x,yAxis:v})),y.createElement(Zie,ma({},i,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}$w.displayName="CartesianGrid";var aae=["domain","range"],sae=["domain","range"];function HE(e,t){if(e==null)return{};var r,n,i=oae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function GD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=HE(e,aae),{domain:a,range:s}=t,o=HE(t,sae);return!GE(r,a)||!GE(n,s)?!1:Iw(i,o)}var lae=["dangerouslySetInnerHTML","ticks"],cae=["id"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function YE(e,t){if(e==null)return{};var r,n,i=uae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dae(e){var t=ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(pre(e)):r.current!==e&&t(gre({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(yre(r.current)),r.current=null)},[t]),null}var fae=e=>{var{xAxisId:t,className:r}=e,n=H(ob),i=er(),a="xAxis",s=H(v=>bo(v,a,t,i)),o=H(v=>OM(v,a,t,i)),l=H(v=>kM(v,t)),u=H(v=>AJ(v,t)),d=H(v=>lM(v,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=YE(e,lae),{id:p}=d,x=YE(d,cae);return y.createElement(Lw,Iy({},m,x,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:ue("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},hae={allowDataOverflow:at.allowDataOverflow,allowDecimals:at.allowDecimals,allowDuplicatedCategory:at.allowDuplicatedCategory,angle:at.angle,axisLine:Tn.axisLine,height:at.height,hide:!1,includeHidden:at.includeHidden,interval:at.interval,minTickGap:at.minTickGap,mirror:at.mirror,orientation:at.orientation,padding:at.padding,reversed:at.reversed,scale:at.scale,tick:at.tick,tickCount:at.tickCount,tickLine:Tn.tickLine,tickSize:Tn.tickSize,type:at.type,xAxisId:0},mae=e=>{var t=Ot(e,hae);return y.createElement(y.Fragment,null,y.createElement(dae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(fae,t))},Fw=y.memo(mae,GD);Fw.displayName="XAxis";var pae=["dangerouslySetInnerHTML","ticks"],gae=["id"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function XE(e,t){if(e==null)return{};var r,n,i=yae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vae(e){var t=ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(vre(e)):r.current!==e&&t(xre({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(bre(r.current)),r.current=null)},[t]),null}var xae=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),s=y.useRef(null),o=H(ob),l=er(),u=ke(),d="yAxis",f=H(_=>bo(_,d,t,l)),h=H(_=>PM(_,t)),m=H(_=>OJ(_,t)),p=H(_=>OM(_,d,t,l)),x=H(_=>cM(_,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Sw(i)||y.isValidElement(i)||x==null)){var _=a.current;if(_){var S=_.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(wre({id:t,width:S}))}}},[p,h,u,i,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=e,b=XE(e,pae),{id:w}=x,j=XE(x,gae);return y.createElement(Lw,Ry({},b,j,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ue("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:p,axisType:d}))},bae={allowDataOverflow:st.allowDataOverflow,allowDecimals:st.allowDecimals,allowDuplicatedCategory:st.allowDuplicatedCategory,angle:st.angle,axisLine:Tn.axisLine,hide:!1,includeHidden:st.includeHidden,interval:st.interval,minTickGap:st.minTickGap,mirror:st.mirror,orientation:st.orientation,padding:st.padding,reversed:st.reversed,scale:st.scale,tick:st.tick,tickCount:st.tickCount,tickLine:Tn.tickLine,tickSize:Tn.tickSize,type:st.type,width:st.width,yAxisId:0},wae=e=>{var t=Ot(e,bae);return y.createElement(y.Fragment,null,y.createElement(vae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(xae,t))},Bw=y.memo(wae,GD);Bw.displayName="YAxis";var _ae=(e,t)=>t,zw=k([_ae,ae,sM,nt,HM,ri,KQ,tt],ZQ),Uw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},YD=Or("mouseClick"),XD=xc();XD.startListening({actionCreator:YD,effect:(e,t)=>{var r=e.payload,n=zw(t.getState(),Uw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var My=Or("mouseMove"),JD=xc(),Du=null;JD.startListening({actionCreator:My,effect:(e,t)=>{var r=e.payload;Du!==null&&cancelAnimationFrame(Du);var n=Uw(r);Du=requestAnimationFrame(()=>{var i=t.getState(),a=hw(i,i.tooltip.settings.shared);if(a==="axis"){var s=zw(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(FM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch($M())}Du=null})}});var JE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},QD=Zt({name:"rootProps",initialState:JE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),jae=QD.reducer,{updateOptions:Sae}=QD.actions,ZD=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Nae}=ZD.actions,Eae=ZD.reducer,e4=Or("keyDown"),t4=Or("focus"),Vw=xc();Vw.startListening({actionCreator:e4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=mw(i,_o(r),Oc(r),Mc(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=ri(r);if(a==="Enter"){var u=If(r,"axis","hover",String(i.index));t.dispatch(Ey({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=MJ(r),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=If(r,"axis","hover",String(m));t.dispatch(Ey({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});Vw.startListening({actionCreator:t4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=If(r,"axis","hover",String(a));t.dispatch(Ey({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var xr=Or("externalEvent"),r4=xc(),Xp=new Map;r4.startListening({actionCreator:xr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Xp.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:OQ(o),activeDataKey:xw(o),activeIndex:Oa(o),activeLabel:XM(o),activeTooltipIndex:Oa(o),isTooltipActive:TQ(o)};r(l,n)}finally{Xp.delete(i)}});Xp.set(i,s)}}});var kae=k([wo],e=>e.tooltipItemPayloads),Pae=k([kae,Ic,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),n4=Or("touchMove"),i4=xc();i4.startListening({actionCreator:n4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=hw(n,n.tooltip.settings.shared);if(i==="axis"){var a=zw(n,Uw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(FM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(_I),d=(s=l.getAttribute(jI))!==null&&s!==void 0?s:void 0,f=Pae(t.getState(),u,d);t.dispatch(LM({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Aae=WT({brush:uie,cartesianAxis:_re,chartData:AZ,errorBars:Dre,graphicalItems:Dte,layout:kq,legend:AK,options:SZ,polarAxis:Qee,polarOptions:Eae,referenceElements:yie,rootProps:jae,tooltip:KJ,zIndex:hZ}),Cae=function(t){return QW({reducer:Aae,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([XD.middleware,JD.middleware,Vw.middleware,r4.middleware,i4.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(aI({type:"raf"}))},devTools:_c.devToolsEnabled})};function a4(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=er(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=Cae(t));var s=Xx;return y.createElement(fne,{context:s,store:a.current},r)}function Oae(e){var{layout:t,margin:r}=e,n=ke(),i=er();return y.useEffect(()=>{i||(n(Sq(t)),n(jq(r)))},[n,i,t,r]),null}var s4=y.memo(Oae,Iw);function o4(e){var t=ke();return y.useEffect(()=>{t(Sae(e))},[t,e]),null}function QE(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=ID("".concat(n).concat(t)),a=ke();return y.useLayoutEffect(()=>(a(dZ({zIndex:t,elementId:i,isPanorama:r})),()=>{a(fZ({zIndex:t,isPanorama:r}))}),[a,t,i,r]),y.createElement("g",{tabIndex:-1,id:i})}function ZE(e){var{children:t,isPanorama:r}=e,n=H(tZ);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return y.createElement(y.Fragment,null,i.map(s=>y.createElement(QE,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>y.createElement(QE,{key:s,zIndex:s,isPanorama:r})))}var Tae=["children"];function Iae(e,t){if(e==null)return{};var r,n,i=Rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zf.apply(null,arguments)}var Mae={width:"100%",height:"100%",display:"block"},Dae=y.forwardRef((e,t)=>{var r=TI(),n=II(),i=WI();if(!pn(r)||!pn(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),y.createElement(K2,zf({},s,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:Mae,ref:t}),a)}),Lae=e=>{var{children:t}=e,r=H(Wh);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return y.createElement(K2,{width:n,height:i,x:s,y:a},t)},ek=y.forwardRef((e,t)=>{var{children:r}=e,n=Iae(e,Tae),i=er();return i?y.createElement(Lae,null,y.createElement(ZE,{isPanorama:!0},r)):y.createElement(Dae,zf({ref:t},n),y.createElement(ZE,{isPanorama:!1},r))});function $ae(){var e=ke(),[t,r]=y.useState(null),n=H(qq);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Be(a)&&a!==n&&e(Eq(a))}},[t,e,n]),r}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Uae(e,"string");return typeof t=="symbol"?t:t+""}function Uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ia.apply(null,arguments)}var Vae=()=>($Z(),null);function Uf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Wae=y.forwardRef((e,t)=>{var r,n,i=y.useRef(null),[a,s]=y.useState({containerWidth:Uf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Uf((n=e.style)===null||n===void 0?void 0:n.height)}),o=y.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:x,height:v}=p[0].contentRect;o(x,v)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(Hh,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Ia({ref:l},e)))}),qae=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=y.useState({containerWidth:Uf(r),containerHeight:Uf(n)}),s=y.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return y.createElement(y.Fragment,null,y.createElement(Hh,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Ia({ref:o},e)))}),Kae=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(Hh,{width:r,height:n}),y.createElement("div",Ia({ref:t},e)))}),Hae=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Fn(r)||Fn(n)?y.createElement(qae,Ia({},e,{ref:t})):y.createElement(Kae,Ia({},e,{ref:t}))});function Gae(e){return e===!0?Wae:Hae}var Yae=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,j=y.useRef(null),_=ke(),[S,N]=y.useState(null),[E,A]=y.useState(null),O=$ae(),C=lb(),M=(C==null?void 0:C.width)>0?C.width:g,K=(C==null?void 0:C.height)>0?C.height:i,T=y.useCallback($=>{O($),typeof t=="function"&&t($),N($),A($),$!=null&&(j.current=$)},[O,t,N,A]),z=y.useCallback($=>{_(YD($)),_(xr({handler:a,reactEvent:$}))},[_,a]),D=y.useCallback($=>{_(My($)),_(xr({handler:u,reactEvent:$}))},[_,u]),R=y.useCallback($=>{_($M()),_(xr({handler:d,reactEvent:$}))},[_,d]),P=y.useCallback($=>{_(My($)),_(xr({handler:f,reactEvent:$}))},[_,f]),I=y.useCallback(()=>{_(t4())},[_]),L=y.useCallback($=>{_(e4($.key))},[_]),Q=y.useCallback($=>{_(xr({handler:s,reactEvent:$}))},[_,s]),se=y.useCallback($=>{_(xr({handler:o,reactEvent:$}))},[_,o]),zt=y.useCallback($=>{_(xr({handler:l,reactEvent:$}))},[_,l]),ze=y.useCallback($=>{_(xr({handler:h,reactEvent:$}))},[_,h]),Mr=y.useCallback($=>{_(xr({handler:x,reactEvent:$}))},[_,x]),tr=y.useCallback($=>{w&&_(n4($)),_(xr({handler:p,reactEvent:$}))},[_,w,p]),Ye=y.useCallback($=>{_(xr({handler:m,reactEvent:$}))},[_,m]),Pm=Gae(b);return y.createElement(nD.Provider,{value:S},y.createElement(W7.Provider,{value:E},y.createElement(Pm,{width:M??(v==null?void 0:v.width),height:K??(v==null?void 0:v.height),className:ue("recharts-wrapper",n),style:Fae({position:"relative",cursor:"default",width:M,height:K},v),onClick:z,onContextMenu:Q,onDoubleClick:se,onFocus:I,onKeyDown:L,onMouseDown:zt,onMouseEnter:D,onMouseLeave:R,onMouseMove:P,onMouseUp:ze,onTouchEnd:Ye,onTouchMove:tr,onTouchStart:Mr,ref:T},y.createElement(Vae,null),r)))}),Xae=["width","height","responsive","children","className","style","compact","title","desc"];function Jae(e,t){if(e==null)return{};var r,n,i=Qae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l4=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=Jae(e,Xae),h=Qr(f);return l?y.createElement(y.Fragment,null,y.createElement(Hh,{width:r,height:n}),y.createElement(ek,{otherAttributes:h,title:u,desc:d},a)):y.createElement(Yae,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(ek,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(xie,null,a)))});function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}var Zae={top:5,right:5,bottom:5,left:5},ese={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Zae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tse=y.forwardRef(function(t,r){var n,i=Ot(t.categoricalChartProps,ese),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return y.createElement(a4,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},y.createElement(VD,{chartData:u.data}),y.createElement(s4,{layout:i.layout,margin:i.margin}),y.createElement(o4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(l4,Dy({},i,{ref:r})))}),rse=["axis","item"],c4=y.forwardRef((e,t)=>y.createElement(tse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:aD,categoricalChartProps:e,ref:t}));function nse(e){var t=ke();return y.useEffect(()=>{t(Nae(e))},[t,e]),null}var ise=["layout"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function ase(e,t){if(e==null)return{};var r,n,i=sse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ose={top:5,right:5,bottom:5,left:5},u4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ose,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lse=y.forwardRef(function(t,r){var n,i=Ot(t.categoricalChartProps,u4),{layout:a}=i,s=ase(i,ise),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(a4,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},y.createElement(VD,{chartData:i.data}),y.createElement(s4,{layout:a,margin:i.margin}),y.createElement(o4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(nse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(l4,Ly({},s,{ref:r})))});function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fse=["item"],hse=nk(nk({},u4),{},{layout:"centric",startAngle:0,endAngle:360}),mse=y.forwardRef((e,t)=>{var r=Ot(e,hse);return y.createElement(lse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fse,tooltipPayloadSearcher:aD,categoricalChartProps:r,ref:t})});const pse=()=>{const[e,t]=y.useState({loadsThisMonth:{total_count:0,total_revenue:0},receivables:{total_outstanding:0,count_pending:0},topCustomers:[],topCarriers:[],agentLeaderboard:[],weeklyRevenue:[],loadStatus:[]}),[r,n]=y.useState(!0);y.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const[s,o,l,u,d,f,h]=await Promise.all([xn.getLoadsThisMonth(),xn.getOutstandingReceivables(),xn.getTopCustomers(5),xn.getTopCarriers(5),xn.getAgentLeaderboard(),xn.getWeeklyRevenue(12),xn.getLoadStatusBreakdown()]);t({loadsThisMonth:s.data||{total_count:0,total_revenue:0},receivables:o.data||{total_outstanding:0,count_pending:0},topCustomers:l.data||[],topCarriers:u.data||[],agentLeaderboard:d.data||[],weeklyRevenue:f.data||[],loadStatus:h.data||[]})}catch(s){console.error("Error loading dashboard:",s)}n(!1)},a=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return r?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx(h0,{className:"animate-spin text-blue-500 mx-auto mb-4",size:48}),c.jsx("p",{className:"text-gray-400",children:"Loading dashboard..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-gray-400",children:"Real-time business metrics and analytics"})]}),c.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(h0,{size:18}),"Refresh"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:c.jsx(lO,{className:"text-blue-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Loads This Month"})]}),c.jsx("p",{className:"text-3xl font-bold",children:e.loadsThisMonth.total_count}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active shipments"})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:c.jsx(An,{className:"text-green-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Revenue This Month"})]}),c.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(e.loadsThisMonth.total_revenue||0).toLocaleString()]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total billing"})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(ex,{className:"text-yellow-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Outstanding AR"})]}),c.jsxs("p",{className:"text-3xl font-bold",children:["$",parseFloat(e.receivables.total_outstanding||0).toLocaleString()]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Accounts receivable"})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(Il,{className:"text-purple-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Invoices"})]}),c.jsx("p",{className:"text-3xl font-bold",children:e.receivables.count_pending}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting payment"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Revenue (Last 12 Weeks)"}),c.jsx(ty,{width:"100%",height:300,children:c.jsxs(c4,{data:e.weeklyRevenue,children:[c.jsx($w,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),c.jsx(Fw,{dataKey:"week_label",stroke:"#9CA3AF",tickLine:!1,axisLine:!1,style:{fontSize:"12px"}}),c.jsx(Bw,{stroke:"#9CA3AF",tickLine:!1,axisLine:!1,style:{fontSize:"12px"}}),c.jsx(Ay,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:s=>[`$${s.toLocaleString()}`,"Revenue"]}),c.jsx(Rw,{dataKey:"revenue",fill:"#3B82F6",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Load Status Breakdown"}),c.jsx(ty,{width:"100%",height:300,children:c.jsxs(mse,{children:[c.jsx(DD,{data:e.loadStatus,dataKey:"count",nameKey:"status",cx:"50%",cy:"50%",outerRadius:100,label:s=>`${s.status}: ${s.count}`,labelLine:!1,children:e.loadStatus.map((s,o)=>c.jsx(Lc,{fill:a[o%a.length]},`cell-${o}`))}),c.jsx(Ay,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px"}})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Customers by Revenue"}),c.jsx("div",{className:"space-y-2",children:e.topCustomers.length===0?c.jsx("p",{className:"text-center py-8 text-gray-400",children:"No customer data available"}):e.topCustomers.map((s,o)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900/50 rounded-lg hover:bg-gray-900 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-400 font-bold text-sm",children:o+1})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:s.customer_name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[s.load_count," loads"]})]})]}),c.jsxs("span",{className:"text-green-400 font-semibold",children:["$",parseFloat(s.total_revenue||0).toLocaleString()]})]},o))})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Carriers by Volume"}),c.jsx("div",{className:"space-y-2",children:e.topCarriers.length===0?c.jsx("p",{className:"text-center py-8 text-gray-400",children:"No carrier data available"}):e.topCarriers.map((s,o)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900/50 rounded-lg hover:bg-gray-900 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-purple-400 font-bold text-sm",children:o+1})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:s.carrier_name}),c.jsxs("p",{className:"text-xs text-gray-500",children:["$",parseFloat(s.total_cost||0).toLocaleString()," cost"]})]})]}),c.jsxs("span",{className:"text-blue-400 font-semibold",children:[s.load_count," loads"]})]},o))})]})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Leaderboard"}),e.agentLeaderboard.length===0?c.jsx("p",{className:"text-center py-8 text-gray-400",children:"No agent data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-800",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Rank"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Agent"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Loads"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Revenue"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Profit"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Commission %"})]})}),c.jsx("tbody",{children:e.agentLeaderboard.map((s,o)=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors",children:[c.jsx("td",{className:"py-3 px-4",children:c.jsx("div",{className:"w-6 h-6 bg-blue-500/20 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-400 font-bold text-xs",children:o+1})})}),c.jsx("td",{className:"py-3 px-4 font-medium",children:s.agent_name}),c.jsx("td",{className:"text-center py-3 px-4",children:s.total_loads}),c.jsxs("td",{className:"text-center py-3 px-4 text-green-400",children:["$",parseFloat(s.total_revenue||0).toLocaleString()]}),c.jsxs("td",{className:"text-center py-3 px-4 text-blue-400",children:["$",parseFloat(s.total_profit||0).toLocaleString()]}),c.jsxs("td",{className:"text-center py-3 px-4",children:[s.commission_rate,"%"]})]},o))})]})})]})]})},tc=({columns:e,data:t,actions:r,onAction:n})=>c.jsx("div",{className:"overflow-x-auto bg-[#111827] rounded-xl border border-gray-800 shadow-lg",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-800/50 border-b border-gray-700",children:[e.map((i,a)=>c.jsx("th",{className:"p-4 text-sm font-semibold text-gray-300",children:i.header},a)),r&&c.jsx("th",{className:"p-4 text-sm font-semibold text-gray-300 text-right",children:"Actions"})]})}),c.jsx("tbody",{children:t.length>0?t.map((i,a)=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/30 transition-colors duration-150",children:[e.map((s,o)=>c.jsx("td",{className:"p-4 text-sm text-gray-400",children:s.render?s.render(i):i[s.accessor]},o)),r&&c.jsx("td",{className:"p-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.includes("view")&&c.jsx("button",{onClick:()=>n("view",i),className:"p-2 text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",title:"View",children:c.jsx(oO,{size:18})}),r.includes("edit")&&c.jsx("button",{onClick:()=>n("edit",i),className:"p-2 text-yellow-400 hover:bg-yellow-500/10 rounded-lg transition-colors",title:"Edit",children:c.jsx(SF,{size:18})}),r.includes("delete")&&c.jsx("button",{onClick:()=>n("delete",i),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:c.jsx(yh,{size:18})})]})})]},a)):c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+(r?1:0),className:"p-8 text-center text-gray-500",children:"No data available"})})})]})}),d4=({isOpen:e,onClose:t,title:r,children:n})=>e?c.jsx(Wz,{children:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs(M0.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-[#111827] border border-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),c.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:c.jsx(uc,{size:20})})]}),c.jsx("div",{className:"p-6",children:n})]})})}):null,Jp={async fetchCarriers(e={}){try{let t=U.from("tms_carriers").select("*").order("created_at",{ascending:!1});e.search&&(t=t.or(`name.ilike.%${e.search}%,mc_number.ilike.%${e.search}%,dot_number.ilike.%${e.search}%`)),e.status&&(t=t.eq("status",e.status));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,name:a.name,mcNumber:a.mc_number,dotNumber:a.dot_number,contactName:a.contact_name,email:a.email,phone:a.phone,insuranceExpiry:a.insurance_expiry,creditStatus:a.credit_status,status:a.status,createdAt:a.created_at,updatedAt:a.updated_at}))}}catch(t){return console.error("Error fetching carriers:",t),{success:!1,error:t.message}}},async createCarrier(e){try{const t={name:e.name,mc_number:e.mcNumber||null,dot_number:e.dotNumber||null,contact_name:e.contactName||null,email:e.email||null,phone:e.phone||null,insurance_expiry:e.insuranceExpiry||null,credit_status:e.creditStatus||"Approved",status:e.status||"Active"},{data:r,error:n}=await U.from("tms_carriers").insert([t]).select().single();if(n)throw n;return{success:!0,data:{id:r.id,name:r.name,mcNumber:r.mc_number,dotNumber:r.dot_number,contactName:r.contact_name,email:r.email,phone:r.phone,insuranceExpiry:r.insurance_expiry,creditStatus:r.credit_status,status:r.status,createdAt:r.created_at,updatedAt:r.updated_at}}}catch(t){return console.error("Error creating carrier:",t),{success:!1,error:t.message}}},async updateCarrier(e,t){try{const r={name:t.name,mc_number:t.mcNumber||null,dot_number:t.dotNumber||null,contact_name:t.contactName||null,email:t.email||null,phone:t.phone||null,insurance_expiry:t.insuranceExpiry||null,credit_status:t.creditStatus,status:t.status,updated_at:new Date().toISOString()},{data:n,error:i}=await U.from("tms_carriers").update(r).eq("id",e).select().single();if(i)throw i;return{success:!0,data:{id:n.id,name:n.name,mcNumber:n.mc_number,dotNumber:n.dot_number,contactName:n.contact_name,email:n.email,phone:n.phone,insuranceExpiry:n.insurance_expiry,creditStatus:n.credit_status,status:n.status,createdAt:n.created_at,updatedAt:n.updated_at}}}catch(r){return console.error("Error updating carrier:",r),{success:!1,error:r.message}}},async deleteCarrier(e){try{const{error:t}=await U.from("tms_carriers").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting carrier:",t),{success:!1,error:t.message}}},async getCarrierWithLoads(e){try{const{data:t,error:r}=await U.from("tms_carriers").select("*").eq("id",e).single();if(r)throw r;const{data:n,error:i}=await U.from("loads").select("*").eq("carrier_id",e).order("created_at",{ascending:!1});if(i)throw i;return{success:!0,data:{carrier:{id:t.id,name:t.name,mcNumber:t.mc_number,dotNumber:t.dot_number,status:t.status,insuranceExpiry:t.insurance_expiry},loads:n.map(a=>({id:a.id,pickupAddress:a.pickup_address,deliveryAddress:a.delivery_address,carrierCost:a.carrier_cost,status:a.status,createdAt:a.created_at}))}}}catch(t){return console.error("Error fetching carrier with loads:",t),{success:!1,error:t.message}}}},gse=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(""),[s,o]=y.useState("All"),[l,u]=y.useState(!1),[d,f]=y.useState({name:"",mcNumber:"",dotNumber:"",contactName:"",email:"",phone:"",insuranceExpiry:""});y.useEffect(()=>{h()},[]);const h=async()=>{n(!0);const g=await Jp.fetchCarriers({});g.success&&t(g.data),n(!1)},m=e.filter(g=>{const b=g.name.toLowerCase().includes(i.toLowerCase())||g.mcNumber&&g.mcNumber.includes(i)||g.dotNumber&&g.dotNumber.includes(i),w=s==="All"||g.creditStatus===s;return b&&w}),p=[{header:"Carrier Name",accessor:"name"},{header:"MC Number",accessor:"mcNumber"},{header:"DOT",accessor:"dotNumber"},{header:"Contact",accessor:"contactName"},{header:"Email",accessor:"email"},{header:"Insurance Expiry",accessor:"insuranceExpiry",render:g=>g.insuranceExpiry?new Date(g.insuranceExpiry).toLocaleDateString():"-"},{header:"Status",accessor:"status",render:g=>c.jsx("span",{className:`px-2 py-1 rounded text-xs border ${g.status==="Active"?"bg-green-500/20 text-green-400 border-green-500/30":g.status==="Pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:g.status})},{header:"Credit Status",accessor:"creditStatus",render:g=>c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g.creditStatus==="Approved"?"bg-green-500/10 text-green-400":g.creditStatus==="Review"?"bg-yellow-500/10 text-yellow-400":"bg-red-500/10 text-red-400"}`,children:g.creditStatus})}],x=async g=>{g.preventDefault();const b=await Jp.createCarrier(d);b.success?(t([...e,b.data]),u(!1),f({name:"",mcNumber:"",dotNumber:"",contactName:"",email:"",phone:"",insuranceExpiry:""})):alert("Error creating carrier: "+b.error)},v=async(g,b)=>{g==="view"?alert(`Viewing loads for ${b.name}`):g==="edit"?console.log("Edit carrier:",b):g==="delete"&&confirm(`Delete carrier ${b.name}?`)&&(await Jp.deleteCarrier(b.id)).success&&t(e.filter(j=>j.id!==b.id))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Carriers Overview"}),c.jsx("p",{className:"text-gray-400",children:"Manage your carrier network and compliance"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300",children:[c.jsx(Zv,{size:18}),c.jsx("span",{children:"Export CSV"})]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300",children:[c.jsx(Z8,{size:18}),c.jsx("span",{children:"Send Setup"})]}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium shadow-lg shadow-blue-600/20",children:[c.jsx(Ci,{size:18}),c.jsx("span",{children:"Add Carrier"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-[#111827] p-4 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:20}),c.jsx("input",{type:"text",placeholder:"Search by Carrier Name or MC#...",value:i,onChange:g=>a(g.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bs,{className:"text-gray-500",size:20}),c.jsxs("select",{value:s,onChange:g=>o(g.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-all",children:[c.jsx("option",{value:"All",children:"All Statuses"}),c.jsx("option",{value:"Approved",children:"Approved"}),c.jsx("option",{value:"Review",children:"Review"}),c.jsx("option",{value:"Denied",children:"Denied"})]})]})]}),r?c.jsx("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-12 text-center",children:c.jsx("p",{className:"text-gray-400",children:"Loading carriers..."})}):c.jsx(tc,{columns:p,data:m,actions:["view","edit","delete"],onAction:v}),c.jsx(d4,{isOpen:l,onClose:()=>u(!1),title:"Add New Carrier",children:c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Carrier Name"}),c.jsx("input",{required:!0,type:"text",value:d.name,onChange:g=>f({...d,name:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MC Number"}),c.jsx("input",{required:!0,type:"text",value:d.mcNumber,onChange:g=>f({...d,mcNumber:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"MC123456"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"DOT Number"}),c.jsx("input",{required:!0,type:"text",value:d.dotNumber,onChange:g=>f({...d,dotNumber:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"DOT789012"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Contact Name"}),c.jsx("input",{required:!0,type:"text",value:d.contactName,onChange:g=>f({...d,contactName:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:d.phone,onChange:g=>f({...d,phone:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"555-1234"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),c.jsx("input",{required:!0,type:"email",value:d.email,onChange:g=>f({...d,email:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Insurance Expiry"}),c.jsx("input",{type:"date",value:d.insuranceExpiry,onChange:g=>f({...d,insuranceExpiry:g.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),c.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Add Carrier"})]})]})})]})},Qp={async fetchCustomers(e={}){try{let t=U.from("tms_customers").select("*").order("created_at",{ascending:!1});e.search&&(t=t.or(`name.ilike.%${e.search}%,email.ilike.%${e.search}%,contact_name.ilike.%${e.search}%`)),e.creditStatus&&(t=t.eq("credit_status",e.creditStatus));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,name:a.name,contactName:a.contact_name,email:a.email,phone:a.phone,address:a.address,paymentTerms:a.payment_terms,creditStatus:a.credit_status,avgRate:a.avg_rate,createdAt:a.created_at,updatedAt:a.updated_at}))}}catch(t){return console.error("Error fetching customers:",t),{success:!1,error:t.message}}},async createCustomer(e){try{const t={name:e.name,contact_name:e.contactName||null,email:e.email||null,phone:e.phone||null,address:e.address||null,payment_terms:e.paymentTerms||"Net 30",credit_status:e.creditStatus||"Approved",avg_rate:e.avgRate||null},{data:r,error:n}=await U.from("tms_customers").insert([t]).select().single();if(n)throw n;return{success:!0,data:{id:r.id,name:r.name,contactName:r.contact_name,email:r.email,phone:r.phone,address:r.address,paymentTerms:r.payment_terms,creditStatus:r.credit_status,avgRate:r.avg_rate,createdAt:r.created_at,updatedAt:r.updated_at}}}catch(t){return console.error("Error creating customer:",t),{success:!1,error:t.message}}},async updateCustomer(e,t){try{const r={name:t.name,contact_name:t.contactName||null,email:t.email||null,phone:t.phone||null,address:t.address||null,payment_terms:t.paymentTerms,credit_status:t.creditStatus,avg_rate:t.avgRate||null,updated_at:new Date().toISOString()},{data:n,error:i}=await U.from("tms_customers").update(r).eq("id",e).select().single();if(i)throw i;return{success:!0,data:{id:n.id,name:n.name,contactName:n.contact_name,email:n.email,phone:n.phone,address:n.address,paymentTerms:n.payment_terms,creditStatus:n.credit_status,avgRate:n.avg_rate,createdAt:n.created_at,updatedAt:n.updated_at}}}catch(r){return console.error("Error updating customer:",r),{success:!1,error:r.message}}},async deleteCustomer(e){try{const{error:t}=await U.from("tms_customers").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting customer:",t),{success:!1,error:t.message}}},async getCustomerWithLoads(e){try{const{data:t,error:r}=await U.from("tms_customers").select("*").eq("id",e).single();if(r)throw r;const{data:n,error:i}=await U.from("loads").select("*").eq("customer_id",e).order("created_at",{ascending:!1});if(i)throw i;return{success:!0,data:{customer:{id:t.id,name:t.name,contactName:t.contact_name,email:t.email,phone:t.phone,address:t.address,paymentTerms:t.payment_terms,creditStatus:t.credit_status,avgRate:t.avg_rate},loads:n.map(a=>({id:a.id,pickupAddress:a.pickup_address,deliveryAddress:a.delivery_address,rate:a.rate,status:a.status,createdAt:a.created_at}))}}}catch(t){return console.error("Error fetching customer with loads:",t),{success:!1,error:t.message}}}},yse=()=>{const{isAdmin:e}=Da(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(""),[o,l]=y.useState("All"),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState({name:"",contactName:"",email:"",phone:"",address:"",paymentTerms:"Net 30"});y.useEffect(()=>{x()},[]);const x=async()=>{i(!0);const j=await Qp.fetchCustomers({});j.success&&r(j.data),i(!1)},v=t.filter(j=>{const _=j.name.toLowerCase().includes(a.toLowerCase())||j.contactName&&j.contactName.toLowerCase().includes(a.toLowerCase()),S=o==="All"||j.paymentTerms===o;return _&&S}),g=[{header:"Customer",accessor:"name"},{header:"Primary Contact",accessor:"contactName"},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Payment Terms",accessor:"paymentTerms",render:j=>c.jsx("span",{className:"px-2 py-1 bg-gray-800 rounded text-xs text-gray-300 border border-gray-700",children:j.paymentTerms})},{header:"Credit Status",accessor:"creditStatus",render:j=>c.jsx("span",{className:`px-2 py-1 rounded text-xs border ${j.creditStatus==="Approved"?"bg-green-500/20 text-green-400 border-green-500/30":j.creditStatus==="Review"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:j.creditStatus})}],b=async j=>{j.preventDefault();const _=await Qp.createCustomer(m);_.success?(r([...t,_.data]),h(!1),p({name:"",contactName:"",email:"",phone:"",address:"",paymentTerms:"Net 30"})):alert("Error creating customer: "+_.error)},w=async(j,_)=>{j==="view"?alert(`Viewing loads for ${_.name}`):j==="edit"?console.log("Edit customer:",_):j==="delete"&&confirm(`Delete customer ${_.name}?`)&&(await Qp.deleteCustomer(_.id)).success&&r(t.filter(N=>N.id!==_.id))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Customers"}),c.jsx("p",{className:"text-gray-400",children:"Manage customer relationships and load history"})]}),c.jsxs("div",{className:"flex gap-3",children:[e()&&c.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors border ${u?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(Bs,{size:18}),c.jsx("span",{children:u?"All Agents":"My Customers"})]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors text-gray-300",children:[c.jsx(oO,{size:18}),c.jsx("span",{children:"View All Loads"})]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium shadow-lg shadow-blue-600/20",children:[c.jsx(Ci,{size:18}),c.jsx("span",{children:"Add Customer"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 bg-[#111827] p-4 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:20}),c.jsx("input",{type:"text",placeholder:"Search by Customer or Contact...",value:a,onChange:j=>s(j.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bs,{className:"text-gray-500",size:20}),c.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-all",children:[c.jsx("option",{value:"All",children:"All Terms"}),c.jsx("option",{value:"Net 30",children:"Net 30"}),c.jsx("option",{value:"Net 45",children:"Net 45"}),c.jsx("option",{value:"Net 60",children:"Net 60"})]})]})]}),n?c.jsx("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-12 text-center",children:c.jsx("p",{className:"text-gray-400",children:"Loading customers..."})}):c.jsx(tc,{columns:g,data:v,actions:["view","edit","delete"],onAction:w}),c.jsx(d4,{isOpen:f,onClose:()=>h(!1),title:"Add New Customer",children:c.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Customer Name"}),c.jsx("input",{required:!0,type:"text",value:m.name,onChange:j=>p({...m,name:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Primary Contact"}),c.jsx("input",{required:!0,type:"text",value:m.contactName,onChange:j=>p({...m,contactName:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Phone"}),c.jsx("input",{required:!0,type:"tel",value:m.phone,onChange:j=>p({...m,phone:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),c.jsx("input",{required:!0,type:"email",value:m.email,onChange:j=>p({...m,email:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Payment Terms"}),c.jsxs("select",{value:m.paymentTerms,onChange:j=>p({...m,paymentTerms:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"Net 30",children:"Net 30"}),c.jsx("option",{value:"Net 45",children:"Net 45"}),c.jsx("option",{value:"Net 60",children:"Net 60"}),c.jsx("option",{value:"Quick Pay",children:"Quick Pay"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Address"}),c.jsx("input",{type:"text",value:m.address,onChange:j=>p({...m,address:j.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"123 Main St, City, State"})]}),c.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Add Customer"})]})]})})]})},ul={async fetchOpportunities(e={}){try{let t=U.from("crm_opportunities").select("*").order("created_at",{ascending:!1});e.agentId&&(t=t.eq("agent_id",e.agentId)),e.stage&&(t=t.eq("stage",e.stage)),e.search&&(t=t.or(`customer_name.ilike.%${e.search}%,contact_email.ilike.%${e.search}%`));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>{var s;return{id:a.id,customerName:a.customer_name,contactEmail:a.contact_email,contactPhone:a.contact_phone,companyName:a.company_name,carrierName:a.carrier_name,loadId:a.load_id,stage:a.stage,rate:a.estimated_rate,agentId:a.agent_id,agent:a.agent_name,agentName:a.agent_name,notes:a.notes,nextFollowUp:a.next_follow_up,createdDate:(s=a.created_at)==null?void 0:s.split("T")[0]}})}}catch(t){return console.error("Error fetching opportunities:",t),{success:!1,error:t.message}}},async createOpportunity(e){var t;try{const{data:r,error:n}=await U.rpc("generate_opportunity_id");if(n)throw n;const i={id:r,customer_name:e.customerName,contact_email:e.contactEmail||null,contact_phone:e.contactPhone||null,company_name:e.companyName||null,carrier_name:e.carrierName||"",load_id:e.loadId||null,stage:e.stage||"Prospect",estimated_rate:e.rate||null,agent_id:e.agentId,agent_name:e.agentName,notes:e.notes||null,next_follow_up:e.nextFollowUp||null},{data:a,error:s}=await U.from("crm_opportunities").insert([i]).select().single();if(s)throw s;return{success:!0,data:{id:a.id,customerName:a.customer_name,contactEmail:a.contact_email,contactPhone:a.contact_phone,companyName:a.company_name,carrierName:a.carrier_name,loadId:a.load_id,stage:a.stage,rate:a.estimated_rate,agentId:a.agent_id,agent:a.agent_name,agentName:a.agent_name,notes:a.notes,nextFollowUp:a.next_follow_up,createdDate:(t=a.created_at)==null?void 0:t.split("T")[0]}}}catch(r){return console.error("Error creating opportunity:",r),{success:!1,error:r.message}}},async updateOpportunity(e,t){var r;try{const n={customer_name:t.customerName,contact_email:t.contactEmail||null,contact_phone:t.contactPhone||null,company_name:t.companyName||null,carrier_name:t.carrierName||"",load_id:t.loadId||null,stage:t.stage,estimated_rate:t.rate||null,agent_id:t.agentId,agent_name:t.agentName,notes:t.notes||null,next_follow_up:t.nextFollowUp||null,updated_at:new Date().toISOString()},{data:i,error:a}=await U.from("crm_opportunities").update(n).eq("id",e).select().single();if(a)throw a;return{success:!0,data:{id:i.id,customerName:i.customer_name,contactEmail:i.contact_email,contactPhone:i.contact_phone,companyName:i.company_name,carrierName:i.carrier_name,loadId:i.load_id,stage:i.stage,rate:i.estimated_rate,agentId:i.agent_id,agent:i.agent_name,agentName:i.agent_name,notes:i.notes,nextFollowUp:i.next_follow_up,createdDate:(r=i.created_at)==null?void 0:r.split("T")[0]}}}catch(n){return console.error("Error updating opportunity:",n),{success:!1,error:n.message}}},async deleteOpportunity(e){try{const{error:t}=await U.from("crm_opportunities").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting opportunity:",t),{success:!1,error:t.message}}},async fetchActivities(e){try{const{data:t,error:r}=await U.from("crm_activities").select("*").eq("opportunity_id",e).order("created_at",{ascending:!1});if(r)throw r;return{success:!0,data:t.map(i=>({id:i.id,opportunityId:i.opportunity_id,activityType:i.activity_type,description:i.description,agentId:i.agent_id,createdAt:i.created_at}))}}catch(t){return console.error("Error fetching activities:",t),{success:!1,error:t.message}}},async addActivity(e){try{const t={opportunity_id:e.opportunityId,activity_type:e.activityType,description:e.description,agent_id:e.agentId},{data:r,error:n}=await U.from("crm_activities").insert([t]).select().single();if(n)throw n;return{success:!0,data:{id:r.id,opportunityId:r.opportunity_id,activityType:r.activity_type,description:r.description,agentId:r.agent_id,createdAt:r.created_at}}}catch(t){return console.error("Error adding activity:",t),{success:!1,error:t.message}}},async getStageCounts(){try{const{data:e,error:t}=await U.from("crm_opportunities").select("stage");if(t)throw t;const r={Prospect:0,Lead:0,Qualified:0,Customer:0,Repeat:0};return e.forEach(n=>{r.hasOwnProperty(n.stage)&&r[n.stage]++}),{success:!0,data:r}}catch(e){return console.error("Error getting stage counts:",e),{success:!1,error:e.message}}}},dl=[{id:1,name:"Ozan Akdemir",email:"ozan@adafleet.com",phone:"555-0100",status:"Active",hireDate:"2023-01-01",territory:"All",commission:20,contractType:"W-2",company:"",loadsClosed:25,totalCommission:5e3,notes:"Owner and Admin"},{id:2,name:"Jane Smith",email:"jane@brokerflow.com",phone:"555-0201",status:"Active",hireDate:"2023-06-15",territory:"Northeast",commission:15,contractType:"1099",company:"Smith Logistics LLC",loadsClosed:14,totalCommission:2450,notes:"Specializes in reefer freight"},{id:3,name:"David Lopez",email:"david@brokerflow.com",phone:"555-0202",status:"Active",hireDate:"2023-09-01",territory:"Southwest",commission:12,contractType:"1099",company:"Lopez Freight Solutions",loadsClosed:9,totalCommission:1800,notes:"Focus on flatbed and oversized loads"}],Vf=["Prospect","Lead","Qualified","Customer","Repeat"],$y=e=>e==="Customer"||e==="Repeat",Fy=e=>e==="Qualified"||e==="Customer"||e==="Repeat",ik=()=>{const{currentUser:e,isAdmin:t}=Da(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(!1),[l,u]=y.useState(""),[d,f]=y.useState("All"),[h,m]=y.useState("All"),[p,x]=y.useState({key:null,direction:"asc"}),[v,g]=y.useState(!1),[b,w]=y.useState(null),[j,_]=y.useState("");y.useEffect(()=>{S()},[e,s]);const S=async()=>{a(!0);const D={};(!t()||!s)&&(D.agentId=e.id);const R=await ul.fetchOpportunities(D);R.success&&n(R.data),a(!1)},N=y.useMemo(()=>{let D=[...r];if(l){const R=l.toLowerCase();D=D.filter(P=>P.customerName.toLowerCase().includes(R)||P.contactEmail.toLowerCase().includes(R))}return d!=="All"&&(D=D.filter(R=>R.stage===d)),h!=="All"&&(D=D.filter(R=>R.agent===h)),p.key&&D.sort((R,P)=>{let I=R[p.key],L=P[p.key];return I||(I=""),L||(L=""),typeof I=="string"&&(I=I.toLowerCase(),L=L.toLowerCase()),I<L?p.direction==="asc"?-1:1:I>L?p.direction==="asc"?1:-1:0}),D},[r,l,d,h,p]),E=y.useMemo(()=>{const D={};return Vf.forEach(R=>{D[R]=r.filter(P=>P.stage===R).length}),D},[r]),A=D=>{x(R=>({key:D,direction:R.key===D&&R.direction==="asc"?"desc":"asc"}))},O=(D,R,P)=>{w({oppId:D,field:R}),_(P||"")},C=async D=>{if(!b)return;const P={...r.find(L=>L.id===D),[b.field]:j},I=await ul.updateOpportunity(D,P);I.success&&n(L=>L.map(Q=>Q.id===D?I.data:Q)),w(null),_("")},M=()=>{w(null),_("")},K=async D=>{if(!confirm("Are you sure you want to delete this opportunity?"))return;(await ul.deleteOpportunity(D)).success&&n(P=>P.filter(I=>I.id!==D))},T=y.useMemo(()=>[...new Set(r.map(D=>D.agent))],[r]),z=({column:D})=>p.key!==D?c.jsx(Vd,{size:14,className:"opacity-0 group-hover:opacity-50"}):p.direction==="asc"?c.jsx(Vd,{size:14}):c.jsx(Qv,{size:14});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"CRM - Opportunities"}),c.jsxs("div",{className:"flex gap-6 text-sm text-gray-400",children:[c.jsxs("span",{children:["Total: ",c.jsx("strong",{className:"text-white",children:N.length})]}),c.jsxs("span",{children:["Prospect: ",c.jsx("strong",{className:"text-blue-400",children:E.Prospect||0})]}),c.jsxs("span",{children:["Lead: ",c.jsx("strong",{className:"text-yellow-400",children:E.Lead||0})]}),c.jsxs("span",{children:["Qualified: ",c.jsx("strong",{className:"text-purple-400",children:E.Qualified||0})]}),c.jsxs("span",{children:["Customer: ",c.jsx("strong",{className:"text-green-400",children:E.Customer||0})]}),c.jsxs("span",{children:["Repeat: ",c.jsx("strong",{className:"text-cyan-400",children:E.Repeat||0})]})]})]}),c.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t()&&c.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors border ${s?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(Bs,{size:18}),c.jsx("span",{children:s?"All Agents":"My Opportunities"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),c.jsx("input",{type:"text",placeholder:"Search opportunities...",value:l,onChange:D=>u(D.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500 w-64"})]}),c.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium shadow-lg shadow-blue-600/20",children:[c.jsx(Ci,{size:18}),c.jsx("span",{children:"New Opportunity"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("select",{value:d,onChange:D=>f(D.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"All",children:"All Stages"}),Vf.map(D=>c.jsx("option",{value:D,children:D},D))]}),c.jsxs("select",{value:h,onChange:D=>m(D.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"All",children:"All Agents"}),T.map(D=>c.jsx("option",{value:D,children:D},D))]})]}),c.jsx("div",{className:"bg-[#111827] rounded-xl border border-gray-800 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[c.jsx("th",{onClick:()=>A("customerName"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Customer Name",c.jsx(z,{column:"customerName"})]})}),c.jsx("th",{onClick:()=>A("contactEmail"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Contact Email",c.jsx(z,{column:"contactEmail"})]})}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Carrier"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Load ID"}),c.jsx("th",{onClick:()=>A("stage"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Stage",c.jsx(z,{column:"stage"})]})}),c.jsx("th",{onClick:()=>A("rate"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Rate",c.jsx(z,{column:"rate"})]})}),c.jsx("th",{onClick:()=>A("agent"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Agent",c.jsx(z,{column:"agent"})]})}),c.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-400",children:"Actions"})]})}),c.jsx("tbody",{children:i?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-gray-400",children:"Loading opportunities..."})}):N.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-gray-400",children:"No opportunities found"})}):N.map(D=>c.jsx(vse,{opportunity:D,editingCell:b,editValue:j,onStartEdit:O,onSaveEdit:C,onCancelEdit:M,onEditValueChange:_,onDelete:K,canEdit:t()||D.agentId===e.id},D.id))})]})})}),v&&c.jsx(xse,{onClose:()=>g(!1),onSave:D=>{n(R=>[...R,D]),g(!1)},currentUser:e})]})},vse=({opportunity:e,editingCell:t,editValue:r,onStartEdit:n,onSaveEdit:i,onCancelEdit:a,onEditValueChange:s,onDelete:o,canEdit:l})=>{const u=p=>(t==null?void 0:t.oppId)===e.id&&(t==null?void 0:t.field)===p,d=$y(e.stage),f=Fy(e.stage),h=(p,x)=>{p.key==="Enter"?i(x):p.key==="Escape"&&a()},m=p=>({Prospect:"bg-blue-500/20 text-blue-400 border-blue-500/30",Lead:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Qualified:"bg-purple-500/20 text-purple-400 border-purple-500/30",Customer:"bg-green-500/20 text-green-400 border-green-500/30",Repeat:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"})[p]||"bg-gray-500/20 text-gray-400 border-gray-500/30";return c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors group",children:[c.jsx("td",{className:"py-3 px-4 text-white font-medium",children:e.customerName}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:e.contactEmail}),c.jsx("td",{className:"py-3 px-4",children:d?u("carrier")?c.jsx("input",{type:"text",value:r,onChange:p=>s(p.target.value),onBlur:()=>i(e.id),onKeyDown:p=>h(p,e.id),className:"bg-gray-800 border border-blue-500 rounded px-2 py-1 text-white text-sm w-full focus:outline-none",autoFocus:!0}):c.jsx("span",{onClick:()=>l&&n(e.id,"carrier",e.carrier),className:`text-gray-300 ${l?"cursor-pointer hover:text-white":""}`,children:e.carrier||"-"}):c.jsx("span",{className:"text-gray-600",children:"-"})}),c.jsx("td",{className:"py-3 px-4",children:d?u("loadId")?c.jsx("input",{type:"text",value:r,onChange:p=>s(p.target.value),onBlur:()=>i(e.id),onKeyDown:p=>h(p,e.id),className:"bg-gray-800 border border-blue-500 rounded px-2 py-1 text-white text-sm w-full focus:outline-none",autoFocus:!0}):c.jsx("span",{onClick:()=>l&&n(e.id,"loadId",e.loadId),className:`text-gray-300 ${l?"cursor-pointer hover:text-white":""}`,children:e.loadId||"-"}):c.jsx("span",{className:"text-gray-600",children:"-"})}),c.jsx("td",{className:"py-3 px-4",children:u("stage")?c.jsx("select",{value:r,onChange:p=>s(p.target.value),onBlur:()=>i(e.id),className:"bg-gray-800 border border-blue-500 rounded px-2 py-1 text-white text-sm focus:outline-none",autoFocus:!0,children:Vf.map(p=>c.jsx("option",{value:p,children:p},p))}):c.jsx("span",{onClick:()=>l&&n(e.id,"stage",e.stage),className:`inline-block px-2 py-1 rounded text-xs border ${m(e.stage)} ${l?"cursor-pointer":""}`,children:e.stage})}),c.jsx("td",{className:"py-3 px-4",children:f?u("rate")?c.jsx("input",{type:"number",value:r,onChange:p=>s(p.target.value),onBlur:()=>i(e.id),onKeyDown:p=>h(p,e.id),className:"bg-gray-800 border border-blue-500 rounded px-2 py-1 text-white text-sm w-24 focus:outline-none",autoFocus:!0}):c.jsx("span",{onClick:()=>l&&n(e.id,"rate",e.rate),className:`text-green-400 font-medium ${l?"cursor-pointer hover:text-green-300":""}`,children:e.rate?`$${e.rate.toLocaleString()}`:"-"}):c.jsx("span",{className:"text-gray-600",children:"-"})}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:e.agent}),c.jsx("td",{className:"py-3 px-4 text-right",children:l&&c.jsx("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("button",{onClick:()=>o(e.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Delete",children:c.jsx(yh,{size:16})})})})]})},xse=({onClose:e,onSave:t,currentUser:r})=>{const[n,i]=y.useState({customerName:"",contactEmail:"",stage:"Prospect",carrier:"",loadId:"",rate:"",agentId:r.id,agent:r.name}),[a,s]=y.useState({}),[o,l]=y.useState(!1),u=$y(n.stage),d=Fy(n.stage),f=(p,x)=>{if(i(v=>({...v,[p]:x})),a[p]&&s(v=>({...v,[p]:null})),p==="agentId"){const v=dl.find(g=>g.id===parseInt(x));v&&i(g=>({...g,agentId:v.id,agent:v.name}))}p==="stage"&&($y(x)||i(v=>({...v,carrier:"",loadId:""})),Fy(x)||i(v=>({...v,rate:""})))},h=()=>{const p={};return n.customerName.trim()||(p.customerName="Customer name is required"),n.contactEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.contactEmail)||(p.contactEmail="Invalid email format"):p.contactEmail="Contact email is required",n.stage||(p.stage="Stage is required"),n.agentId||(p.agent="Agent is required"),s(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h())return;l(!0);const x={customerName:n.customerName,contactEmail:n.contactEmail,stage:n.stage,carrierName:n.carrier||"",loadId:n.loadId||null,rate:n.rate?parseFloat(n.rate):null,agentId:n.agentId,agentName:n.agent},v=await ul.createOpportunity(x);l(!1),v.success&&t(v.data)};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center sticky top-0 bg-[#111827]",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"New Opportunity"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(uc,{size:24})})]}),c.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Customer Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:n.customerName,onChange:p=>f("customerName",p.target.value),className:`w-full bg-gray-900 border ${a.customerName?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`}),a.customerName&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.customerName})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Contact Email ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"email",value:n.contactEmail,onChange:p=>f("contactEmail",p.target.value),className:`w-full bg-gray-900 border ${a.contactEmail?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`}),a.contactEmail&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.contactEmail})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Stage ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("select",{value:n.stage,onChange:p=>f("stage",p.target.value),className:`w-full bg-gray-900 border ${a.stage?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`,children:Vf.map(p=>c.jsx("option",{value:p,children:p},p))}),a.stage&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.stage})]}),u&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Carrier"}),c.jsx("input",{type:"text",value:n.carrier,onChange:p=>f("carrier",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Load ID"}),c.jsx("input",{type:"text",value:n.loadId,onChange:p=>f("loadId",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),d&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Rate ($)"}),c.jsx("input",{type:"number",value:n.rate,onChange:p=>f("rate",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"0"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Agent ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("select",{value:n.agentId,onChange:p=>f("agentId",p.target.value),className:`w-full bg-gray-900 border ${a.agent?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`,children:dl.filter(p=>p.status==="Active").map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))}),a.agent&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:a.agent})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Save Opportunity"})]})]})]})})},bse={async fetchInvoices(e={}){try{let t=U.from("invoices").select("*").order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.customerId&&(t=t.eq("customer_id",e.customerId));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,loadId:a.load_id,customerId:a.customer_id,customerName:a.customer_name,amount:parseFloat(a.amount),status:a.status,dateSent:a.date_sent,datePaid:a.date_paid,dueDate:a.due_date,notes:a.notes,createdAt:a.created_at}))}}catch(t){return console.error("Error fetching invoices:",t),{success:!1,error:t.message}}},async createInvoice(e){try{const{data:t,error:r}=await U.rpc("generate_invoice_id");if(r)throw r;const n={id:t,load_id:e.loadId||null,customer_id:e.customerId,customer_name:e.customerName,amount:e.amount,status:e.status||"Pending",date_sent:e.dateSent||new Date().toISOString().split("T")[0],due_date:e.dueDate||null,notes:e.notes||null},{data:i,error:a}=await U.from("invoices").insert([n]).select().single();if(a)throw a;return{success:!0,data:{id:i.id,loadId:i.load_id,customerId:i.customer_id,customerName:i.customer_name,amount:parseFloat(i.amount),status:i.status,dateSent:i.date_sent}}}catch(t){return console.error("Error creating invoice:",t),{success:!1,error:t.message}}},async updateInvoice(e,t){try{const r={status:t.status,date_paid:t.datePaid||null,notes:t.notes||null},{data:n,error:i}=await U.from("invoices").update(r).eq("id",e).select().single();if(i)throw i;return{success:!0,data:{id:n.id,status:n.status,datePaid:n.date_paid}}}catch(r){return console.error("Error updating invoice:",r),{success:!1,error:r.message}}},async addPayment(e){try{const t={invoice_id:e.invoiceId,amount:e.amount,payment_date:e.paymentDate||new Date().toISOString().split("T")[0],payment_method:e.paymentMethod,reference_number:e.referenceNumber||null,notes:e.notes||null},{data:r,error:n}=await U.from("payments").insert([t]).select().single();if(n)throw n;return e.markAsPaid&&await U.from("invoices").update({status:"Paid",date_paid:t.payment_date}).eq("id",e.invoiceId),{success:!0,data:{id:r.id}}}catch(t){return console.error("Error adding payment:",t),{success:!1,error:t.message}}},async calculateCommissions(e){try{const{data:t,error:r}=await U.from("loads").select("*").eq("id",e).single();if(r)throw r;const{data:n,error:i}=await U.from("tms_agents").select("commission_rate").eq("id",t.agent_id).single();if(i)throw i;const a=parseFloat(t.rate)-parseFloat(t.carrier_cost),s=a*parseFloat(n.commission_rate)/100,{data:o,error:l}=await U.from("agent_commissions").insert([{load_id:e,agent_id:t.agent_id,agent_name:t.agent_name,gross_profit:a,commission_rate:n.commission_rate,commission_amount:s,status:"Pending"}]).select().single();if(l)throw l;return{success:!0,data:{id:o.id,grossProfit:a,commissionAmount:s}}}catch(t){return console.error("Error calculating commission:",t),{success:!1,error:t.message}}},async fetchCommissions(e={}){try{let t=U.from("agent_commissions").select("*").order("created_at",{ascending:!1});e.agentId&&(t=t.eq("agent_id",e.agentId)),e.status&&(t=t.eq("status",e.status));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,loadId:a.load_id,agentId:a.agent_id,agentName:a.agent_name,grossProfit:parseFloat(a.gross_profit),commissionRate:parseFloat(a.commission_rate),commissionAmount:parseFloat(a.commission_amount),status:a.status,paidDate:a.paid_date,createdAt:a.created_at}))}}catch(t){return console.error("Error fetching commissions:",t),{success:!1,error:t.message}}}},wse=()=>{const[e,t]=y.useState("invoices"),[r,n]=y.useState([]),[i,a]=y.useState([]),[s,o]=y.useState([]),[l,u]=y.useState(!0),[d,f]=y.useState("");y.useEffect(()=>{h()},[e]);const h=async()=>{if(u(!0),e==="invoices"){const v=await bse.fetchInvoices({});v.success&&n(v.data)}else if(e==="receivables"){const v=await xn.getAgedReceivables();v.success&&a(v.data)}else if(e==="payables"){const v=await xn.getCarrierPayables();v.success&&o(v.data)}u(!1)},m=[{header:"Invoice #",accessor:"id"},{header:"Customer",accessor:"customer_name"},{header:"Amount",accessor:"amount",render:v=>`$${parseFloat(v.amount||0).toLocaleString()}`},{header:"Status",accessor:"status",render:v=>c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v.status==="Paid"?"bg-green-500/20 text-green-400":v.status==="Overdue"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.status})},{header:"Date Sent",accessor:"date_sent",render:v=>v.date_sent?new Date(v.date_sent).toLocaleDateString():"-"},{header:"Due Date",accessor:"due_date",render:v=>v.due_date?new Date(v.due_date).toLocaleDateString():"-"}],p=[{header:"Carrier",accessor:"carrier_name"},{header:"Total Owed",accessor:"total_owed",render:v=>`$${parseFloat(v.total_owed||0).toLocaleString()}`},{header:"Unpaid Loads",accessor:"unpaid_count"},{header:"Oldest Unpaid",accessor:"oldest_unpaid_date",render:v=>v.oldest_unpaid_date?new Date(v.oldest_unpaid_date).toLocaleDateString():"-"}],x=r.filter(v=>{var g,b;return!d||((g=v.customer_name)==null?void 0:g.toLowerCase().includes(d.toLowerCase()))||((b=v.id)==null?void 0:b.toString().includes(d))});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Accounting"}),c.jsx("p",{className:"text-gray-400",children:"Manage invoices, payments, and receivables"})]}),c.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:["invoices","receivables","payables"].map(v=>c.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 capitalize transition-colors ${e===v?"border-b-2 border-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:v},v))}),e==="invoices"&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-4",children:[c.jsx("div",{className:"flex-1 max-w-md",children:c.jsxs("div",{className:"relative",children:[c.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search invoices...",value:d,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(Zv,{size:18}),"Export"]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[c.jsx(Ci,{size:18}),"Create Invoice"]})]})]}),l?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),c.jsx("p",{className:"text-gray-400 mt-4",children:"Loading invoices..."})]}):x.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Cn,{className:"mx-auto text-gray-600 mb-4",size:48}),c.jsx("p",{className:"text-gray-400",children:"No invoices found"})]}):c.jsx(tc,{columns:m,data:x,actions:["view","edit"],onAction:(v,g)=>console.log(v,g)})]}),e==="receivables"&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Aged Receivables"}),l?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),c.jsx("p",{className:"text-gray-400 mt-4",children:"Loading receivables..."})]}):i.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(An,{className:"mx-auto text-gray-600 mb-4",size:48}),c.jsx("p",{className:"text-gray-400",children:"No outstanding receivables"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:i.map((v,g)=>c.jsxs("div",{className:"bg-gray-900/50 p-6 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-2",children:v.bucket}),c.jsxs("p",{className:"text-3xl font-bold text-white mb-1",children:["$",parseFloat(v.amount||0).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[v.count," invoice",v.count!==1?"s":""]})]},g))})]})}),e==="payables"&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Carrier Payables"}),l?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),c.jsx("p",{className:"text-gray-400 mt-4",children:"Loading payables..."})]}):s.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(R8,{className:"mx-auto text-gray-600 mb-4",size:48}),c.jsx("p",{className:"text-gray-400",children:"No outstanding payables"})]}):c.jsx(tc,{columns:p,data:s,actions:[],onAction:()=>{}})]})]})},ak={async fetchSettings(e=null){try{let t=U.from("tms_settings").select("*").order("category",{ascending:!0});e&&(t=t.eq("category",e));const{data:r,error:n}=await t;if(n)throw n;const i={};return r.forEach(a=>{i[a.key]=a.value.value}),{success:!0,data:i,raw:r}}catch(t){return console.error("Error fetching settings:",t),{success:!1,error:t.message}}},async updateSetting(e,t,r){try{const{data:n,error:i}=await U.from("tms_settings").update({value:{value:t},updated_by:r,updated_at:new Date().toISOString()}).eq("key",e).select().single();if(i)throw i;return{success:!0,data:n}}catch(n){return console.error("Error updating setting:",n),{success:!1,error:n.message}}},async createSetting(e,t,r,n){try{const{data:i,error:a}=await U.from("tms_settings").insert([{key:e,value:{value:t},category:r,updated_by:n}]).select().single();if(a)throw a;return{success:!0,data:i}}catch(i){return console.error("Error creating setting:",i),{success:!1,error:i.message}}}},_se=()=>{const{currentUser:e}=Da(),[t,r]=y.useState("company"),[n,i]=y.useState({}),[a,s]=y.useState(!0),[o,l]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{f()},[]);const f=async()=>{s(!0);const p=await ak.fetchSettings();p.success&&i(p.data),s(!1)},h=async p=>{l(!0),d(null);try{for(const x of p)await ak.updateSetting(x,n[x],(e==null?void 0:e.email)||"system");d({type:"success",text:"Settings saved successfully"})}catch{d({type:"error",text:"Error saving settings"})}l(!1),setTimeout(()=>d(null),3e3)},m=(p,x)=>{i(v=>({...v,[p]:x}))};return a?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading settings..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),c.jsx("p",{className:"text-gray-400",children:"Manage system configuration and preferences"})]}),u&&c.jsxs("div",{className:`flex items-center gap-2 p-4 rounded-lg border ${u.type==="success"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[c.jsx(ph,{size:18}),c.jsx("span",{children:u.text})]}),c.jsx("div",{className:"flex gap-2 border-b border-gray-800",children:[{id:"company",label:"Company",icon:T_},{id:"commission",label:"Commission",icon:L_},{id:"preferences",label:"Preferences",icon:D_}].map(p=>c.jsxs("button",{onClick:()=>r(p.id),className:`flex items-center gap-2 px-4 py-2 capitalize transition-colors ${t===p.id?"border-b-2 border-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:[c.jsx(p.icon,{size:18}),p.label]},p.id))}),t==="company"&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6 space-y-6",children:[c.jsx("div",{children:c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(T_,{size:20,className:"text-blue-400"}),"Company Information"]})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Company Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:n.company_name||"",onChange:p=>m("company_name",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Enter company name"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"MC Number"}),c.jsx("input",{type:"text",value:n.company_mc||"",onChange:p=>m("company_mc",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"MC-XXXXXX"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"DOT Number"}),c.jsx("input",{type:"text",value:n.company_dot||"",onChange:p=>m("company_dot",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"DOT-XXXXXX"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Company Address"}),c.jsx("textarea",{value:n.company_address||"",onChange:p=>m("company_address",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",rows:"3",placeholder:"Enter full company address"})]}),c.jsxs("button",{onClick:()=>h(["company_name","company_mc","company_dot","company_address"]),disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(cp,{size:18}),o?"Saving...":"Save Changes"]})]}),t==="commission"&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(L_,{size:20,className:"text-green-400"}),"Default Commission Rate"]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Set the default commission rate for all agents. Individual agents can have custom rates."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Default Rate (%) ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",value:n.default_commission_rate||10,onChange:p=>m("default_commission_rate",parseFloat(p.target.value)),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 pr-12 text-white focus:outline-none focus:border-blue-500 transition-colors",min:"0",max:"100",step:"0.1"}),c.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This rate applies to all agents unless they have a custom rate set in their profile."})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:c.jsxs("p",{className:"text-sm text-blue-400",children:[c.jsx("strong",{children:"Note:"})," Changes to the default rate will not affect existing agent-specific rates."]})}),c.jsxs("button",{onClick:()=>h(["default_commission_rate"]),disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 transition-colors",children:[c.jsx(cp,{size:18}),o?"Saving...":"Save Changes"]})]}),t==="preferences"&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6 space-y-6",children:[c.jsx("div",{children:c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(D_,{size:20,className:"text-purple-400"}),"System Preferences"]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Currency"}),c.jsxs("select",{value:n.currency||"USD",onChange:p=>m("currency",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"USD",children:"USD - US Dollar"}),c.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"}),c.jsx("option",{value:"EUR",children:"EUR - Euro"}),c.jsx("option",{value:"GBP",children:"GBP - British Pound"}),c.jsx("option",{value:"MXN",children:"MXN - Mexican Peso"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Timezone"}),c.jsxs("select",{value:n.timezone||"America/New_York",onChange:p=>m("timezone",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),c.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),c.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),c.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),c.jsx("option",{value:"America/Phoenix",children:"Arizona Time (MST)"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Theme"}),c.jsxs("select",{value:n.theme||"dark",onChange:p=>m("theme",p.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"dark",children:"Dark Mode"}),c.jsx("option",{value:"light",children:"Light Mode"}),c.jsx("option",{value:"auto",children:"Auto (System)"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Theme preference (currently only dark mode is fully supported)"})]}),c.jsxs("button",{onClick:()=>h(["currency","timezone","theme"]),disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 transition-colors",children:[c.jsx(cp,{size:18}),o?"Saving...":"Save Changes"]})]})]})},jse=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState({module:"",action:"",userEmail:"",startDate:"",endDate:""}),[s,o]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{n(!0);const h=await Mx.fetchLogs({...i,limit:100});h.success&&t(h.data),n(!1)},u=()=>{l()},d=()=>{a({module:"",action:"",userEmail:"",startDate:"",endDate:""}),setTimeout(()=>l(),100)},f=[{header:"Timestamp",accessor:"created_at",render:h=>new Date(h.created_at).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},{header:"User",accessor:"user_email",render:h=>h.user_email?c.jsx("span",{className:"text-blue-400",children:h.user_email}):c.jsx("span",{className:"text-gray-500",children:"System"})},{header:"Action",accessor:"action",render:h=>c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${h.action==="create"?"bg-green-500/20 text-green-400":h.action==="update"?"bg-blue-500/20 text-blue-400":h.action==="delete"?"bg-red-500/20 text-red-400":h.action==="export"?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"}`,children:h.action.toUpperCase()})},{header:"Module",accessor:"module",render:h=>c.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs capitalize font-medium",children:h.module})},{header:"Record ID",accessor:"record_id",render:h=>h.record_id?c.jsx("code",{className:"text-xs bg-gray-800 px-2 py-1 rounded",children:h.record_id}):"-"},{header:"Details",accessor:"details",render:h=>h.details?c.jsxs("span",{className:"text-xs text-gray-400",title:JSON.stringify(h.details),children:[JSON.stringify(h.details).substring(0,40),"..."]}):"-"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Activity Logs"}),c.jsx("p",{className:"text-gray-400",children:"View system audit trail and activity history"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${s?"bg-blue-600 hover:bg-blue-700":"bg-gray-800 hover:bg-gray-700"}`,children:[c.jsx(Bs,{size:18}),"Filters"]}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(h0,{size:18}),"Refresh"]})]})]}),s&&c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-4 uppercase tracking-wide",children:"Filter Logs"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Module"}),c.jsxs("select",{value:i.module,onChange:h=>a({...i,module:h.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"",children:"All Modules"}),c.jsx("option",{value:"load",children:"Load"}),c.jsx("option",{value:"customer",children:"Customer"}),c.jsx("option",{value:"carrier",children:"Carrier"}),c.jsx("option",{value:"agent",children:"Agent"}),c.jsx("option",{value:"crm",children:"CRM"}),c.jsx("option",{value:"accounting",children:"Accounting"}),c.jsx("option",{value:"settings",children:"Settings"}),c.jsx("option",{value:"dashboard",children:"Dashboard"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Action"}),c.jsxs("select",{value:i.action,onChange:h=>a({...i,action:h.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[c.jsx("option",{value:"",children:"All Actions"}),c.jsx("option",{value:"create",children:"Create"}),c.jsx("option",{value:"update",children:"Update"}),c.jsx("option",{value:"delete",children:"Delete"}),c.jsx("option",{value:"view",children:"View"}),c.jsx("option",{value:"export",children:"Export"}),c.jsx("option",{value:"login",children:"Login"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"User Email"}),c.jsx("input",{type:"text",value:i.userEmail,onChange:h=>a({...i,userEmail:h.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Filter by email"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Start Date"}),c.jsx("input",{type:"date",value:i.startDate,onChange:h=>a({...i,startDate:h.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"End Date"}),c.jsx("input",{type:"date",value:i.endDate,onChange:h=>a({...i,endDate:h.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[c.jsx(Bs,{size:18}),"Apply Filters"]}),c.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:"Reset"})]})]}),c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[c.jsx(Cn,{size:20,className:"text-blue-400"}),"Activity History"]}),c.jsxs("span",{className:"text-sm text-gray-400",children:["Showing ",e.length," ",e.length===100?"(max)":""," entries"]})]}),r?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading activity logs..."})]}):e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(aO,{className:"mx-auto text-gray-600 mb-4",size:48}),c.jsx("p",{className:"text-gray-400",children:"No activity logs found"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your filters"})]}):c.jsx(tc,{columns:f,data:e,actions:[],onAction:()=>{}})]})]})},Sse={2:{agentId:2,leads:24,customers:12,conversions:38,revenue:65e3,followUps:5,recentActivity:[{id:1,type:"lead",action:"Added new lead",company:"Tech Solutions Inc",time:"2 hours ago"},{id:2,type:"customer",action:"Converted to customer",company:"Global Logistics",time:"5 hours ago"},{id:3,type:"followup",action:"Scheduled follow-up",company:"Express Freight",time:"1 day ago"},{id:4,type:"lead",action:"Updated lead status",company:"Prime Shipping",time:"2 days ago"}]},3:{agentId:3,leads:18,customers:9,conversions:42,revenue:52e3,followUps:3,recentActivity:[{id:1,type:"customer",action:"Added new customer",company:"Metro Transport",time:"1 hour ago"},{id:2,type:"lead",action:"Added new lead",company:"City Logistics",time:"4 hours ago"},{id:3,type:"followup",action:"Completed follow-up",company:"Fast Delivery Co",time:"1 day ago"},{id:4,type:"lead",action:"Moved lead to prospects",company:"Quick Ship LLC",time:"3 days ago"}]}},Nse=e=>Sse[e]||{agentId:e,leads:0,customers:0,conversions:0,revenue:0,followUps:0,recentActivity:[]},Ese=()=>{const{currentUser:e}=Da(),t=Fi(),r=Nse(e.id),n=[{title:"My Leads",value:r.leads,icon:$_,color:"blue",bgGradient:"from-blue-500/20 to-blue-600/20",iconBg:"bg-blue-500/20",iconColor:"text-blue-400"},{title:"My Customers",value:r.customers,icon:Il,color:"green",bgGradient:"from-green-500/20 to-green-600/20",iconBg:"bg-green-500/20",iconColor:"text-green-400"},{title:"Conversion Rate",value:`${r.conversions}%`,icon:ex,color:"purple",bgGradient:"from-purple-500/20 to-purple-600/20",iconBg:"bg-purple-500/20",iconColor:"text-purple-400"},{title:"Revenue Generated",value:`$${(r.revenue/1e3).toFixed(0)}K`,icon:An,color:"orange",bgGradient:"from-orange-500/20 to-orange-600/20",iconBg:"bg-orange-500/20",iconColor:"text-orange-400"}],i=a=>{switch(a){case"lead":return"";case"customer":return"";case"followup":return"";default:return""}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e.name.split(" ")[0],"! "]}),c.jsx("p",{className:"text-gray-400",children:"Here's your performance overview"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:n.map((a,s)=>{const o=a.icon;return c.jsxs("div",{className:`bg-gradient-to-br ${a.bgGradient} p-6 rounded-xl border border-gray-800 hover:border-gray-700 transition-all group`,children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsx("div",{className:`${a.iconBg} p-3 rounded-lg`,children:c.jsx(o,{className:a.iconColor,size:24})})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400 text-sm mb-1",children:a.title}),c.jsx("p",{className:"text-3xl font-bold text-white",children:a.value})]})]},s)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-yellow-500/20 p-2 rounded-lg",children:c.jsx(x8,{className:"text-yellow-400",size:20})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-white",children:"Follow-Ups Due"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Pending actions"})]})]}),c.jsxs("div",{className:"text-center py-6",children:[c.jsx("div",{className:"text-4xl font-bold text-yellow-400 mb-2",children:r.followUps}),c.jsx("p",{className:"text-sm text-gray-400",children:"Customers need attention"})]}),c.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-400 rounded-lg transition-colors border border-yellow-600/30",children:"View Follow-Ups"})]}),c.jsxs("div",{className:"lg:col-span-2 bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>t("/crm"),className:"flex items-center gap-3 p-4 bg-blue-600/10 hover:bg-blue-600/20 border border-blue-600/30 rounded-lg transition-all group",children:[c.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:c.jsx(Ci,{className:"text-blue-400",size:20})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-medium text-white",children:"Add New Lead"}),c.jsx("div",{className:"text-xs text-gray-400",children:"Create a new prospect"})]}),c.jsx(fu,{className:"text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",size:16})]}),c.jsxs("button",{onClick:()=>t("/customers"),className:"flex items-center gap-3 p-4 bg-green-600/10 hover:bg-green-600/20 border border-green-600/30 rounded-lg transition-all group",children:[c.jsx("div",{className:"bg-green-500/20 p-3 rounded-lg",children:c.jsx(Ci,{className:"text-green-400",size:20})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-medium text-white",children:"Add Customer"}),c.jsx("div",{className:"text-xs text-gray-400",children:"Onboard new client"})]}),c.jsx(fu,{className:"text-green-400 opacity-0 group-hover:opacity-100 transition-opacity",size:16})]}),c.jsxs("button",{onClick:()=>t("/crm"),className:"flex items-center gap-3 p-4 bg-purple-600/10 hover:bg-purple-600/20 border border-purple-600/30 rounded-lg transition-all group",children:[c.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:c.jsx($_,{className:"text-purple-400",size:20})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-medium text-white",children:"View CRM Pipeline"}),c.jsx("div",{className:"text-xs text-gray-400",children:"Manage your leads"})]}),c.jsx(fu,{className:"text-purple-400 opacity-0 group-hover:opacity-100 transition-opacity",size:16})]}),c.jsxs("button",{onClick:()=>t("/customers"),className:"flex items-center gap-3 p-4 bg-orange-600/10 hover:bg-orange-600/20 border border-orange-600/30 rounded-lg transition-all group",children:[c.jsx("div",{className:"bg-orange-500/20 p-3 rounded-lg",children:c.jsx(Il,{className:"text-orange-400",size:20})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-medium text-white",children:"My Customers"}),c.jsx("div",{className:"text-xs text-gray-400",children:"View customer list"})]}),c.jsx(fu,{className:"text-orange-400 opacity-0 group-hover:opacity-100 transition-opacity",size:16})]})]})]})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-3",children:r.recentActivity.map(a=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-900/50 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[c.jsx("div",{className:"text-2xl",children:i(a.type)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-white",children:a.action}),c.jsx("div",{className:"text-xs text-gray-400",children:a.company})]}),c.jsx("div",{className:"text-xs text-gray-500",children:a.time})]},a.id))})]})]})},sk={async fetchAgents(e={}){try{let t=U.from("agents").select("*").order("created_at",{ascending:!1});e.status&&(t=t.eq("is_active",e.status==="Active"));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,name:a.full_name,email:a.email,phone:a.phone,company:a.company_name,commissionRate:a.commission_percent,hireDate:a.created_at,status:a.is_active?"Active":"Inactive",createdAt:a.created_at}))}}catch(t){return console.error("Error fetching agents:",t),{success:!1,error:t.message}}},async createAgent(e){console.warn("Use create-agent-user Edge Function for full agent creation");try{const{data:t,error:r}=await U.from("agents").insert([{full_name:e.name,email:e.email,phone:e.phone,commission_percent:e.commissionRate,is_active:e.status==="Active",company_name:e.company||"Unknown"}]).select().single();if(r)throw r;return{success:!0,data:t}}catch(t){return{success:!1,error:t.message}}},async updateAgent(e,t){try{const{data:r,error:n}=await U.functions.invoke("update-agent",{body:{agentId:e,...t}});if(n)throw n;if(!r.success)throw new Error(r.error);const i=r.data;return{success:!0,data:{id:i.id,name:i.full_name,email:i.email,phone:i.phone,company:i.company_name,commissionRate:i.commission_percent,status:i.is_active?"Active":"Inactive",createdAt:i.created_at}}}catch(r){return console.error("Error updating agent:",r),{success:!1,error:r.message}}},async deleteAgent(e){try{const{error:t}=await U.from("agents").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting agent:",t),{success:!1,error:t.message}}},async getAgentPerformance(e,t,r){return{success:!0,data:{agentId:e,totalLoads:0,totalRevenue:0,totalProfit:0,conversionRate:0,activeOpportunities:0}}}};function kse({isOpen:e,onClose:t,onSuccess:r,mode:n="add",agent:i=null}){const[a,s]=y.useState(!1),[o,l]=y.useState(null),u=n==="edit",[d,f]=y.useState({fullName:"",email:"",phone:"",password:"",companyName:"",ein:"",address:"",city:"",state:"",zip:"",commission:50,bonus:"",status:"Active"});y.useEffect(()=>{e&&u&&i?f({fullName:i.name||"",email:i.email||"",phone:i.phone||"",password:"",companyName:i.company||"",ein:i.ein||"",address:i.address||"",city:i.city||"",state:i.state||"",zip:i.zip||"",commission:i.commissionRate||50,bonus:i.bonus||"",status:i.status||"Active"}):e&&!u&&f({fullName:"",email:"",phone:"",password:"",companyName:"",ein:"",address:"",city:"",state:"",zip:"",commission:50,bonus:"",status:"Active"})},[e,u,i]);const h=(v,g="error")=>{l({message:v,type:g}),setTimeout(()=>l(null),5e3)},m=v=>{const{name:g,value:b}=v.target;f(w=>({...w,[g]:b}))},p=()=>{f(v=>({...v,status:v.status==="Active"?"Inactive":"Active"}))},x=async v=>{var g;v.preventDefault(),s(!0);try{const b={...d};b.commission&&(b.commission=parseFloat(b.commission));let w="create-agent-user",j=b;u&&(w="update-agent",j={...b,agentId:i.id,password:((g=b.password)==null?void 0:g.trim())||void 0}),console.log(`Submitting [${n}] payload:`,j);const{data:_,error:S}=await U.functions.invoke(w,{body:j});if(console.log("Edge Response:",_,S),S)throw new Error(S.message||"Function invocation failed");if(_&&!_.success)throw new Error(_.error||"Operation failed");h(`Agent ${u?"updated":"created"} successfully!`,"success"),setTimeout(()=>{r(),t()},1e3)}catch(b){console.error("Submission Error:",b),h(b.message||"Unknown error occurred","error")}finally{s(!1)}};return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"w-full max-w-2xl bg-[#0a0a0a] border border-gray-800 rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 text-white relative",children:[o&&c.jsx("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 z-[60] px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in slide-in-from-top-4 fade-in duration-300 ${o.type==="error"?"bg-red-500/10 border border-red-500/50 text-red-400":"bg-green-500/10 border border-green-500/50 text-green-400"}`,children:c.jsx("span",{className:"text-sm font-medium",children:o.message})}),c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-[#0a0a0a]",children:[c.jsx("h2",{className:"text-xl font-semibold",children:u?"Edit Agent":"Add New Agent"}),c.jsx("button",{onClick:t,disabled:a,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(uc,{size:20})})]}),c.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto custom-scrollbar bg-[#0a0a0a]",children:c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest pb-1 border-b border-gray-800",children:"Personal Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Full Name *"}),c.jsx("input",{required:!0,name:"fullName",value:d.fullName,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Email *"}),c.jsx("input",{required:!0,type:"email",name:"email",value:d.email,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Phone"}),c.jsx("input",{name:"phone",value:d.phone,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:u?"New Password (Optional)":"Temporary Password *"}),c.jsx("input",{required:!u,type:"text",name:"password",value:d.password,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none font-mono",placeholder:u?"Leave blank to keep current":"Secure password"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest pb-1 border-b border-gray-800",children:"Business Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Company Name *"}),c.jsx("input",{required:!0,name:"companyName",value:d.companyName,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"EIN"}),c.jsx("input",{name:"ein",value:d.ein,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Address"}),c.jsx("input",{name:"address",value:d.address,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"City"}),c.jsx("input",{name:"city",value:d.city,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"State"}),c.jsx("input",{name:"state",value:d.state,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Zip"}),c.jsx("input",{name:"zip",value:d.zip,onChange:m,className:"input-field w-full h-10 px-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest pb-1 border-b border-gray-800",children:"Commission & Status"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Commission %"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",name:"commission",value:d.commission,onChange:m,className:"w-full h-10 pl-3 pr-8 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"}),c.jsx("span",{className:"absolute right-3 top-2.5 text-gray-500 text-sm",children:"%"})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Status"}),c.jsxs("div",{onClick:p,className:"h-10 px-3 rounded-md bg-gray-900 border border-gray-800 flex items-center justify-between cursor-pointer hover:border-gray-700",children:[c.jsx("span",{className:`text-sm ${d.status==="Active"?"text-green-400":"text-gray-500"}`,children:d.status}),c.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${d.status==="Active"?"bg-purple-600":"bg-gray-700"}`,children:c.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all ${d.status==="Active"?"left-6":"left-1"}`})})]})]}),c.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[c.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Notes"}),c.jsx("textarea",{name:"bonus",value:d.bonus,onChange:m,rows:"2",className:"w-full p-3 rounded-md bg-gray-900 border border-gray-800 focus:border-purple-500 focus:outline-none"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-800",children:[c.jsx("button",{type:"button",onClick:t,disabled:a,className:"flex-1 py-2.5 bg-gray-900 hover:bg-gray-800 text-gray-300 rounded-lg font-medium border border-gray-800",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:a,className:"flex-1 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium shadow-lg shadow-purple-900/20 flex items-center justify-center gap-2",children:a?c.jsx(G8,{size:16,className:"animate-spin"}):u?"Update Agent":"Create Agent"})]})]})})]})}):null}const Pse=()=>{const{isAdmin:e}=Da(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(!1),[o,l]=y.useState("add"),[u,d]=y.useState(null);y.useEffect(()=>{f()},[]);const f=async()=>{i(!0);const x=await sk.fetchAgents({status:"Active"});x.success&&r(x.data),i(!1)},h=()=>{l("add"),d(null),s(!0)},m=x=>{l("edit"),d(x),s(!0)},p=async x=>{if(!confirm(`Delete agent ${x.name}?`))return;const v=await sk.deleteAgent(x.id);v.success?r(g=>g.filter(b=>b.id!==x.id)):alert("Error deleting agent: "+v.error)};return e()?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Agent Management"}),c.jsx("p",{className:"text-gray-400",children:"Manage agents, commission settings, and performance tracking"})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Agents"}),c.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium shadow-lg shadow-blue-600/20",children:[c.jsx(Ci,{size:18}),c.jsx("span",{children:"Add New Agent"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-800",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Agent Name"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Phone"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Commission"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Hire Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Status"}),c.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-400",children:"Actions"})]})}),c.jsx("tbody",{children:n?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-400",children:"Loading agents..."})}):t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-400",children:"No agents found"})}):t.map(x=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors group",children:[c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-xs font-bold",children:x.name.split(" ").map(v=>v[0]).join("")}),c.jsx("span",{className:"font-medium text-white",children:x.name})]})}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:x.email}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:x.phone||"-"}),c.jsxs("td",{className:"py-3 px-4 text-green-400 font-medium",children:[x.commissionRate,"%"]}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:x.hireDate?new Date(x.hireDate).toLocaleDateString():"-"}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.status==="Active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:x.status})}),c.jsx("td",{className:"py-3 px-4 text-right",children:c.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>m(x),className:"p-1.5 text-blue-400 hover:bg-blue-500/10 rounded transition-colors",title:"Edit",children:c.jsx(cO,{size:16})}),c.jsx("button",{onClick:()=>p(x),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Delete",children:c.jsx(yh,{size:16})})]})})]},x.id))})]})})]}),c.jsx(kse,{isOpen:a,mode:o,agent:u,onClose:()=>s(!1),onSuccess:()=>{f(),s(!1)}})]}):c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-[#111827] p-12 rounded-xl border border-gray-800 text-center",children:[c.jsx(gF,{size:64,className:"mx-auto text-yellow-500 mb-4"}),c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Restricted"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Agent Management is only accessible to administrators."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your administrator for agent-related requests."})]})})},Wf={async fetchLoads(e={}){try{let t=U.from("loads").select("*").order("created_at",{ascending:!1});e.agentId&&(t=t.eq("agent_id",e.agentId)),e.status&&(t=t.eq("status",e.status)),e.customerId&&(t=t.eq("customer_id",e.customerId));const{data:r,error:n}=await t;if(n)throw n;return{success:!0,data:r.map(a=>({id:a.id,customerId:a.customer_id,customerName:a.customer_name,carrierId:a.carrier_id,carrierName:a.carrier_name,agentId:a.agent_id,agentName:a.agent_name,pickupAddress:a.pickup_address,deliveryAddress:a.delivery_address,rate:parseFloat(a.rate),carrierCost:parseFloat(a.carrier_cost),tripDistance:a.trip_distance,status:a.status,equipmentType:a.equipment_type,appointmentDate:a.appointment_date,referenceNumber:a.reference_number,notes:a.notes,createdDate:a.created_date}))}}catch(t){return console.error("Error fetching loads:",t),{success:!1,error:t.message}}},async createLoad(e){try{const{data:t,error:r}=await U.rpc("generate_load_id");if(r)throw r;const n={id:t,customer_id:e.customerId||null,customer_name:e.customerName,carrier_id:e.carrierId||null,carrier_name:e.carrierName,agent_id:e.agentId,agent_name:e.agentName,pickup_address:e.pickupAddress,delivery_address:e.deliveryAddress,rate:e.rate,carrier_cost:e.carrierCost||0,trip_distance:e.tripDistance||0,status:e.status,equipment_type:e.equipmentType,appointment_date:e.appointmentDate,reference_number:e.referenceNumber||null,notes:e.notes||null},{data:i,error:a}=await U.from("loads").insert([n]).select().single();if(a)throw a;return{success:!0,data:{id:i.id,customerId:i.customer_id,customerName:i.customer_name,carrierId:i.carrier_id,carrierName:i.carrier_name,agentId:i.agent_id,agentName:i.agent_name,pickupAddress:i.pickup_address,deliveryAddress:i.delivery_address,rate:parseFloat(i.rate),carrierCost:parseFloat(i.carrier_cost),tripDistance:i.trip_distance,status:i.status,equipmentType:i.equipment_type,appointmentDate:i.appointment_date,referenceNumber:i.reference_number,notes:i.notes,createdDate:i.created_date}}}catch(t){return console.error("Error creating load:",t),{success:!1,error:t.message}}},async updateLoad(e,t){try{const r={customer_id:t.customerId||null,customer_name:t.customerName,carrier_id:t.carrierId||null,carrier_name:t.carrierName,agent_id:t.agentId,agent_name:t.agentName,pickup_address:t.pickupAddress,delivery_address:t.deliveryAddress,rate:t.rate,carrier_cost:t.carrierCost||0,trip_distance:t.tripDistance||0,status:t.status,equipment_type:t.equipmentType,appointment_date:t.appointmentDate,reference_number:t.referenceNumber||null,notes:t.notes||null,updated_at:new Date().toISOString()},{data:n,error:i}=await U.from("loads").update(r).eq("id",e).select().single();if(i)throw i;return{success:!0,data:{id:n.id,customerId:n.customer_id,customerName:n.customer_name,carrierId:n.carrier_id,carrierName:n.carrier_name,agentId:n.agent_id,agentName:n.agent_name,pickupAddress:n.pickup_address,deliveryAddress:n.delivery_address,rate:parseFloat(n.rate),carrierCost:parseFloat(n.carrier_cost),tripDistance:n.trip_distance,status:n.status,equipmentType:n.equipment_type,appointmentDate:n.appointment_date,referenceNumber:n.reference_number,notes:n.notes,createdDate:n.created_date}}}catch(r){return console.error("Error updating load:",r),{success:!1,error:r.message}}},async deleteLoad(e){try{const{error:t}=await U.from("loads").delete().eq("id",e);if(t)throw t;return{success:!0}}catch(t){return console.error("Error deleting load:",t),{success:!1,error:t.message}}}},By=["Pending","Booked","Delivered","Cancelled"],f4=["Dry Van","Reefer","Flatbed","Power Only"],h4=(e,t)=>e-t,Ase=(e,t)=>e===0?0:(e-t)/e*100;function qf(){return qf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(this,arguments)}var ok=function(e){var t=y.useRef(e);return t.current=e,t},Cse=function(e,t){var r;return function(){for(var n=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];r!==null&&(clearTimeout(r),r=null),r=setTimeout(function(){return e.apply(n,a)},t)}},Ose=" use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",Tse=function(t){var r=t===void 0?{}:t,n=r.requestOptions,i=r.debounce,a=i===void 0?200:i,s=r.cache,o=s===void 0?24*60*60:s,l=r.cacheKey,u=l===void 0?"upa":l,d=r.googleMaps,f=r.callbackName,h=r.defaultValue,m=h===void 0?"":h,p=r.initOnMount,x=p===void 0?!0:p,v=y.useState(!1),g=v[0],b=v[1],w=y.useState(m),j=w[0],_=w[1],S=y.useState({loading:!1,status:"",data:[]}),N=S[0],E=S[1],A=y.useRef(),O=ok(n),C=ok(d),M=y.useCallback(function(){var R;if(!A.current){var P=window,I=P.google,L=C.current,Q=(L==null?void 0:L.places)||(I==null||(R=I.maps)==null?void 0:R.places);if(!Q){console.error(Ose);return}A.current=new Q.AutocompleteService,b(!0)}},[C]),K=y.useCallback(function(){E({loading:!1,status:"",data:[]})},[]),T=y.useCallback(function(R){R===void 0&&(R=u);try{sessionStorage.removeItem(R)}catch{}},[u]),z=y.useCallback(Cse(function(R){var P;if(!R){K();return}E(function(L){return qf({},L,{loading:!0})});var I={};try{I=JSON.parse(sessionStorage.getItem(u)||"{}")}catch{}if(o&&(I=Object.keys(I).reduce(function(L,Q){return I[Q].maxAge-Date.now()>=0&&(L[Q]=I[Q]),L},{}),I[R])){E({loading:!1,status:"OK",data:I[R].data});return}(P=A.current)==null||P.getPlacePredictions(qf({},O.current,{input:R}),function(L,Q){if(E({loading:!1,status:Q,data:L||[]}),o&&Q==="OK"){I[R]={data:L,maxAge:Date.now()+o*1e3};try{sessionStorage.setItem(u,JSON.stringify(I))}catch{}}})},a),[o,u,K,O]),D=y.useCallback(function(R,P){P===void 0&&(P=!0),_(R),A.current&&P&&z(R)},[z]);return y.useEffect(function(){if(!x)return function(){return null};var R=window,P=R.google;return!C.current&&!(P!=null&&P.maps)&&f?window[f]=M:M(),function(){window[f]&&delete window[f]}},[f,C,M,x]),{ready:g,value:j,suggestions:N,setValue:D,clearSuggestions:K,clearCache:T,init:M}},Ise=" use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",Rse=function(t){var r=new window.google.maps.Geocoder;return new Promise(function(n,i){r.geocode(t,function(a,s){s!=="OK"&&i(s),!t.address&&t.componentRestrictions&&(console.error(Ise),n(a)),n(a)})})},Mse=function(t){var r=t.geometry.location,n=r.lat,i=r.lng;return{lat:n(),lng:i()}};function lk({label:e,value:t,onChange:r,placeholder:n="Start typing address...",required:i=!1}){const{ready:a,value:s,suggestions:{status:o,data:l},setValue:u,clearSuggestions:d}=Tse({debounce:300,requestOptions:{componentRestrictions:{country:"us"}}}),[f,h]=y.useState(!1);y.useEffect(()=>{t&&t!==s&&u(t,!1)},[t]);const m=async v=>{u(v,!1),d(),r(v);try{const g=await Rse({address:v}),{lat:b,lng:w}=await Mse(g[0]);console.log(`[Address Autocomplete] Selected: ${v} (${b}, ${w})`)}catch(g){console.error("[Address Autocomplete] Error getting coordinates:",g)}},p=v=>{u(v.target.value),r(v.target.value)},x=()=>{setTimeout(()=>{h(!1),d()},200)};return c.jsxs("div",{className:"flex flex-col gap-2",children:[e&&c.jsxs("label",{className:"text-sm font-medium text-gray-400",children:[e," ",i&&c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:c.jsx(M_,{size:18})}),c.jsx("input",{value:s,onChange:p,onFocus:()=>h(!0),onBlur:x,autoComplete:"off",className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white text-sm focus:outline-none focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",placeholder:a?n:"Enter address manually (Google Maps unavailable)"}),o==="OK"&&f&&c.jsx("div",{className:"absolute z-50 mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-xl w-full max-h-60 overflow-y-auto",children:l.map(({place_id:v,description:g})=>c.jsxs("div",{onClick:()=>m(g),className:"px-4 py-3 hover:bg-gray-700 cursor-pointer text-sm text-white border-b border-gray-700 last:border-b-0 transition-colors flex items-start gap-2",children:[c.jsx(M_,{size:16,className:"text-blue-400 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:g})]},v))}),!a&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})})]})]})}async function Dse(e,t,r){return!e||!t?(console.warn("[Distance Calculator] Missing pickup or delivery address"),0):(console.warn("[Distance Calculator] No valid API key provided, using mock distance"),Math.floor(Math.random()*1e3)+100)}const Lse=()=>{const{currentUser:e,isAdmin:t}=Da(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(!1),[l,u]=y.useState(""),[d,f]=y.useState("All"),[h,m]=y.useState("All"),[p,x]=y.useState({key:null,direction:"asc"}),[v,g]=y.useState(!1),[b,w]=y.useState(null);y.useEffect(()=>{j()},[e,s]);const j=async()=>{a(!0);const T={};(!t()||!s)&&(T.agentId=e.id);const z=await Wf.fetchLoads(T);z.success&&n(z.data),a(!1)},_=y.useMemo(()=>{let T=[...r];if(l){const z=l.toLowerCase();T=T.filter(D=>D.customerName.toLowerCase().includes(z)||D.carrierName.toLowerCase().includes(z)||D.id.toLowerCase().includes(z))}return d!=="All"&&(T=T.filter(z=>z.status===d)),h!=="All"&&(T=T.filter(z=>z.equipmentType===h)),p.key&&T.sort((z,D)=>{let R=z[p.key],P=D[p.key];return R||(R=""),P||(P=""),typeof R=="string"&&(R=R.toLowerCase(),P=P.toLowerCase()),R<P?p.direction==="asc"?-1:1:R>P?p.direction==="asc"?1:-1:0}),T},[r,l,d,h,p]),S=y.useMemo(()=>{const T={};return By.forEach(z=>{T[z]=r.filter(D=>D.status===z).length}),T},[r]),N=T=>{x(z=>({key:T,direction:z.key===T&&z.direction==="asc"?"desc":"asc"}))},E=async T=>{if(!confirm("Are you sure you want to delete this load?"))return;(await Wf.deleteLoad(T)).success&&n(D=>D.filter(R=>R.id!==T))},A=T=>{w(T),g(!0)},O=()=>{const T=["Load ID","Customer","Carrier","Pickup","Delivery","Rate","Carrier Cost","Gross Profit","Distance (mi)","Status","Equipment","Agent","Date"],z=_.map(L=>[L.id,L.customerName,L.carrierName,L.pickupAddress,L.deliveryAddress,L.rate,L.carrierCost,h4(L.rate,L.carrierCost),L.tripDistance,L.status,L.equipmentType,L.agentName,L.createdDate]),D=[T,...z].map(L=>L.join(",")).join(`
`),R=new Blob([D],{type:"text/csv"}),P=window.URL.createObjectURL(R),I=document.createElement("a");I.href=P,I.download=`loads_export_${new Date().toISOString().split("T")[0]}.csv`,I.click(),window.URL.revokeObjectURL(P)},C=({column:T})=>p.key!==T?c.jsx(Vd,{size:14,className:"opacity-0 group-hover:opacity-50"}):p.direction==="asc"?c.jsx(Vd,{size:14}):c.jsx(Qv,{size:14}),M=T=>({Pending:"bg-gray-500/20 text-gray-400 border-gray-500/30",Booked:"bg-blue-500/20 text-blue-400 border-blue-500/30",Delivered:"bg-green-500/20 text-green-400 border-green-500/30",Cancelled:"bg-red-500/20 text-red-400 border-red-500/30"})[T]||"bg-gray-500/20 text-gray-400 border-gray-500/30",K=T=>({"Dry Van":"bg-blue-500/20 text-blue-400",Reefer:"bg-cyan-500/20 text-cyan-400",Flatbed:"bg-orange-500/20 text-orange-400","Power Only":"bg-purple-500/20 text-purple-400"})[T]||"bg-gray-500/20 text-gray-400";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[c.jsx(zs,{size:32,className:"text-blue-400"}),"Loads Management"]}),c.jsxs("div",{className:"flex gap-6 text-sm text-gray-400",children:[c.jsxs("span",{children:["Total: ",c.jsx("strong",{className:"text-white",children:_.length})]}),c.jsxs("span",{children:["Pending: ",c.jsx("strong",{className:"text-gray-400",children:S.Pending||0})]}),c.jsxs("span",{children:["Booked: ",c.jsx("strong",{className:"text-blue-400",children:S.Booked||0})]}),c.jsxs("span",{children:["Delivered: ",c.jsx("strong",{className:"text-green-400",children:S.Delivered||0})]}),c.jsxs("span",{children:["Cancelled: ",c.jsx("strong",{className:"text-red-400",children:S.Cancelled||0})]})]})]}),c.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t()&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>o(!s),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors border ${s?"bg-blue-600 border-blue-600 text-white":"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:c.jsx("span",{children:s?"All Loads":"My Loads"})}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 border border-gray-700 text-gray-300 hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(Zv,{size:18}),c.jsx("span",{children:"Export CSV"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),c.jsx("input",{type:"text",placeholder:"Search loads...",value:l,onChange:T=>u(T.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500 w-64"})]}),c.jsxs("button",{onClick:()=>{w(null),g(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium shadow-lg shadow-blue-600/20",children:[c.jsx(Ci,{size:18}),c.jsx("span",{children:"Add Load"})]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"All",children:"All Statuses"}),By.map(T=>c.jsx("option",{value:T,children:T},T))]}),c.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"All",children:"All Equipment"}),f4.map(T=>c.jsx("option",{value:T,children:T},T))]})]}),c.jsx("div",{className:"bg-[#111827] rounded-xl border border-gray-800 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[c.jsx("th",{onClick:()=>N("id"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Load ID",c.jsx(C,{column:"id"})]})}),c.jsx("th",{onClick:()=>N("customerName"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Customer",c.jsx(C,{column:"customerName"})]})}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Carrier"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Pickup"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Delivery"}),c.jsx("th",{onClick:()=>N("rate"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Rate",c.jsx(C,{column:"rate"})]})}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Distance"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Equipment"}),c.jsx("th",{onClick:()=>N("status"),className:"text-left py-3 px-4 text-sm font-medium text-gray-400 cursor-pointer hover:text-white transition-colors group",children:c.jsxs("div",{className:"flex items-center gap-2",children:["Status",c.jsx(C,{column:"status"})]})}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Agent"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Date"}),c.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-400",children:"Actions"})]})}),c.jsx("tbody",{children:i?c.jsx("tr",{children:c.jsx("td",{colSpan:"12",className:"text-center py-8 text-gray-400",children:"Loading loads..."})}):_.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"12",className:"text-center py-8 text-gray-400",children:"No loads found"})}):_.map(T=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors group",children:[c.jsx("td",{className:"py-3 px-4 text-blue-400 font-medium",children:T.id}),c.jsx("td",{className:"py-3 px-4 text-white font-medium",children:T.customerName}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:T.carrierName}),c.jsx("td",{className:"py-3 px-4 text-gray-400 text-xs max-w-xs truncate",title:T.pickupAddress,children:T.pickupAddress}),c.jsx("td",{className:"py-3 px-4 text-gray-400 text-xs max-w-xs truncate",title:T.deliveryAddress,children:T.deliveryAddress}),c.jsxs("td",{className:"py-3 px-4 text-green-400 font-medium",children:["$",T.rate.toLocaleString()]}),c.jsxs("td",{className:"py-3 px-4 text-gray-300",children:[T.tripDistance," mi"]}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${K(T.equipmentType)}`,children:T.equipmentType})}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs border ${M(T.status)}`,children:T.status})}),c.jsx("td",{className:"py-3 px-4 text-gray-300",children:T.agentName}),c.jsx("td",{className:"py-3 px-4 text-gray-400 text-sm",children:T.createdDate}),c.jsx("td",{className:"py-3 px-4 text-right",children:c.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>A(T),className:"p-1.5 text-blue-400 hover:bg-blue-500/10 rounded transition-colors",title:"Edit",children:c.jsx(cO,{size:16})}),c.jsx("button",{onClick:()=>E(T.id),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Delete",children:c.jsx(yh,{size:16})})]})})]},T.id))})]})})}),v&&c.jsx($se,{load:b,onClose:()=>{g(!1),w(null)},onSave:T=>{n(b?z=>z.map(D=>D.id===T.id?T:D):z=>[...z,T]),g(!1),w(null)},currentUser:e,isAdmin:t()})]})},$se=({load:e,onClose:t,onSave:r,currentUser:n,isAdmin:i})=>{const[a,s]=y.useState({id:(e==null?void 0:e.id)||"",customerId:(e==null?void 0:e.customerId)||"",customerName:(e==null?void 0:e.customerName)||"",carrierId:(e==null?void 0:e.carrierId)||"",carrierName:(e==null?void 0:e.carrierName)||"",pickupAddress:(e==null?void 0:e.pickupAddress)||"",deliveryAddress:(e==null?void 0:e.deliveryAddress)||"",rate:(e==null?void 0:e.rate)||"",carrierCost:(e==null?void 0:e.carrierCost)||"",tripDistance:(e==null?void 0:e.tripDistance)||0,status:(e==null?void 0:e.status)||"Pending",equipmentType:(e==null?void 0:e.equipmentType)||"Dry Van",agentId:(e==null?void 0:e.agentId)||n.id,agentName:(e==null?void 0:e.agentName)||n.name,appointmentDate:(e==null?void 0:e.appointmentDate)||"",referenceNumber:(e==null?void 0:e.referenceNumber)||"",notes:(e==null?void 0:e.notes)||""}),[o,l]=y.useState({}),[u,d]=y.useState(!1),[f,h]=y.useState(!1);y.useEffect(()=>{a.pickupAddress&&a.deliveryAddress&&!e&&m()},[a.pickupAddress,a.deliveryAddress]);const m=async()=>{h(!0);try{const S=await Dse(a.pickupAddress,a.deliveryAddress,void 0);s(N=>({...N,tripDistance:S}))}catch(_){console.error("Error calculating distance:",_)}h(!1)},p=(_,S)=>{if(s(N=>({...N,[_]:S})),o[_]&&l(N=>({...N,[_]:null})),_==="agentId"){const N=dl.find(E=>E.id===parseInt(S));N&&s(E=>({...E,agentId:N.id,agentName:N.name}))}},x=()=>{const _={};return a.customerName.trim()||(_.customerName="Customer name is required"),a.carrierName.trim()||(_.carrierName="Carrier name is required"),a.rate||(_.rate="Rate is required"),a.pickupAddress.trim()||(_.pickupAddress="Pickup address is required"),a.deliveryAddress.trim()||(_.deliveryAddress="Delivery address is required"),a.appointmentDate||(_.appointmentDate="Appointment date is required"),a.agentId||(_.agent="Agent is required"),l(_),Object.keys(_).length===0},v=async _=>{if(_.preventDefault(),!x())return;d(!0);const S={...a,rate:parseFloat(a.rate),carrierCost:a.carrierCost?parseFloat(a.carrierCost):0,tripDistance:a.tripDistance||0};let N;e?N=await Wf.updateLoad(e.id,S):N=await Wf.createLoad(S),d(!1),N.success&&r(N.data)},g=a.rate&&a.carrierCost?h4(parseFloat(a.rate),parseFloat(a.carrierCost)):0,b=a.rate&&a.carrierCost?Ase(parseFloat(a.rate),parseFloat(a.carrierCost)):0,w=dl.find(_=>_.id===a.agentId),j=w&&g?g*w.commission/100:0;return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-[#111827] rounded-xl border border-gray-800 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center sticky top-0 bg-[#111827] z-10",children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[c.jsx(zs,{size:28,className:"text-blue-400"}),e?"Edit Load":"Add New Load"]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(uc,{size:24})})]}),c.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",autoComplete:"off",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Cn,{size:20,className:"text-blue-400"}),"General Information"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Load ID"}),c.jsx("input",{type:"text",value:a.id,disabled:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-gray-400 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Status ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("select",{value:a.status,onChange:_=>p("status",_.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:By.map(_=>c.jsx("option",{value:_,children:_},_))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Customer Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:a.customerName,onChange:_=>p("customerName",_.target.value),autoComplete:"off",className:`w-full bg-gray-900 border ${o.customerName?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`}),o.customerName&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.customerName})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Carrier Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:a.carrierName,onChange:_=>p("carrierName",_.target.value),className:`w-full bg-gray-900 border ${o.carrierName?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`}),o.carrierName&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.carrierName})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Rate ($) ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),c.jsx("input",{type:"number",value:a.rate,onChange:_=>p("rate",_.target.value),className:`w-full bg-gray-900 border ${o.rate?"border-red-500":"border-gray-700"} rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500`,placeholder:"0"})]}),o.rate&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.rate})]}),i&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Carrier Cost ($)"}),c.jsxs("div",{className:"relative",children:[c.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),c.jsx("input",{type:"number",value:a.carrierCost,onChange:_=>p("carrierCost",_.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"0"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Equipment Type ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("select",{value:a.equipmentType,onChange:_=>p("equipmentType",_.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:f4.map(_=>c.jsx("option",{value:_,children:_},_))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Assigned Agent ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("select",{value:a.agentId,onChange:_=>p("agentId",_.target.value),className:`w-full bg-gray-900 border ${o.agent?"border-red-500":"border-gray-700"} rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500`,disabled:!i,children:dl.filter(_=>_.status==="Active").map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))}),o.agent&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.agent})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(zs,{size:20,className:"text-blue-400"}),"Pickup & Delivery"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx(lk,{label:"Pickup Address",value:a.pickupAddress,onChange:_=>p("pickupAddress",_),required:!0}),o.pickupAddress&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.pickupAddress})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx(lk,{label:"Delivery Address",value:a.deliveryAddress,onChange:_=>p("deliveryAddress",_),required:!0}),o.deliveryAddress&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.deliveryAddress})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Appointment Date ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(aO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),c.jsx("input",{type:"date",value:a.appointmentDate,onChange:_=>p("appointmentDate",_.target.value),className:`w-full bg-gray-900 border ${o.appointmentDate?"border-red-500":"border-gray-700"} rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500`})]}),o.appointmentDate&&c.jsx("p",{className:"text-red-400 text-sm mt-1",children:o.appointmentDate})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Reference Number"}),c.jsx("input",{type:"text",value:a.referenceNumber,onChange:_=>p("referenceNumber",_.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"REF-XXX-XXX"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Trip Distance (miles)"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",value:a.tripDistance,disabled:!0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-gray-400 cursor-not-allowed"}),f&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated from addresses"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Notes"}),c.jsx("textarea",{value:a.notes,onChange:_=>p("notes",_.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",rows:"3",placeholder:"Optional notes about this load"})]})]}),i&&a.carrierCost&&c.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(An,{size:20,className:"text-green-400"}),"Financial Summary"]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Gross Profit"}),c.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",g.toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Profit Margin"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[b.toFixed(2),"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Agent Commission"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:["$",j.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w==null?void 0:w.commission,"% of gross profit"]})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:u||f,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":e?"Update Load":"Create Load"})]})]})]})})},Fse=()=>{const[e,t]=y.useState({carrier_name:"",mc_number:"",dot_number:"",ein:"",phone:"",email:"",address:"",insurance_liability:"",insurance_cargo:"",insurance_expiration:"",agreement_accepted:!1}),[r,n]=y.useState({w9_file:null,coi_file:null,agreement_file:null}),[i,a]=y.useState("idle"),[s,o]=y.useState(""),l=f=>{const{name:h,value:m,type:p,checked:x}=f.target;t(v=>({...v,[h]:p==="checkbox"?x:m}))},u=f=>{const{name:h,files:m}=f.target;n(p=>({...p,[h]:m[0]}))},d=async f=>{if(f.preventDefault(),a("submitting"),o(""),Number(e.insurance_liability)<1e6){a("error"),o("Auto Liability must be at least $1,000,000");return}if(Number(e.insurance_cargo)<1e5){a("error"),o("Cargo Coverage must be at least $100,000");return}const h=new Date(e.insurance_expiration),m=new Date;if(m.setDate(m.getDate()+30),h<m){a("error"),o("Insurance expiration must be at least 30 days from today");return}if(!e.agreement_accepted){a("error"),o("You must accept the Broker-Carrier Agreement");return}const p=new FormData;Object.keys(e).forEach(x=>p.append(x,e[x])),r.w9_file&&p.append("w9_file",r.w9_file),r.coi_file&&p.append("coi_file",r.coi_file),r.agreement_file&&p.append("agreement_file",r.agreement_file);try{const x=await fetch("http://localhost:5000/api/carrier/onboard",{method:"POST",body:p}),v=await x.json();x.ok?(a("success"),o("Application submitted successfully! We will review your information shortly.")):(a("error"),o(v.message||"Submission failed"))}catch{a("error"),o("Network error. Please ensure the backend server is running.")}};return i==="success"?c.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-white rounded-xl shadow-lg text-center",children:[c.jsx(sO,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Submission Successful!"}),c.jsx("p",{className:"text-gray-600",children:s}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another"})]}):c.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-blue-900 px-8 py-6",children:[c.jsx("h1",{className:"text-3xl font-bold text-white",children:"Carrier Onboarding"}),c.jsx("p",{className:"text-blue-200 mt-2",children:"Join our network of trusted carriers"})]}),c.jsxs("form",{onSubmit:d,className:"p-8 space-y-8",children:[i==="error"&&c.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-center",children:[c.jsx(ph,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("p",{className:"text-red-700",children:s})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Company Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name"}),c.jsx("input",{required:!0,type:"text",name:"carrier_name",value:e.carrier_name,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EIN"}),c.jsx("input",{required:!0,type:"text",name:"ein",value:e.ein,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MC Number"}),c.jsx("input",{required:!0,type:"text",name:"mc_number",value:e.mc_number,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DOT Number"}),c.jsx("input",{required:!0,type:"text",name:"dot_number",value:e.dot_number,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("input",{required:!0,type:"text",name:"address",value:e.address,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{required:!0,type:"tel",name:"phone",value:e.phone,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{required:!0,type:"email",name:"email",value:e.email,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Insurance Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auto Liability ($)"}),c.jsx("input",{required:!0,type:"number",name:"insurance_liability",placeholder:"Min 1,000,000",value:e.insurance_liability,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum $1,000,000 required"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo Coverage ($)"}),c.jsx("input",{required:!0,type:"number",name:"insurance_cargo",placeholder:"Min 100,000",value:e.insurance_cargo,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum $100,000 required"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date"}),c.jsx("input",{required:!0,type:"date",name:"insurance_expiration",value:e.insurance_expiration,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4 border-b pb-2",children:"Documents"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:[c.jsx(Cn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"W9 Form"}),c.jsx("input",{required:!0,type:"file",name:"w9_file",accept:".pdf",onChange:u,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:[c.jsx(Cn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate of Insurance"}),c.jsx("input",{required:!0,type:"file",name:"coi_file",accept:".pdf",onChange:u,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors",children:[c.jsx(Cn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signed Agreement"}),c.jsx("input",{required:!0,type:"file",name:"agreement_file",accept:".pdf",onChange:u,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg",children:[c.jsx("input",{type:"checkbox",name:"agreement_accepted",checked:e.agreement_accepted,onChange:l,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{className:"text-sm text-gray-700",children:"I certify that the information provided is true and accurate. I agree to the Broker-Carrier Agreement and understand that providing false information may result in the rejection of this application."})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:i==="submitting",className:`px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition-all ${i==="submitting"?"opacity-75 cursor-not-allowed":""}`,children:i==="submitting"?"Submitting...":"Submit Application"})})]})]})},Bse=()=>c.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:c.jsx(Fse,{})}),zse=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState("All"),[s,o]=y.useState("");y.useEffect(()=>{l()},[]);const l=async()=>{try{const m=await(await fetch("http://localhost:5000/api/carrier/admin/all")).json();t(m),n(!1)}catch(h){console.error("Error fetching carriers:",h),n(!1)}},u=async(h,m)=>{const p=m==="Approved"?"/approve":"/reject";try{(await fetch(`http://localhost:5000/api/carrier${p}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:h})})).ok&&t(v=>v.map(g=>g._id===h?{...g,status:m}:g))}catch(x){console.error(`Error marking carrier as ${m}:`,x)}},d=e.filter(h=>{const m=i==="All"||h.status===i,p=h.carrier_name.toLowerCase().includes(s.toLowerCase())||h.mc_number.includes(s)||h.dot_number.includes(s);return m&&p}),f=h=>{switch(h){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Carrier Applications"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage onboarding requests and compliance"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search MC, DOT, Name...",value:s,onChange:h=>o(h.target.value),className:"pl-9 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none w-full sm:w-64"})]}),c.jsx("div",{className:"flex items-center space-x-2 bg-gray-100 p-1 rounded-lg",children:["All","Pending","Approved","Rejected"].map(h=>c.jsx("button",{onClick:()=>a(h),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${i===h?"bg-white shadow-sm text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:h},h))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-gray-600",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Carrier"}),c.jsx("th",{className:"px-6 py-3",children:"MC / DOT"}),c.jsx("th",{className:"px-6 py-3",children:"Insurance"}),c.jsx("th",{className:"px-6 py-3",children:"Documents"}),c.jsx("th",{className:"px-6 py-3",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:r?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center",children:"Loading carriers..."})}):d.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center",children:"No carriers found."})}):d.map(h=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-medium text-gray-900",children:h.carrier_name}),c.jsx("div",{className:"text-xs text-gray-500",children:h.email}),c.jsx("div",{className:"text-xs text-gray-500",children:h.phone})]}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("div",{children:["MC: ",h.mc_number]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["DOT: ",h.dot_number]})]}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("div",{children:["Liab: $",h.insurance_liability.toLocaleString()]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Cargo: $",h.insurance_cargo.toLocaleString()]}),c.jsxs("div",{className:`text-xs mt-1 flex items-center ${new Date(h.insurance_expiration)<new Date?"text-red-600 font-bold":"text-green-600"}`,children:[new Date(h.insurance_expiration)<new Date&&c.jsx(AF,{className:"w-3 h-3 mr-1"}),"Exp: ",new Date(h.insurance_expiration).toLocaleDateString()]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex space-x-2",children:[h.w9_file_url&&c.jsx("a",{href:`http://localhost:5000${h.w9_file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:"View W9",children:c.jsx(Cn,{className:"w-4 h-4"})}),h.coi_file_url&&c.jsx("a",{href:`http://localhost:5000${h.coi_file_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:"View COI",children:c.jsx(Cn,{className:"w-4 h-4"})})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${f(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-right",children:h.status==="Pending"&&c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{onClick:()=>u(h._id,"Approved"),className:"p-1.5 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",title:"Approve",children:c.jsx(k8,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u(h._id,"Rejected"),className:"p-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",title:"Reject",children:c.jsx(uc,{className:"w-4 h-4"})})]})})]},h._id))})]})})]})},Use=()=>c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Carrier Management"}),c.jsx("p",{className:"text-gray-500",children:"Oversee carrier onboarding and compliance status."})]}),c.jsx(zse,{})]}),Vse=()=>{var d;const e=Fi(),[t,r]=y.useState(null),[n,i]=y.useState([]),[a,s]=y.useState(!0);y.useEffect(()=>{o()},[]);const o=async()=>{var m;s(!0);const f=await Ei.getCurrentUser();if(!f||((m=f.user_metadata)==null?void 0:m.role)!=="agent"){e("/tms-login");return}r(f);const h=await ul.fetchOpportunities({created_by:f.id});h.success&&i(h.data),s(!1)};if(a)return c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Loading Dashboard..."})]})});const l={total:n.length,open:n.filter(f=>f.status==="new"||f.status==="contacted").length,closed:n.filter(f=>f.status==="closed-won").length,totalValue:n.reduce((f,h)=>f+(parseFloat(h.value)||0),0)},u=[{month:"Jan",count:0},{month:"Feb",count:0},{month:"Mar",count:0},{month:"Apr",count:0},{month:"May",count:0},{month:"Jun",count:0}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Agent Dashboard"}),c.jsxs("p",{className:"text-gray-400",children:["Welcome back, ",((d=t==null?void 0:t.user_metadata)==null?void 0:d.name)||(t==null?void 0:t.email)]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:c.jsx(Il,{className:"text-blue-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Total Opportunities"})]}),c.jsx("p",{className:"text-3xl font-bold",children:l.total})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:c.jsx(ex,{className:"text-green-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Open Opportunities"})]}),c.jsx("p",{className:"text-3xl font-bold",children:l.open})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:c.jsx(y8,{className:"text-purple-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Closed Won"})]}),c.jsx("p",{className:"text-3xl font-bold",children:l.closed})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:c.jsx(An,{className:"text-yellow-400",size:24})}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Total Value"})]}),c.jsxs("p",{className:"text-3xl font-bold",children:["$",l.totalValue.toLocaleString()]})]})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(N8,{size:20,className:"text-blue-400"}),"Monthly Performance"]}),c.jsx(ty,{width:"100%",height:250,children:c.jsxs(c4,{data:u,children:[c.jsx($w,{strokeDasharray:"3 3",stroke:"#374151",vertical:!1}),c.jsx(Fw,{dataKey:"month",stroke:"#9CA3AF",tickLine:!1,axisLine:!1}),c.jsx(Bw,{stroke:"#9CA3AF",tickLine:!1,axisLine:!1}),c.jsx(Ay,{contentStyle:{backgroundColor:"#1F2937",border:"none",borderRadius:"8px"}}),c.jsx(Rw,{dataKey:"count",fill:"#3B82F6",radius:[4,4,0,0]})]})})]}),c.jsxs("div",{className:"bg-[#111827] p-6 rounded-xl border border-gray-800",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Recent Opportunities"}),n.length===0?c.jsx("p",{className:"text-center py-8 text-gray-400",children:"No opportunities yet"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-800",children:[c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Title"}),c.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-400",children:"Customer"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Value"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Status"}),c.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-gray-400",children:"Created"})]})}),c.jsx("tbody",{children:n.slice(0,10).map(f=>c.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50",children:[c.jsx("td",{className:"py-3 px-4",children:f.title}),c.jsx("td",{className:"py-3 px-4 text-gray-400",children:f.customer_name||"N/A"}),c.jsxs("td",{className:"text-center py-3 px-4 text-green-400",children:["$",parseFloat(f.value||0).toLocaleString()]}),c.jsx("td",{className:"text-center py-3 px-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.status==="closed-won"?"bg-green-500/20 text-green-400":f.status==="closed-lost"?"bg-red-500/20 text-red-400":"bg-blue-500/20 text-blue-400"}`,children:f.status})}),c.jsx("td",{className:"text-center py-3 px-4 text-gray-400 text-sm",children:new Date(f.created_at).toLocaleDateString()})]},f.id))})]})})]})]})};function Wse(){return c.jsx(k7,{children:c.jsx(z3,{children:c.jsxs(R3,{children:[c.jsx(oe,{path:"/",element:c.jsx(DF,{})}),c.jsx(oe,{path:"/carrier-signup",element:c.jsx($F,{})}),c.jsx(oe,{path:"/carrier-success",element:c.jsx(FF,{})}),c.jsx(oe,{path:"/request-quote",element:c.jsx(BF,{})}),c.jsx(oe,{path:"/contact",element:c.jsx(j7,{})}),c.jsx(oe,{path:"/login",element:c.jsx(O7,{})}),c.jsx(oe,{path:"/tms-login",element:c.jsx(T7,{})}),c.jsx(oe,{path:"/terms",element:c.jsx(N7,{})}),c.jsx(oe,{path:"/privacy",element:c.jsx(E7,{})}),c.jsx(oe,{path:"/admin-dashboard",element:c.jsx(S7,{})}),c.jsxs(oe,{element:c.jsx(A7,{}),children:[c.jsxs(oe,{path:"/tms",element:c.jsx(eS,{}),children:[c.jsx(oe,{index:!0,element:c.jsx(pse,{})}),c.jsx(oe,{path:"agent-portal",element:c.jsx(Ese,{})}),c.jsx(oe,{path:"loads",element:c.jsx(Lse,{})}),c.jsx(oe,{path:"carriers",element:c.jsx(gse,{})}),c.jsx(oe,{path:"admin/carriers",element:c.jsx(Use,{})}),c.jsx(oe,{path:"customers",element:c.jsx(yse,{})}),c.jsx(oe,{path:"crm",element:c.jsx(ik,{})}),c.jsx(oe,{path:"accounting",element:c.jsx(wse,{})}),c.jsx(oe,{path:"agents",element:c.jsx(Pse,{})}),c.jsx(oe,{path:"settings",element:c.jsx(_se,{})}),c.jsx(oe,{path:"activity-logs",element:c.jsx(jse,{})})]}),c.jsx(oe,{path:"/carrier-onboarding",element:c.jsx(Bse,{})})]}),c.jsx(oe,{element:c.jsx(C7,{}),children:c.jsxs(oe,{path:"/tms",element:c.jsx(eS,{}),children:[c.jsx(oe,{path:"agent-dashboard",element:c.jsx(Vse,{})}),c.jsx(oe,{path:"crm",element:c.jsx(ik,{})})]})})]})})})}Zp.createRoot(document.getElementById("root")).render(c.jsx(bk.StrictMode,{children:c.jsx(Wse,{})}));
